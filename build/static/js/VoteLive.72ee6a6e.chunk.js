(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{3455:function(e,t,a){"use strict";a.r(t);var n=a(1354),r=a.n(n),s=a(2),c=a.n(s),o=a(8),i=a(5),d=a(16),l=a(15),m=a(21),u=a(20),v=a(0),b=a.n(v),p=a(11),f=a(380),h=a(2949),w=a(18),x=a(22),E=a(2522),g=a.n(E),j=a(3),y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).loadCandidates=Object(i.a)(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.b.getWitnesses();case 2:a=t.sent,n=a.witnesses,e.setState({candidates:n.map(function(e){return Object(o.a)({},e,{votes:0})})});case 5:case"end":return t.stop()}},t)})),e.loadVotes=Object(i.a)(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.b.getLiveVotes();case 2:a=t.sent,e.setState({votes:a});case 4:case"end":return t.stop()}},t)})),e.loadData=Object(i.a)(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.b.getVoteStats();case 2:a=t.sent,e.setState({data:a});case 4:case"end":return t.stop()}},t)})),e.state={candidates:[],data:null,votes:{},colors:g()("mpn65",20)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadCandidates().then(function(){return e.loadVotes()}),this.props.setInterval(function(){e.loadVotes(),e.loadCandidates()},15e3),this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.candidates,a=e.colors,n=e.votes;e.data,t=t.map(function(e){return Object(o.a)({},e,{votes:n[e.address]?n[e.address].votes:0})});var s=r()(t,function(e){return-1*e.votes}).map(function(e,t){return Object(o.a)({},e,{rank:t+1})});return b.a.createElement("main",{className:"container header-overlap pb-3"},b.a.createElement("div",{className:"card mt-3"},b.a.createElement("div",{className:"card-header text-center"},Object(j.c)("live_ranking"),b.a.createElement("div",{className:"small text-center text-muted p-2"},Object(j.c)("live_ranking_msg"))),b.a.createElement("div",{className:"media m-3 mb-0"},b.a.createElement("div",{className:"font-weight-bold text-center border-1 border-secondary",style:{width:25}},"\xa0"),b.a.createElement("div",{className:"mx-2",style:{width:25}},"\xa0"),b.a.createElement("div",{className:"media-body font-weight-bold"},Object(j.c)("candidate")),b.a.createElement("div",{className:"ml-3 text-center font-weight-bold"},Object(j.c)("current_votes"))),b.a.createElement(h.a,{duration:700,easing:"ease",enterAnimation:"elevator",staggerDurationBy:15,staggerDelayBy:20},s.map(function(e,t){return b.a.createElement("div",{key:e.address,className:"media mx-3 mb-3"},b.a.createElement("div",{className:"font-weight-bold text-center border-1 border-secondary",style:Object(o.a)({color:t<15?"#"+a[t]:null},O.rank)},e.rank),b.a.createElement("div",{className:"media-body"},b.a.createElement("span",{className:"mt-0",style:O.row},b.a.createElement(x.a,{address:e.address},e.name||e.url))),b.a.createElement("div",{className:"ml-3 text-center"},b.a.createElement("div",{style:O.votes},b.a.createElement("code",{style:{color:"#3E3F3A"}},b.a.createElement(p.c,{value:e.votes})))))}))))}}]),a}(b.a.Component),O={rank:{fontSize:18,lineHeight:"".concat(25,"px"),borderRadius:"6px",width:"45px"},votes:{fontSize:18,lineHeight:"".concat(25,"px")},row:{lineHeight:"".concat(25,"px"),fontSize:18},avatar:{height:25}};t.default=Object(f.a)(y)}}]);