(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1285:function(t,e,a){"use strict";a(78),a(1419),a(607)},1419:function(t,e,a){},1450:function(t,e,a){"use strict";a.d(e,"a",function(){return i});for(var n=a(174),r={},s=0,o=Object.keys(n.Transaction.Contract.ContractType);s<o.length;s++){var c=o[s];r[n.Transaction.Contract.ContractType[c]]=c}var i=r},3451:function(t,e,a){"use strict";a.r(e),a(270);var n=a(107),r=(a(371),a(31)),s=a(269),o=a.n(s),c=a(2),i=a.n(c),l=a(28),d=a(208),u=a(6),m=a(13),p=a(12),f=a(19),b=a(18),h=a(20),g=(a(1337),a(1336)),O=a(0),k=a.n(O),y=a(10),v=a(374),w=a(27),j=a(15),E=a(22),x=a(381),T=a(23),C=a(1450),_=a(1277),I=a(95),P=a(1335),M=(a(1713),a(370)),N=a.n(M),S=a(280),A=a.n(S),D=a(1308),z=a(3);function L(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function J(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?L(a,!0).forEach(function(e){Object(l.a)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}g.a.RangePicker;var H=function(t){function e(){var t;return Object(m.a)(this,e),(t=Object(f.a)(this,Object(b.a)(e).call(this))).onChange=function(e,a){t.loadTransactions(e,a)},t.loadTransactions=Object(u.a)(i.a.mark(function e(){var a,n,r,s,o,c,l,u,m,p,f,b,h,g,O,k,y,v,w,E,T,C,_,I,P,M,N,S,D,z,L=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0<L.length&&void 0!==L[0]?L[0]:1,n=1<L.length&&void 0!==L[1]?L[1]:20,r=t.props,s=r.location,o=r.match,c=o.params.date,l=parseInt(o.params.date)-864e5,t.setState({loading:!0,page:a,pageSize:n}),u={},m=0,p=Object.entries(Object(x.b)(s));case 8:if(!(m<p.length)){e.next=21;break}f=p[m],b=Object(d.a)(f,2),h=b[0],g=b[1],e.t0=h,e.next="address"===e.t0?16:"block"===e.t0?16:18;break;case 16:return u[h]=g,e.abrupt("break",18);case 18:m++,e.next=8;break;case 21:if(l)return e.next=27,j.b.getTransactions({sort:"-timestamp",date_start:l,date_to:c});e.next=30;break;case 27:e.sent,e.next=46;break;case 30:if(A.a.parse(s.search).address)return e.next=34,Promise.all([j.b.getTransactions(J({sort:"-timestamp",limit:n,start:(a-1)*n},u)),j.b.getTransactions(J({limit:0},u))]).catch(function(t){console.log("error:"+t)});e.next=40;break;case 34:O=e.sent,k=Object(d.a)(O,2),y=k[0],v=y.transactions,w=y.contractMap,E=k[1],T=E.rangeTotal,C=E.total,v.forEach(function(t){w&&(w[t.ownerAddress]?t.ownerIsContract=!0:t.ownerIsContract=!1,w[t.toAddress]?t.toIsContract=!0:t.toIsContract=!1)}),t.setState({total:C,transactions:v,addressLock:!0,rangeTotal:T}),e.next=46;break;case 40:return e.next=42,Promise.all([j.b.getTransactions(J({sort:"-timestamp",limit:n,start:(a-1)*n,start_timestamp:t.start,end_timestamp:t.end},u)),j.b.getTransactions(J({limit:0},u))]).catch(function(t){console.log("error:"+t)});case 42:_=e.sent,I=Object(d.a)(_,2),P=I[0],M=P.transactions,N=P.contractMap,S=I[1],D=S.wholeChainTxCount,z=S.total,M.forEach(function(t){N&&(N[t.ownerAddress]?t.ownerIsContract=!0:t.ownerIsContract=!1,N[t.toAddress]?t.toIsContract=!0:t.toIsContract=!1)}),t.setState({total:z,transactions:M,addressLock:!1,rangeTotal:D});case 46:t.setState({loading:!1});case 47:case"end":return e.stop()}},e)})),t.customizedColumn=function(){var e=t.props.intl;return[{title:"#",dataIndex:"hash",key:"hash",align:"left",className:"ant_table",width:"12%",render:function(t){return k.a.createElement(T.a,null,k.a.createElement(E.h,{hash:t},t))}},{title:o()(e.formatMessage({id:"block"})),dataIndex:"block",key:"block",align:"left",className:"ant_table",render:function(t){return k.a.createElement(E.b,{number:t})}},{title:o()(e.formatMessage({id:"created"})),dataIndex:"timestamp",key:"timestamp",align:"left",render:function(t){return k.a.createElement(D.a,{time:t})}},{title:o()(e.formatMessage({id:"status"})),dataIndex:"confirmed",key:"confirmed",align:"left",className:"ant_table",width:"14%",render:function(t){return t?k.a.createElement("span",null,k.a.createElement("img",{style:{width:"20px",height:"20px"},src:a(1326)})," ",Object(z.c)("full_node_version_confirmed")):k.a.createElement("span",null,k.a.createElement("img",{style:{width:"20px",height:"20px"},src:a(1327)})," ",Object(z.c)("full_node_version_unconfirmed"))}},{title:o()(e.formatMessage({id:"address"})),dataIndex:"ownerAddress",key:"ownerAddress",align:"left",width:"30%",className:"ant_table",render:function(t,a){return k.a.createElement("span",null,a.ownerIsContract?k.a.createElement("span",{className:"d-flex"},k.a.createElement(n.a,{placement:"top",title:o()(e.formatMessage({id:"transfersDetailContractAddress"}))},k.a.createElement(r.a,{type:"file-text",style:{verticalAlign:0,color:"#77838f",lineHeight:1.4}})),k.a.createElement(E.a,{address:t,isContract:!0})):k.a.createElement(E.a,{address:t}))}},{title:o()(e.formatMessage({id:"transaction_type"})),dataIndex:"contractType",key:"contractType",align:"right",className:"ant_table",render:function(t){return k.a.createElement("span",null,C.a[t]&&Object(z.c)("transaction_".concat(C.a[t])))}}]},t.start=N()([2018,5,25]).startOf("day").valueOf(),t.end=N()().valueOf(),t.state={transactions:[],total:0,contractMap:{}},t.addressLock=!1,t}return Object(h.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.loadTransactions()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.location;e.match,a.search!==t.location.search&&this.loadTransactions()}},{key:"onDateOk",value:function(t,e){this.start=t.valueOf(),this.end=e.valueOf();var a=this.state,n=a.page,r=a.pageSize;this.loadTransactions(n,r)}},{key:"render",value:function(){var t=this,e=this.state,a=e.transactions,n=e.total,r=e.rangeTotal,s=e.loading,o=e.addressLock,c=(e.dateStart,e.dateEnd,this.props),i=(c.match,c.intl,this.customizedColumn());return k.a.createElement("main",{className:"container header-overlap pb-3 token_black"},s&&k.a.createElement("div",{className:"loading-style"},k.a.createElement(I.b,null)),k.a.createElement("div",{className:"row"},k.a.createElement("div",{className:"col-md-12 table_pos"},n?k.a.createElement(P.a,{total:n,rangeTotal:r,typeText:"transactions_unit",common:o,isQuestionMark:!1}):"","",k.a.createElement(_.a,{bordered:!0,loading:s,column:i,data:a,total:n,onPageChange:function(e,a){t.loadTransactions(e,a)}}))))}}]),e}(k.a.Component),Q={loadTokens:v.b};e.default=Object(w.connect)(function(t){return{}},Q)(Object(y.h)(H))}}]);