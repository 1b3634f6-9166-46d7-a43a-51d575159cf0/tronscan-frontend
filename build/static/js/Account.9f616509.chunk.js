(window.webpackJsonp=window.webpackJsonp||[]).push([[20,11],{1662:function(e,t,a){"use strict";a.d(t,"a",function(){return w});var n=a(721),r=a.n(n),c=a(18),s=a.n(c),l=a(95),i=a.n(l),o=a(219),m=a.n(o),u=a(2),d=a.n(u),p=a(29),h=a(5),f=a(13),b=a(12),g=a(24),E=a(23),v=a(25),_=a(0),y=a.n(_),k=a(4),O=a(19);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).loadDatas=Object(h.a)(d.a.mark(function e(){var t,n,r,c,s=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:40,r=a.state.filter,e.next=5,O.a.getTokens(j({sort:"rank",limit:n,start:(t-1)*n},r));case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)})),a.handleTableChange=function(e,t,n){var r=j({},a.state.pagination);r.current=e.current,a.setState({pagination:r}),a.fetch(j({pageSize:e.pageSize,page:e.current,sortField:n.field,sortOrder:n.order},t))},a.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setState({loading:!0}),a.props.onPageChange?(a.props.onPageChange(e.page,e.pageSize),a.setState({loading:!1})):a.setState({loading:!1})},a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onReset=function(){a.setState({searchText:""},function(){a.onSearch()})},a.onSearch=function(){var e=a.props.tableData,t=a.state.searchText,n=new RegExp(t,"gi");a.setState({filterDropdownVisible:!1,filtered:!!t,data:e.map(function(e){return e.name.match(n)?j({},e,{name:y.a.createElement("span",null," ",e.name.split(new RegExp("(?<=".concat(t,")|(?=").concat(t,")"),"i")).map(function(e,a){return e.toLowerCase()===t.toLowerCase()?y.a.createElement("span",{key:a,className:"highlight"}," ",e," "):e})," ")}):null}).filter(function(e){return!!e})})},a.setColumn=function(e){function t(e){return function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0}}var n={filterDropdown:y.a.createElement("div",{className:"custom-filter-dropdown"},y.a.createElement(m.a,{ref:function(e){return a.searchInput=e},placeholder:"Search name",value:a.state.searchText,onChange:a.onInputChange,onPressEnter:a.onSearch})," ",y.a.createElement(i.a,{type:"primary",onClick:a.onSearch}," ",Object(k.c)("search")," ")," ",y.a.createElement(i.a,{className:"btn-secondary ml-1",onClick:a.onReset}," ",Object(k.c)("reset")," ")," "),filterIcon:y.a.createElement(s.a,{type:"filter",style:{color:a.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:a.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(e){a.setState({filterDropdownVisible:e},function(){a.searchInput&&a.searchInput.focus()})}},r=[],c=!0,l=!1,o=void 0;try{for(var u,d=e[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var p=u.value;if(p.sorter&&!p.filterDropdown){var h={sorter:t(p.key)};r.push(j({},p,{},h))}else if(!p.sorter&&p.filterDropdown){var f=j({},n);r.push(j({},p,{},f))}else if(p.sorter&&p.filterDropdown){var b=j({sorter:t(p.key)},n);r.push(j({},p,{},b))}else r.push(p)}}catch(g){l=!0,o=g}finally{try{c||null==d.return||d.return()}finally{if(l)throw o}}return r},a.state={filterDropdownVisible:!1,data:[],searchText:"",filtered:!1,pagination:{showQuickJumper:!0,position:e.position||"both",showSizeChanger:!0,defaultPageSize:20,current:e.current||1},loading:!1},a}return Object(v.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){var t=this.props.current,a=this.state.pagination;e.current!=t&&this.setState({pagination:j({},a,{current:t})})}},{key:"render",value:function(){var e=this.props,t=e.total,a=e.loading,n=e.data,c=e.column,s=e.bordered,l=e.pagination,i=void 0===l||l,o=e.scroll,m=e.Footer,u=e.locale,d=e.addr,p=e.transfers,h=(e.contractAddress,e.isPaddingTop,this.setColumn(c)),f=i?j({total:t},this.state.pagination):i;return y.a.createElement("div",null," ",d?y.a.createElement("div",{className:"card table_pos table_pos_addr "+(0==n.length?"table_pos_addr_data":"")+("address"==p?" transfer-mt-100":" transfer-pt-100")},y.a.createElement(r.a,{bordered:s,columns:h,rowKey:function(e,t){return t},dataSource:n,locale:u,scroll:o,footer:m,pagination:f,loading:a,onChange:this.handleTableChange})," "):y.a.createElement("div",{className:"card table_pos"},y.a.createElement(r.a,{bordered:s,columns:h,footer:m,rowKey:function(e,t){return t},dataSource:n,locale:u,scroll:o,pagination:f,loading:a,onChange:this.handleTableChange})," ")," ")}}]),t}(_.Component)},1663:function(e,t,a){e.exports=a.p+"static/media/logo_default.22fc28d0.png"},1685:function(e,t,a){"use strict";var n=a(13),r=a(12),c=a(24),s=a(23),l=a(25),i=a(0),o=a.n(i),m=a(11),u=a(428),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={time:e.time,newTime:Object(u.d)(e.time),timer:null},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.updateTime()}},{key:"updateTime",value:function(){var e=this,t=setInterval(function(){e.setState({newTime:Object(u.d)(e.props.time)})},1e3);this.setState({timer:t})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"render",value:function(){var e=this.state.newTime;return o.a.createElement("div",{className:"token_black table_pos"},o.a.createElement("div",null,e))}}]),t}(o.a.Component);t.a=Object(m.h)(d)},1701:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABGdBTUEAALGPC/xhBQAAA9RJREFUWAnNmc9vG0UUx78zsxsbh0iJ1fyASIRUSBwoN86Vqt4QAgI0nJC4JeKARCu1gnDwpUJCHLhy4tJTWqUcuMAB/gFOICGEECVCgfxAsZGIieOdeX1vnfXaztpe/0jsJ9k7M/vem4/f7vx6VuhXvixkMZmbhrE5eNpHpTIBY/zQnbVVZDInCFwVnjuCP1XCy+9X+ulK9WT0wxc+fj+Yg6dm4Cjbky28/+GCEoqz+1hbq6a1TQe4uWmAXxdg1DyIdFrniXpKOZx4uzDLe1hdtYk6DY3dAb/+ZAZltwRNXoPd4EXtVaEy21j5oNTJGUemjRApvOAvwtIzUBgsakldkDOgah5vXydsfvdfkoq0JUeQChpf5ZZhT2baGQ61XZlD/FT5A4WCa/V7NjISuYuEEyKyebyYebYVTupnH7E8VtjZJOXzbaMnkh53cwRlQGg8db4gHbwTLeJhYbpRIwaUqURG66iFskuQMXAq9QIyj+aHPpVEvfRydYGPLX8+MqkBygoRBAtR48ivpBfwfSGcd2uAsnwNukKk+VWOl0iFXHdVa3DohwO1Bihr63mLUrcY7ls49Q2gr3btztaYFGRXMuVd6WowiAKpj9n8tboLpX4B3Dv1eruCC37U4ZapncIw2lvhxCe5f1K59iandbifS6Xdh1ISHGifPX2WyltwPKnDzWYq7R6V2sGRWed3cSeVN8/4OtwJp9JmJc07Z9J3QOoeV95ta9YJTts/29q13nDa98JtOlHrreS6w1v8AvGHheh5hpyDcp82KQ8LTpwayxHsSahpnWTKGxzR23UXw4Q7depBDjhaZ+qddCoY8wCBfZVVLsVqISRXaYK/4qkkVOABIe9cL481dsybKlPV4emrsbFT2QYHULTOKi3TBEMOG044+FSow6OhVNLLdjJko4MBIxe50pYBrSlH9R6uHSCHBCcwXvZI46jc8VTVATqCbDzjFgd651o7C45KtUPT1t0rvR/ET71p9RwcbrL9v3xu/pynn73WfvqqO13G6kc/1866ARX73uo7+o0B3mN7mRv7Ykk0MszEUpsHL3M6Qk78YyPGIl89iAFf4lyJx+mIcRHldnGtEMSAUqpwrsSpsHGknJISeaNaf4/jpU4SOTm9PVI46Vwd8+wQZxhiQLn5yodFHpF/S3EkotQOVgpN014zoFDd2PgLZiIcQRcKKfmZNzfOBOcsoFKE18uPLhQySh4lRCQ5uyWKkkS6f/fpvufHhM4Sm+SxJkQu0m0PGGmMOIHZHVBAxzoFHEVSrmObRG+EjMpp/4awlTKezBf7/RviMUwweV8zgtReAAAAAElFTkSuQmCC"},1702:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABGdBTUEAALGPC/xhBQAABBhJREFUWAnNWUtPGlEUZmZ4ikQwFGiN0K7qot250MT0J7Qb665rTbsxNGlddOHOTWNMXOmqa+0faNOFTUx04aqbsmik2Gh9oICCPIZHvzPhkplhgJkBpCRw75x7zrnffPeecx9wFpOf5eVlZy6X85bL5SEbPqIo2mu1mo3ccRwnQlSCTHS5XLmbm5v0+vp60UxXnBGjjY0NWywWCwiC4KtUKk4jttDN45vGS51vbm6Kem11Adza2hL29vZCYCgIdni9zrX04KNqt9tP4/H42fb2dkVLRy7rCHBpaclXKBQiAGaVG3Zbp2lQrVYTa2tr6Xa+hFaNeFPu+vp6DEMZ7pa1Fn0I8Ds6NTVV29/fz7bQsWgyiADgMVceIQB8rQx7LL8aGRn5jX6rar9N84mYu2NwhGk0k8k8VIOj56YhpmHF3LinpdxnmUtruBUMUkAAxP0+A2npHnNybHFx0StXaACkVELRKm8cRJ3n+QjFAOu7UTk4OKAc19NUwjoxUiIGbOl0OshsJIC0QpRKpRATDroEiyGwKJElAaTlq0+5TvGuHo/Hh1VkSCHUeACLAgiTAlUCSGurhl5PRZFI5G0gEPg6Pj7+JRgMPuvkvFgsSpg4UOlEDnrSyaCb9nA4/AG7mxfMBxiKHR4evmLPrUok7x+0YijCupWyWbkaHPlBnk3q8ZfNZr087ef0KJvR0QIHP+eXl5cfdfpz87TZ1KlsSK0NuAVsYI/1OAPTNivthPUok47T6bSFQqEoguop7L4dHR190rJtBw457o+WjZaMciJPP1qNWjK/3z8LcLNoewzi3yAy36n1egWO/FqtVltjJVF3pPUMA0VA4fmlHGQvwbH+rUjQdD5wMEG7EpP7M3LYc7DuZ3p1kBbI7PJUUm+ngFgwMqzML5UIYJGCpCQXtqtjcl+kUqkFvJQiTRDIXoMjHEQeT0fDdqDUbWAkoQVSpdcVc8wX1mSRx9vfMoHesgPInoCrY8nxbrc7rReYXI+BhEw+Aqlu5pzcP9WHh4fTws7OTnlmZmYUk9zwXjCfz2eQdr5jhxJBUv2JoX+PgDhRd2TmGcN7u7KyciqBwtEyBSemtvrJZPIXvq/NgGhn43A4CJNFyoMTExPnYLDpyNfOQT/bEL0VjMpFA+D8/LxI1xH97NSIb0yXU2wDyw2AVJmcnDwDi5LQiLNe61Lu83q9Z8xvY6mbm5urYDOQYA2DKsFeAuw1ppvi4L67u1uYnp6m6xDPIABiBI9xmaRYpRoMMkCrq6snSN5SBDHZHZVXAPdX3VcTQMyBGpJ3/I5BSpdHanD0rHm7RQ2gm4tGow9QNZUfyYeeT31Ym5hjti0BMoVBX2B2BEhA/+srYMYklf/tJbocJKvTgZ/O1J3+hqDtHG7NUmb/hvgH1qMV7a6f7wwAAAAASUVORK5CYII="},1705:function(e,t,a){"use strict";var n=a(13),r=a(12),c=a(24),s=a(23),l=a(25),i=a(0),o=a.n(i),m=a(11),u=a(4),d=a(295),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.total,a=e.rangeTotal,n=e.typeText,r=e.common,c=void 0!==r&&r,s=e.intl,l=e.markName,m=void 0===l?"table-question-mark":l,p=e.top,h=void 0===p?"26px":p,f=e.isQuestionMark,b=void 0===f||f,g=e.selected,E=s.formatMessage({id:"view_total"})+" "+a+" "+s.formatMessage({id:n}),v=s.formatMessage({id:"view_total"})+" "+a+" "+s.formatMessage({id:n})+"<br/>("+s.formatMessage({id:"table_info_big"})+")",_=a>1e4?v:E,y=s.formatMessage({id:"table_info_new_tip"});return o.a.createElement(i.Fragment,null,g?o.a.createElement("div",{className:"table_pos_info d-none d-md-block",style:{left:"auto",top:h}},0!==t?o.a.createElement("div",null,Object(u.c)("a_totle")," ",t," ",Object(u.c)(n),b?o.a.createElement("span",{className:"ml-1"},o.a.createElement(d.a,{placement:"top",info:s.formatMessage({id:"select_tip"})})):"",o.a.createElement("br",null),o.a.createElement("span",null,Object(u.d)("date_number_tip",{total:a}),a>2e3?o.a.createElement("span",null,", ",Object(u.c)("date_list_tip")):"")):o.a.createElement("span",null,Object(u.c)("a_totle")," ",t," ",Object(u.c)(n))):c?o.a.createElement("div",{className:"table_pos_info d-none d-md-block",style:{left:"auto",top:h}},_,o.a.createElement("span",{className:"ml-1"},o.a.createElement(d.a,{placement:"top",text:"to_provide_a_better_experience"}))):o.a.createElement("div",{className:"table_pos_info d-none d-md-block",style:{left:"auto",top:h}},a>1e4?o.a.createElement("div",null,Object(u.c)("view_total")," ",a," ",Object(u.c)(n),b?o.a.createElement(d.a,{placement:"top",info:y}):"",o.a.createElement("br",null)," ",o.a.createElement("span",null,"(",Object(u.c)("table_info_big1")),o.a.createElement("span",null,t),o.a.createElement("span",null,Object(u.c)("table_info_big2"),")")):o.a.createElement("span",null,Object(u.c)("view_total")," ",a," ",Object(u.c)(n)),o.a.createElement("span",{className:a>1e4?m:"table-question-mark-small"})))}}]),t}(o.a.Component);t.a=Object(m.h)(p)},1745:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASCAYAAABfJS4tAAAByklEQVR4Aa2RA7AeQRCEu7dipxTbtm3btm3btm0bhdi2bdvJj53nq6vs//y+w3LUg5BwROrF2vu5TtO9XxvHR0Sy423NntvfVpft76o/2vm2RjaEACIEbHhRdSRERggAEr9AtmyUdO/WcDte9ajySIEeARskxzdPVWAYOVLDA1x0r3xGaswGJLZxqAjR4j2qpCLi84EkRCTgfL9Eitu4Q5ot3wzbOdfLDAMxGt4YhiAE4jta9YnfGHBfKXWfgppdsh28Axucdqm0UWYY+EGyaZ/cR3ZbjsedKT4SFM+OxcrSzPi/JQkBOGpg/mOjSQpHnihqZWxY2jGlMqCf2c4YZPNIfx0uW4Ji6erZkJZzE0vzjG7lThjJ4dKeMwiDNiS2RYoZqdWEomd+RHI4NLRoqxQRv9Es3bxgzQVuRQyeW+3yZPjjnbELbi0ICaYUAkB9QCQ2XFrt8mHYiPT7n35MaBgYpZo9IHE+aiSps7T69ZeeLNFofY4sWktsBIa42wp0G3sgUi3KFEW6j6x/y4GwUnNZxpE1lqWXmsszSI3l6f/UXpGxJSKCSovS96m4MK1UXJjuSbVFmXIjoii/OnvMMvPSNqkyP1t8hBAvK0rbVvfapoMAAAAASUVORK5CYII="},1786:function(e,t,a){"use strict";a.d(t,"a",function(){return i});for(var n=a(183),r={},c=0,s=Object.keys(n.Transaction.Contract.ContractType);c<s.length;c++){var l=s[c];r[n.Transaction.Contract.ContractType[l]]=l}var i=r},1811:function(e,t,a){e.exports=a.p+"static/media/market.365c8dc6.png"},1830:function(e,t,a){"use strict";var n=a(221),r=a.n(n),c=a(29),s=a(297),l=a.n(s),i=a(13),o=a(12),m=a(24),u=a(23),d=a(25),p=a(723),h=a.n(p),f=a(0),b=a.n(f),g=a(11),E=a(64),v=a.n(E),_=a(4);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(c.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var O=h.a.RangePicker,x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSizeChange=function(e){var t=e.target.value;"more"===t?(a.setState({RangePickerStatus:!0}),a.setState({dataItem:"none"})):(a.changeDateByItem(t),a.setState({dataItem:t}))},a.onOk=function(e){var t=a.props.onDateOk;a.setState({RangePickerStatus:!1}),t(e[0],e[1])},a.state={dataItemList:[7,14,30],dataItem:7,RangePickerStatus:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"changeDateByItem",value:function(e){var t=this.props.onDateOk,a=this.state.dataItem;e=e||a;var n=v()();t(l()(n).subtract(e,"days"),n)}},{key:"componentDidMount",value:function(){this.changeDateByItem()}},{key:"disabledDate",value:function(e){return e>v()().endOf("day")}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataItemList,n=t.dataItem,c=t.RangePickerStatus,s=this.props.dataStyle;return b.a.createElement("div",{style:k({position:"absolute",top:"30px",textAlign:"right",zIndex:"1",right:0},s)},b.a.createElement(r.a.Group,{value:n,onChange:this.handleSizeChange},a.map(function(e){return b.a.createElement(r.a.Button,{value:e,key:e},Object(_.c)("".concat(e,"day")))}),b.a.createElement(r.a.Button,{value:"more"},Object(_.c)("nav_more"))),b.a.createElement("br",null),b.a.createElement(O,{showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",placeholder:["Start Time","End Time"],onOk:this.onOk,open:c,className:"position-absolute",disabledDate:this.disabledDate,onBlur:function(){e.setState({RangePickerStatus:!1})},style:{top:0,right:0,zIndex:-1,opacity:0}}))}}]),t}(b.a.Component);t.a=Object(g.h)(x)},1948:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(730),r=a.n(n),c=a(29),s=a(13),l=a(12),i=a(24),o=a(23),m=a(25),u=a(0),d=a.n(u),p=a(4),h=a(295),f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(o.a)(t).call(this))).handleToggle=function(t){return function(a){e.setState(Object(c.a)({},t,a)),e.props.handleSwitch(a)}},e.state={hideSmallCurrency:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.hideSmallCurrency,t=this.props,a=t.text,n=void 0===a?"":a,c=t.hoverText,s=void 0===c?"":c,l=t.isHide,i=void 0===l||l;return d.a.createElement("div",{className:"card-title m-0 d-flex"},d.a.createElement(r.a,{checked:e,onChange:this.handleToggle("hideSmallCurrency")}),d.a.createElement("p",{className:"ml-2 mr-2"},Object(p.c)(n)),i?d.a.createElement("div",null,d.a.createElement(h.a,{placement:"top",text:s})):"")}}]),t}(d.a.Component)},1949:function(e,t,a){"use strict";var n=a(294),r=a.n(n),c=a(2),s=a.n(c),l=a(220),i=a(29),o=a(5),m=a(13),u=a(12),d=a(24),p=a(23),h=a(25),f=a(723),b=a.n(f),g=a(0),E=a.n(g),v=a(11),_=a(19),y=a(26),k=a(4),O=a(103),x=a(31),j=a(1786),w=a(1662),N=a(1705),S=a(1830),C=a(64),T=a.n(C),A=a(299),M=a(65),P=a(6),R=a(724),B=a.n(R),I=a(1685);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(i.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}b.a.RangePicker;var L=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e,t){n.loadTransactions(e,t)},n.loadTransactions=Object(o.a)(s.a.mark(function e(){var t,a,r,c,i,o,m,u,d,p,h,f,b,g,E,v,y,k,O,x,j,w,N,S,C=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.length>0&&void 0!==C[0]?C[0]:1,a=C.length>1&&void 0!==C[1]?C[1]:20,r=n.props,c=r.filter,i=r.isinternal,o=void 0!==i&&i,m=r.address,u=void 0!==m&&m,d=r.getCsvUrl,n.setState({loading:!0,page:t,pageSize:a}),f=0,o){e.next=26;break}if(!u){e.next=16;break}return e.next=9,Promise.all([_.a.getTransactions(z({sort:"-timestamp",limit:a,start:(t-1)*a,start_timestamp:n.start,end_timestamp:n.end},c)),_.a.getTransactions(z({limit:0},c)),_.a.getTransactions(z({limit:0,start_timestamp:n.start,end_timestamp:n.end},c))]).catch(function(e){console.log("error:"+e)});case 9:b=e.sent,g=Object(l.a)(b,3),p=g[0].transactions,h=g[1].total,f=g[2].rangeTotal,e.next=24;break;case 16:return e.next=18,Promise.all([_.a.getTransactions(z({limit:a,start:(t-1)*a,sort:"-timestamp",total:n.state.total},c)),_.a.getTransactions(z({limit:0},c))]).catch(function(e){console.log("error:"+e)});case 18:E=e.sent,v=Object(l.a)(E,2),p=v[0].transactions,y=v[1],h=y.total,f=y.rangeTotal;case 24:e.next=37;break;case 26:return k=z({start_timestamp:n.start,end_timestamp:n.end},c),O=B.a.stringify(z({format:"csv"},k)),d("".concat(P.e,"/api/internal-transaction?").concat(O)),e.next=31,Promise.all([_.a.getInternalTransaction(z({limit:a,start:(t-1)*a},k)),_.a.getCountByType(z({type:"internal"},c))]).catch(function(e){console.log("error:"+e)});case 31:x=e.sent,j=Object(l.a)(x,2),w=j[0],N=j[1].count,S=Object(M.a)(w.list,"tokenId","callValue","valueInfoList"),p=S,h=N||w.total,f=w.rangeTotal;case 37:n.setState({transactions:p,total:h,rangeTotal:f,loading:!1});case 38:case"end":return e.stop()}},e)})),n.customizedColumn=function(){var e=n.props,t=e.intl;e.isinternal;return[{title:r()(t.formatMessage({id:"hash"})),dataIndex:"hash",key:"hash",align:"left",className:"ant_table",render:function(e,t,a){return E.a.createElement(x.a,null,E.a.createElement(y.h,{hash:e},e))}},{title:r()(t.formatMessage({id:"status"})),dataIndex:"confirmed",key:"confirmed",align:"left",className:"ant_table",width:"15%",render:function(e,t,n){return e?E.a.createElement("span",null,E.a.createElement("img",{style:{width:"20px",height:"20px"},src:a(1701)})," ",Object(k.c)("full_node_version_confirmed")):E.a.createElement("span",null,E.a.createElement("img",{style:{width:"20px",height:"20px"},src:a(1702)})," ",Object(k.c)("full_node_version_unconfirmed"))}},{title:r()(t.formatMessage({id:"age"})),dataIndex:"timestamp",key:"timestamp",align:"left",className:"ant_table",width:"14%",render:function(e,t,a){return E.a.createElement(I.a,{time:e})}},{title:r()(t.formatMessage({id:"contract_type"})),dataIndex:"contractType",key:"contractType",align:"right",width:"20%",className:"ant_table _text_nowrap",render:function(e,t,a){return E.a.createElement("span",null,j.a[e])}}]},n.trc20CustomizedColumn=function(){var e=n.props.intl;return[{title:r()(e.formatMessage({id:"hash"})),dataIndex:"hash",key:"hash",align:"left",className:"ant_table",render:function(e,t,a){return E.a.createElement(x.a,null,E.a.createElement(y.h,{hash:e},e))}},{title:r()(e.formatMessage({id:"block"})),dataIndex:"block",key:"block",align:"left",className:"ant_table",width:"10%",render:function(e,t,a){return E.a.createElement(y.b,{number:t.block})}},{title:r()(e.formatMessage({id:"age"})),dataIndex:"timestamp",key:"timestamp",align:"left",className:"ant_table",width:"14%",render:function(e,t,a){return E.a.createElement(I.a,{time:e})}},{title:r()(e.formatMessage({id:"from"})),dataIndex:"from",key:"from",align:"left",className:"ant_table",render:function(e,t,a){return E.a.createElement(y.a,{address:e},e)}},{title:"",className:"ant_table",width:"30px",render:function(e,t,n){return E.a.createElement("img",{src:a(1745)})}},{title:r()(e.formatMessage({id:"to"})),dataIndex:"to",key:"to",align:"left",className:"ant_table",render:function(e,t,a){return E.a.createElement(y.a,{address:e},e)}},{title:r()(e.formatMessage({id:"result"})),dataIndex:"rejected",key:"rejected",align:"left",className:"ant_table _text_nowrap",render:function(e,t,a){return E.a.createElement("span",null,e?"FAIL":"SUCCESS")}},{title:r()(e.formatMessage({id:"amount"})),dataIndex:"valueInfoList",key:"valueInfoList",align:"right",className:"ant_table _text_nowrap",render:function(e,t,a){return t.valueInfoList.length?t.valueInfoList.map(function(e,a){return E.a.createElement("span",{key:a},E.a.createElement(A.a,{value:e}),E.a.createElement("span",{className:a==t.valueInfoList.length-1?"d-none":""},", "))}):"-"}}]},n.start=T()([2018,5,25]).startOf("day").valueOf(),n.end=T()().valueOf(),n.state={filter:{},transactions:[],total:0,emptyState:e.EmptyState||E.a.createElement(O.b,null,"Loading Transactions")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.isBlock&&this.loadTransactions()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.filter,n=t.page;e.filter.address!==a.address&&"account"==n.router&&this.loadTransactions()}},{key:"onDateOk",value:function(e,t){this.start=e.valueOf(),this.end=t.valueOf(),this.loadTransactions()}},{key:"render",value:function(){var e=this,t=this.state,a=t.transactions,n=t.total,r=t.rangeTotal,c=t.loading,s=(t.EmptyState,this.props),l=s.intl,i=s.isinternal,o=s.isBlock,m=void 0!==o&&o,u=s.address,d=void 0!==u&&u,p=s.filter.contract,h=i?this.trc20CustomizedColumn():this.customizedColumn();l.formatMessage({id:"view_total"}),l.formatMessage({id:"transactions_unit"});return E.a.createElement("div",{className:"token_black table_pos mt-5"},c&&E.a.createElement("div",{className:"loading-style"},E.a.createElement(O.b,null)),E.a.createElement("div",{className:"d-flex justify-content-between w-100",style:{position:"absolute",left:0,top:"-28px"}},n&&p&&i?E.a.createElement("div",{className:"d-flex align-items-center"},E.a.createElement("i",{class:"fas fa-exclamation-circle mr-2",style:{color:"#999999"}}),E.a.createElement("span",{className:"flex-1",style:{width:"700px"}},Object(k.c)("interTrx_tip_contract"))):"",m?"":E.a.createElement(S.a,{onDateOk:function(t,a){return e.onDateOk(t,a)},dataStyle:{marginTop:"-1.6rem"}})),!c&&E.a.createElement(N.a,{total:n,isQuestionMark:!m,rangeTotal:r,typeText:p&&i?"inter_contract_unit":"transactions_unit",common:!d,top:p?"10px":"-28px",selected:!0}),c||0!==a.length?E.a.createElement(w.a,{bordered:!0,loading:c,column:h,data:a,total:r>2e3?2e3:r,onPageChange:function(t,a){e.loadTransactions(t,a)}}):E.a.createElement("div",{className:"p-3 text-center no-data"},Object(k.c)("no_transactions")))}}]),t}(E.a.Component);t.a=Object(v.h)(L)},3537:function(e,t,a){"use strict";a.r(t);var n,r=a(219),c=a.n(r),s=a(71),l=a.n(s),i=a(220),o=a(44),m=a.n(o),u=a(2),d=a.n(u),p=a(5),h=a(13),f=a(12),b=a(24),g=a(23),E=a(25),v=a(0),y=a.n(v),k=a(4),O=a(79),x=a(70),j=a(17),w=a.n(j),N=a(11),S=a(286),C=a(148),T=a(1948),A=a(36),M=a(9),P=a(19),R=a(6),B=a(57),I=a(67),D=a(121),z=a.n(D),L=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=a.props,n=t.onChange,r=t.decimals,c=void 0===r?6:r,s=t.min,l=void 0===s?null:s,i=t.max,o=void 0===i?null:i;if(n){var m=e.target.value;m=parseFloat(m),isNaN(m)?m="":(m=z()(m,c),null!==l&&(m=m>l?m:l),null!==o&&(m=m>o?o:m)),n(m)}},a.onKeyDownCheck=function(e){if("E"===String.fromCharCode(e.which))return e.preventDefault(),!1},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.onChange,Object(I.a)(e,["onChange"]));return y.a.createElement("input",Object.assign({type:"text",onKeyDown:this.onKeyDownCheck,onChange:this.onChange},t))}}]),t}(y.a.Component),W=a(14),U=a.n(W),F=a(150),V=Object(A.connect)(function(e){return{account:e.app.account,wallet:e.app.wallet,tokenBalances:e.account.tokens,trxBalance:e.account.trxBalance||e.account.balance}},{reloadWallet:B.c})(n=Object(N.h)(n=Object(F.a)(n=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).hideModal=function(){var e=a.props.onHide;e&&e()},a.confirmModal=function(){var e=a.props.onConfirm,t=a.state.amount;e&&e({amount:t})},a.onAmountChanged=function(e){var t=a.props,n=t.trxBalance,r=t.intl,c=parseInt(e);isNaN(c)?c="":(c>Math.floor(n)?a.setState({freezeError:"".concat(r.formatMessage({id:"freeze_balance_limit"}))}):a.setState({freezeError:""}),c=c>0?Math.floor(c):Math.abs(c)),a.setState({amount:c},function(){c?a.getCalculat():a.setState({getcalculate:0})})},a.freeze=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i,o,m,u,p,h,f,b,g,E,v,_,y,k;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.account,r=t.onError,c=t.wallet,s=a.state,l=s.amount,i=s.selectedResource,o=s.receiver,s.confirmed){e.next=4;break}return e.abrupt("return");case 4:if(a.setState({loading:!0}),e.prev=5,h=a.props.tronWeb(),f=a.props.account,b=f.tronWeb,g=f.sunWeb,u=i?"ENERGY":"BANDWIDTH",!R.v){e.next=47;break}if(!U.a.get("islogin")&&"ACCOUNT_LEDGER"!==a.props.wallet.type&&"ACCOUNT_TRONLINK"!==a.props.wallet.type){e.next=40;break}if("ACCOUNT_LEDGER"!==a.props.wallet.type){e.next=24;break}if(""!==o){e.next=18;break}return e.next=15,h.transactionBuilder.freezeBalance(l*R.E,3,u,c.address);case 15:E=e.sent,e.next=21;break;case 18:return e.next=20,h.transactionBuilder.freezeBalance(l*R.E,3,u,c.address,o);case 20:E=e.sent;case 21:return e.next=23,Object(x.c)(E,h);case 23:p=e.sent;case 24:if("ACCOUNT_TRONLINK"!==a.props.wallet.type){e.next=37;break}if(""!==o){e.next=31;break}return e.next=28,b.transactionBuilder.freezeBalance(l*R.E,3,u,b.defaultAddress.base58).catch(function(e){return!1});case 28:v=e.sent,e.next=34;break;case 31:return e.next=33,b.transactionBuilder.freezeBalance(l*R.E,3,u,b.defaultAddress.base58,o).catch(function(e){return!1});case 33:v=e.sent;case 34:return e.next=36,Object(x.c)(v,b);case 36:p=e.sent;case 37:m=p,e.next=45;break;case 40:return e.next=42,P.a.freezeBalance(n.address,l*R.E,3,i,o)(n.key);case 42:_=e.sent,y=_.success,m=y;case 45:e.next=61;break;case 47:if("ACCOUNT_TRONLINK"!==a.props.wallet.type&&"ACCOUNT_PRIVATE_KEY"!==a.props.wallet.type){e.next=61;break}if(""!==o){e.next=54;break}return e.next=51,g.sidechain.transactionBuilder.freezeBalance(l*R.E,3,u,g.sidechain.defaultAddress.base58).catch(function(e){return!1});case 51:k=e.sent,e.next=57;break;case 54:return e.next=56,g.sidechain.transactionBuilder.freezeBalance(l*R.E,3,u,g.sidechain.defaultAddress.base58,o).catch(function(e){return!1});case 56:k=e.sent;case 57:return e.next=59,Object(x.e)(k,g);case 59:p=e.sent,m=p;case 61:if(!m){e.next=66;break}a.confirmModal({amount:l}),a.setState({loading:!1}),e.next=67;break;case 66:throw new Error("Failed to freeze");case 67:e.next=73;break;case 69:e.prev=69,e.t0=e.catch(5),console.error(e.t0),r&&r();case 73:case"end":return e.stop()}},e,null,[[5,69]])})),a.resourceSelectChange=function(e){a.setState({selectedResource:Number(e)},function(){a.getCalculat()})},a.setReceiverAddress=function(e){a.setState({receiver:e})},a.state={loading:!1,confirmed:!1,amount:"",resources:[{label:"gain_bandwith",value:0},{label:"gain_energy",value:1}],selectedResource:0,receiver:"",oneEnergy:0,oneBandwidth:0,getcalculate:0,freezeError:""},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.reloadWallet(),this.getFrozenEnergy(1),this.getFrozenBandwidth(1)}},{key:"getFrozenEnergy",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.account.tronStationSDK,n=this.state.amount,!t){e.next=9;break}return e.next=5,a.energy.trx2FrozenEnergy(1);case 5:r=e.sent,this.setState({oneEnergy:r}),e.next=14;break;case 9:if(!n){e.next=14;break}return e.next=12,a.energy.trx2FrozenEnergy(n);case 12:c=e.sent,this.setState({getcalculate:c});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getFrozenBandwidth",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.account.tronStationSDK,n=this.state.amount,!t){e.next=9;break}return e.next=5,a.bp.trx2FrozenBandwidth(1);case 5:r=e.sent,this.setState({oneBandwidth:r}),e.next=14;break;case 9:if(!n){e.next=14;break}return e.next=12,a.bp.trx2FrozenBandwidth(n);case 12:c=e.sent,this.setState({getcalculate:c});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCalculat",value:function(){this[["getFrozenBandwidth","getFrozenEnergy"][this.state.selectedResource]]()}},{key:"render",value:function(){var e=this,t=this.state,a=t.receiver,n=t.amount,r=t.confirmed,c=(t.loading,t.resources),s=t.selectedResource,i=t.oneEnergy,o=t.oneBandwidth,m=t.getcalculate,u=t.freezeError,d=this.props,p=d.trxBalance,h=d.frozenTrx,f=d.intl;p=p||0;var b=n>0&&p>=n&&r,g=y.a.createElement("span",{className:"pt-2 text-left",style:{color:"red",display:"block"}},u);return y.a.createElement(M.c,{isOpen:!0,toggle:this.hideModal,fade:!1,className:"modal-dialog-centered _freezeContent"},y.a.createElement(M.f,{className:"text-center _freezeHeader",toggle:this.hideModal},Object(k.c)("freeze")),y.a.createElement(M.d,{className:"text-center _freezeBody"},y.a.createElement("div",{className:"form-group"},y.a.createElement("div",{className:"text-left _power"},Object(k.c)("current_power"),": ",y.a.createElement("span",{style:{fontWeight:800}},h/R.E))),y.a.createElement("div",{className:"form-group"},y.a.createElement("input",{type:"text",placeholder:f.formatMessage({id:"receive_address"}),onChange:function(t){return e.setReceiverAddress(t.target.value)},className:"form-control",value:a})),y.a.createElement("div",{className:"form-group"},y.a.createElement("div",{style:{position:"relative"}},y.a.createElement("button",{type:"button",onClick:function(){e.setState({amount:Math.floor(p)})},style:K.maxButton},"MAX"),y.a.createElement(L,{min:1,decimals:0,value:n,placeholder:f.formatMessage({id:"trx_amount"}),className:"form-control text-left",style:{marginTop:"12px",background:"#F3F3F3",border:"1px solid #EEEEEE"},onChange:this.onAmountChanged})),u&&g),y.a.createElement("div",{className:"form-group"},y.a.createElement("select",{className:"custom-select",value:s,onChange:function(t){e.resourceSelectChange(t.target.value)}},c.map(function(e,t){return y.a.createElement("option",{key:t,value:e.value},f.formatMessage({id:e.label}))}))),Boolean(0==s&&m)&&y.a.createElement("div",{className:"text-left d-flex align-items-center"},y.a.createElement("span",{className:"col-red mr-2"},"1TRX \u2248 ",y.a.createElement(N.c,{value:o}),Object(k.c)("bandwidth"),", ",Object(k.c)("Expected_acquisition"),"  \xa0 ",y.a.createElement(N.c,{value:m})," \xa0",Object(k.c)("bandwidth")," "),y.a.createElement(l.a,{placement:"top",title:Object(k.c)("energy_more"),overlayStyle:{maxWidth:"320px"}},y.a.createElement("div",{className:"question-mark"},y.a.createElement("i",null,"?")))),Boolean(1==s&&m)&&y.a.createElement("div",{className:"text-left d-flex align-items-center"},y.a.createElement("span",{className:"col-red mr-2"},"1TRX \u2248 ",y.a.createElement(N.c,{value:i}),Object(k.c)("energy"),", ",Object(k.c)("Expected_acquisition")," \xa0 ",y.a.createElement(N.c,{value:m}),"  \xa0",Object(k.c)("energy")),y.a.createElement(l.a,{placement:"top",title:Object(k.c)("bandwidth_more"),overlayStyle:{maxWidth:"320px"}},y.a.createElement("div",{className:"question-mark"},y.a.createElement("i",null,"?")))),y.a.createElement("div",{className:"form-check"},y.a.createElement("input",{type:"checkbox",className:"form-check-input",onChange:function(t){return e.setState({confirmed:t.target.checked})}}),y.a.createElement("label",{className:"form-check-label _freeze"},Object(k.c)("token_freeze_confirm_message_0")," ",y.a.createElement("b",null,y.a.createElement(N.c,{value:n})," TRX")," ",Object(k.b)("token_freeze_confirm_message_1"))),y.a.createElement("p",{className:"mt-3"},y.a.createElement("button",{className:"btn btn-primary col-sm",disabled:!b,onClick:this.freeze,style:{background:"#4A90E2",borderRadius:"0px",border:"0px"}},y.a.createElement("i",{className:"fa fa-snowflake mr-2"}),Object(k.c)("freeze")))))}}]),t}(y.a.PureComponent))||n)||n)||n,K={maxButton:{position:"absolute",right:0,top:0,background:"none",height:"35px",border:"none",cursor:"pointer"}},H=a(26),X=a(55),G=a.n(X),q=a(2020).isWebUri,Y=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).isValid=function(){return e.state.check&&e.isValidUrl()},e.isValidUrl=function(){var t=e.state.url;return t.length>0&&q(t)},e.doApply=Object(p.a)(d.a.mark(function t(){var a,n,r,c,s,l,i,o,m,u,p,h,f,b,g,E,v;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.account,c=n.isTronLink,s=e.state.url,e.setState({loading:!0}),!R.v){t.next=23;break}if(1!==c){t.next=16;break}return"ACCOUNT_LEDGER"===e.props.walletType.type?l=e.props.tronWeb():"ACCOUNT_TRONLINK"===e.props.walletType.type&&(l=r.tronWeb),t.next=8,l.transactionBuilder.applyForSR(l.defaultAddress.hex,s);case 8:return i=t.sent,t.next=11,Object(x.c)(i,l);case 11:o=t.sent,m=o.result,a=m,t.next=21;break;case 16:return t.next=18,P.a.applyForDelegate(r.address,s)(r.key);case 18:u=t.sent,p=u.success,a=p;case 21:t.next=42;break;case 23:if(1!==c){t.next=34;break}return t.next=26,r.sunWeb.sidechain.transactionBuilder.applyForSR(r.sunWeb.sidechain.defaultAddress.hex,s).catch(function(e){return console.log(e)});case 26:return h=t.sent,t.next=29,Object(x.e)(h,r.sunWeb);case 29:f=t.sent,b=f.result,a=b,t.next=42;break;case 34:return t.next=36,r.sunWeb.sidechain.transactionBuilder.applyForSR(r.sunWeb.sidechain.defaultAddress.hex,s).catch(function(e){return console.log(e)});case 36:return g=t.sent,t.next=39,Object(x.e)(g,r.sunWeb);case 39:E=t.sent,v=E.result,a=v;case 42:e.setState({loading:!1}),a?e.confirm():e.setState({modal:y.a.createElement(G.a,{warning:!0,title:Object(k.c)("error"),onConfirm:e.hideModal},Object(k.c)("apply_representative_error_message_0")," ",y.a.createElement("br",null),Object(k.c)("apply_representative_error_message_1"))});case 44:case"end":return t.stop()}},t)})),e.hideModal=function(){e.setState({modal:null})},e.confirm=function(){var t=e.props.onConfirm;t&&t()},e.cancel=function(){var t=e.props.onCancel;t&&t()},e.state={url:"",check:!1,applyResponse:null,loading:!1,modal:null},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.check,n=t.loading,r=t.modal,c=t.url;return r||y.a.createElement(M.c,{isOpen:!0,toggle:this.cancel,fade:!1,size:"lg",className:"modal-dialog-centered"},y.a.createElement(M.f,{className:"text-center _applyHeader",toggle:this.cancel},Object(k.c)("Super Representatives")),y.a.createElement(M.d,null,y.a.createElement("p",{className:"card-text text-left _applyDesc"},Object(k.b)("apply_for_delegate_description")),y.a.createElement("hr",null),y.a.createElement("p",{className:"text-left"},y.a.createElement("label",{className:"_applyTitle"},Object(k.c)("your_personal_website_address")),y.a.createElement("input",{className:"form-control text-left "+(a&&!this.isValidUrl()?" is-invalid":""),type:"text",placeholder:"https://",style:{borderRadius:"0px",background:"#F3F3F3",border:"1px solid #EEEEEE "},value:c,onChange:function(t){return e.setState({url:t.target.value})}}),y.a.createElement("div",{className:"invalid-feedback text-left text-danger"},Object(k.c)("invalid_url"))),y.a.createElement("div",{className:"text-center"},y.a.createElement("div",{className:"form-check"},y.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:a,onChange:function(t){return e.setState({check:t.target.checked})}}),y.a.createElement("label",{className:"form-check-label _apply"},Object(k.c)("understand_tron_sr_message_0"),y.a.createElement("b",null," ",y.a.createElement(N.c,{value:R.V})," TRX")," ",Object(k.b)("understand_tron_sr_message_1")))),y.a.createElement("div",{className:"pt-3"},y.a.createElement("p",{className:"text-center"},y.a.createElement("button",{disabled:!this.isValid()||n,className:"btn btn-success",style:{width:"220px",background:"#69C265"},onClick:this.doApply},Object(k.c)("submit"))))))}}]),t}(v.Component);var Q=Object(A.connect)(function(e){return{account:e.app.account,walletType:e.app.wallet}},{})(Y),J=a(2952),Z=a(2457),$=a.n(Z),ee=(y.a.PureComponent,function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).isValid=function(){var t=e.state.name;return t.length<8?[!1,Object(k.c)("name_to_short")]:t.length>32?[!1,Object(k.c)("name_to_long")]:/^[a-zA-Z0-9_-]+$/.test(t)?[!0]:[!1,Object(k.c)("permitted_characters_message")]},e.hideModal=function(){e.setState({modal:null})},e.confirm=function(){var t=e.props.onConfirm,a=e.state.name;t&&t(a),e.setState({disabled:!0})},e.cancel=function(){var t=e.props.onCancel;t&&t()},e.state={name:"",disabled:!1},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.modal,n=t.name,r=t.disabled,c=this.isValid(),s=Object(i.a)(c,2),l=s[0],o=s[1];return a||y.a.createElement(M.c,{isOpen:!0,toggle:this.cancel,fade:!1,size:"lg",className:"modal-dialog-centered"},y.a.createElement(M.f,{className:"text-center",toggle:this.cancel},Object(k.c)("set_name")),y.a.createElement(M.d,null,y.a.createElement("p",{className:"text-center"},y.a.createElement("label",{className:"text-danger"},Object(k.c)("unique_account_message")),y.a.createElement("input",{className:"form-control text-center "+(0===n.length||l?"":" is-invalid"),type:"text",placeholder:"Account Name",value:n,onChange:function(t){return e.setState({name:t.target.value})}}),o?y.a.createElement("div",{className:"invalid-feedback text-center text-danger"},o):null),y.a.createElement("div",{className:"pt-3"},y.a.createElement("p",{className:"text-center"},y.a.createElement("button",{disabled:r||!l,className:"btn btn-success",onClick:this.confirm},Object(k.c)("change_name"))))))}}]),t}(v.Component));var te=Object(A.connect)(function(e){return{}},{})(ee),ae=a(58),ne=a.n(ae),re=a(91),ce=a.n(re),se=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).isValidFirstToken=function(){var t=e.state,a=t.firstTokenBalances,n=t.firstTokenBalance;return n>a?[!1,Object(k.c)("creat_valid")]:/^([1-9][0-9]+|[1-9])$/.test(n)?[!0]:[!1,Object(k.c)("operate_txn_pair_message")]},e.isValidSecondToken=function(){var t=e.state.secondTokenBalance;return t>e.props.currentWallet.balance/1e6?[!1,Object(k.c)("creat_valid")]:t<e.props.dealPairTrxLimit?[!1,Object(k.c)("create_deal_pair_input_tip")]:/^([1-9][0-9]+|[1-9])$/.test(t)?[!0]:[!1,Object(k.c)("isValidSecondToken")]},e.hideModal=function(){e.setState({modal:null})},e.create=Object(p.a)(d.a.mark(function t(){var a,n,r,c,s,l,i,o,m,u;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.onCreate,a.currentWallet,r=e.state,c=r.firstTokenId,s=r.secondTokenId,l=r.firstTokenBalance,i=r.secondTokenBalance,o=r.firstTokenPrecision,m=Math.ceil(parseFloat(l)*Math.pow(10,o)),u=parseFloat(i)*R.E,n&&n(c,s,m,u),e.setState({disabled:!0});case 6:case"end":return t.stop()}},t)})),e.cancel=function(){var t=e.props.onCancel;t&&t()},e.firstTokenIdChange=function(t){var a=e.props,n=(a.account,a.currentWallet),r=e.state.allowExchange,c=ce()(r,{map_token_id:t}),s=ne()(n.tokenBalances,{map_token_id:t}),l=ne()(n.tokenBalances,{map_token_name:"TRX"});e.setState({firstTokenId:t,secondTokenId:"_",secTokenIdArr:c,firstTokenBalances:s?s.balance:0,secTokenBalances:l?l.balance:0,firstTokenAmount:s?s.map_amount:0,secTokenAmount:l?l.map_amount:0,firstTokenPrecision:s.map_token_precision},function(){})},e.secondTokenIdChange=function(t){var a=e.props.currentWallet,n=ne()(a.tokenBalances,{name:t});e.setState({secondTokenId:t,secTokenBalances:n.balance},function(){})},e.state={name:"",disabled:!1,allowExchange:[],secTokenIdArr:[],firstTokenId:"",secondTokenId:"",firstTokenBalance:"",secondTokenBalance:"",firstTokenAmount:"",secTokenAmount:"",firstTokenPrecision:""},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"exchangeToken",value:function(){var e=this.props.currentWallet.tokenBalances.filter(function(e){if(e.balance>0&&"_"!==e.name)return e});this.setState({allowExchange:e},function(){})}},{key:"componentDidMount",value:function(){this.exchangeToken()}},{key:"render",value:function(){var e=this,t=this.props,a=(t.currentWallet,t.intl),n=this.state,r=n.modal,c=n.firstTokenId,s=(n.secTokenIdArr,n.secondTokenId),l=n.firstTokenBalances,o=n.secTokenBalances,m=n.firstTokenBalance,u=n.secondTokenBalance,d=n.allowExchange,p=n.disabled,h=n.firstTokenAmount,f=n.secTokenAmount,b=this.isValidFirstToken(),g=Object(i.a)(b,2),E=g[0],v=g[1],_=this.isValidSecondToken(),O=Object(i.a)(_,2),x=O[0],j=O[1];return r||y.a.createElement(M.c,{isOpen:!0,toggle:this.cancel,fade:!1,size:"md",className:"modal-dialog-centered"},y.a.createElement(M.f,{className:"text-center",toggle:this.cancel},y.a.createElement("div",null,y.a.createElement("i",{className:"fa fa-plus-square"}),"\xa0",Object(k.c)("create_trading_pairs")),Object(k.c)("create_deal_pair_input_tip2")),y.a.createElement(M.d,null,y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-6"},y.a.createElement("label",null,Object(k.c)("name_of_the_token")),y.a.createElement("select",{className:"custom-select",value:c,onChange:function(t){e.firstTokenIdChange(t.target.value)}},c?"":Object(k.a)("select_the_name_of_the_Token"),d.map(function(e,t){return y.a.createElement("option",{key:t,value:e.map_token_id},e.map_token_name,"[ID:",e.map_token_id,"]")}))),y.a.createElement("div",{className:"col-md-6"},y.a.createElement("label",null,Object(k.c)("balance"),h>=0?y.a.createElement("span",null,"(",h,")"):""),y.a.createElement("input",{className:"form-control"+(0===m.length||E?"":" is-invalid"),type:"text",placeholder:a.formatMessage({id:"enter_the_amount"}),max:l,defaultValue:m,onInput:function(t){return e.setState({firstTokenBalance:t.target.value})}}),y.a.createElement("div",{className:"invalid-feedback text-left text-danger"},v))),y.a.createElement("div",{className:"row mt-4"},y.a.createElement("div",{className:"col-md-6"},y.a.createElement("label",null,Object(k.c)("name_of_the_token")),y.a.createElement("select",{className:"custom-select",value:s,onChange:function(t){e.secondTokenIdChange(t.target.value)}},y.a.createElement("option",{value:"TRX"},"TRX"))),y.a.createElement("div",{className:"col-md-6"},y.a.createElement("label",null,Object(k.c)("balance"),f>=0?y.a.createElement("span",null,"(",f,")"):""),y.a.createElement("input",{className:"form-control"+(0===u.length||x?"":" is-invalid"),type:"text",placeholder:a.formatMessage({id:"enter_the_amount"}),max:o,defaultValue:u,onInput:function(t){return e.setState({secondTokenBalance:t.target.value})}}),y.a.createElement("div",{className:"invalid-feedback text-left text-danger"},j))),this.state.firstTokenId&&this.state.firstTokenBalance&&this.state.secondTokenBalance>=this.props.dealPairTrxLimit?y.a.createElement("div",{className:"row mt-4"},y.a.createElement("div",{className:"col-md-12"},Object(k.c)("publish_price"),":",y.a.createElement("span",null,this.state.firstTokenId,"/TRX \u2248 ",(this.state.secondTokenBalance/this.state.firstTokenBalance).toFixed(6)))):null,y.a.createElement("div",{className:"pt-4"},y.a.createElement("p",{className:"text-center"},y.a.createElement("button",{disabled:p||!E||!x,className:"btn btn-danger",style:{width:"100%"},onClick:this.create},Object(k.c)("create_trading_pairs"))))))}}]),t}(y.a.PureComponent);var le={reloadWallet:B.c},ie=Object(A.connect)(function(e){return{account:e.app.account,wallet:e.wallet,currentWallet:e.wallet.current}},le)(Object(N.h)(se)),oe=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).isValid=function(){var t=e.state.tokenQuant,a=e.props,n=a.inject,r=a.currentWallet.balance/1e6;return!n&&t>=r?[!1,Object(k.c)("withdraw_all")]:e.props.dealPairTrxLimit&&t<e.props.dealPairTrxLimit?[!1,Object(k.c)("pool_revert")]:/^([1-9][0-9]+|[1-9])$/.test(t)?[!0]:[!1,Object(k.c)("operate_txn_pair_message")]},e.hideModal=function(){e.setState({modal:null})},e.inject=Object(p.a)(d.a.mark(function t(){var a,n,r,c,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.onInject,r=a.exchange,c=e.state.tokenQuant,"_",s=parseFloat(c*R.E),n&&n(r.exchange_id,"_",s),e.setState({disabled:!0});case 6:case"end":return t.stop()}},t)})),e.withdraw=Object(p.a)(d.a.mark(function t(){var a,n,r,c,s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.onWithdraw,r=a.exchange,c=e.state.tokenQuant,"_",s=parseFloat(c*R.E),n&&n(r.exchange_id,"_",s),e.setState({disabled:!0});case 6:case"end":return t.stop()}},t)})),e.cancel=function(){var t=e.props.onCancel;t&&t()},e.tokenIdChange=function(t){var a=e.props,n=(a.currentWallet,a.exchange),r=n.first_token_id==t?n.first_token_balance:n.second_token_balance;e.setState({tokenId:t,tokenBalances:r},function(){})},e.state={tokenId:"_",tokenBalances:"",tokenQuant:"",disabled:!1},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.exchange,n=t.inject,r=t.intl,c=t.dealPairTrxLimit,s=[],l="_"==a.first_token_id?"TRX":a.first_token_id,o="_"==a.second_token_id?"TRX":a.second_token_id;s.push(l),s.push(o);var m=this.state,u=m.modal,d=(m.tokenId,m.tokenQuant),p=m.disabled,h=(m.tokenBalances,this.isValid()),f=Object(i.a)(h,2),b=f[0],g=f[1];return u||y.a.createElement("div",null,y.a.createElement(M.c,{isOpen:!0,toggle:this.cancel,fade:!1,size:"md",className:"modal-dialog-centered"},y.a.createElement(M.f,{className:"text-center",toggle:this.cancel},n?Object(k.c)("capital_injection"):Object(k.c)("capital_withdrawal")),y.a.createElement(M.d,null,y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-12"},n?y.a.createElement("label",null,Object(k.c)("choose_a_Token_for_capital_injection")):y.a.createElement("label",null,Object(k.c)("choose_a_Token_for_capital_withdrawal")),y.a.createElement("select",{className:"custom-select",defaultValue:"TRX",onChange:function(t){e.tokenIdChange(t.target.value)}},y.a.createElement("option",{value:"TRX"},"TRX")))),y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},n?y.a.createElement("label",null,Object(k.c)("injection_amount")):y.a.createElement("label",null,Object(k.c)("withdrawal_amount")),y.a.createElement("input",{className:"form-control text-center "+(0===d.length||b?"":" is-invalid"),type:"text",placeholder:r.formatMessage({id:"enter_the_amount"}),defaultValue:d,onInput:function(t){return e.setState({tokenQuant:t.target.value})}}),y.a.createElement("div",{className:"invalid-feedback text-center text-danger"},g))),y.a.createElement("div",{className:"pt-4"},y.a.createElement("p",{className:"text-center"},n?y.a.createElement("button",{disabled:p||!b,className:"btn btn-success",style:{width:"100%"},onClick:this.inject},Object(k.c)("capital_injection")):y.a.createElement("button",{disabled:""===this.state.tokenQuant||this.state.tokenQuant>a.second_token_balance-c,className:"btn btn-warning",style:{width:"100%"},onClick:this.withdraw},Object(k.c)("capital_withdrawal")))))))}}]),t}(y.a.PureComponent);var me={reloadWallet:B.c},ue=Object(A.connect)(function(e){return{account:e.app.account,wallet:e.wallet,currentWallet:e.wallet.current}},me)(Object(N.h)(oe)),de=a(445),pe=a(1949),he=a(28),fe=a(295),be=a(21),ge=a(54),Ee=a(344),ve=a(128),_e=a(168),ye=a.n(_e),ke=(a(93),a(90)),Oe=a(433),xe=a(727),je=a.n(xe),we=a(95),Ne=a.n(we),Se=a(452),Ce=a.n(Se),Te=a(1598),Ae=a.n(Te),Me=a(104),Pe=a(29),Re=a(154),Be=a(725),Ie=a.n(Be),De=a(153),ze=a.n(De),Le=a(722),We=a.n(Le);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach(function(t){Object(Pe.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ve=c.a.TextArea,Ke=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).handleCancel=function(t){e.props.hiddenModal(),e.props.form.resetFields()},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||e.submitAppeal(a.reason)})},e.state={disabled:!0,modal:null,appealInfo:{}},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"getAppealRecent",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n,r,c,s,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.intl,n=t.address,e.next=3,w.a.get(R.m+"/external/trc_appeals/recent?address="+n);case 3:r=e.sent,c=r.data,s=c.data,0==c.retCode&&(l=Fe({errorInfo:[]},s.appeal),s.appeal&&JSON.parse(s.appeal.reasons).map(function(e){var t=a.formatMessage({id:"black_".concat(e.id)});11==e.id?l.errorInfo.push(t.replace("xxxxx",e.value.replace(/,$/,""))):l.errorInfo.push(t)}),this.setState({appealInfo:l}));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"submitAppeal",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n,r,c,s,l,i,o,m,u,p,h,f,b=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.toAppealing,r=a.account,c=r.address,s=r.tronWeb,l=this.state.appealInfo,i={issuer_addr:c,address:l.address,content:t,timestamp:(new Date).getTime()},o=JSON.stringify(i),m=s.toHex(o),e.next=7,s.trx.sign(m);case 7:return u=e.sent,e.next=10,w.a.post(R.m+"/external/trc_appeals/".concat(l.id,"/update"),{content:o,sig:u});case 10:p=e.sent,0==(h=p.data).retCode?(this.handleCancel(),n()):h.retMsg.length&&(f=h.retMsg.map(function(e){return y.a.createElement("p",{className:"mb-0"},Object(k.c)("str_"+e))}),this.setState({modal:y.a.createElement(G.a,{danger:!0,onConfirm:function(){return b.setState({modal:null})}},f)}));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.modalStatus,n=t.address,r=this.props.form.getFieldsValue;if(e.form!==this.props.form){var c=r(["reason","remember"]),s=!0;Object.values(c).map(function(e){s=s&&e}),this.setState({disabled:!s})}a&&a!=e.modalStatus&&n&&this.getAppealRecent()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.disabled,n=t.appealInfo,r=t.modal;return y.a.createElement("div",null,r,y.a.createElement(Ie.a,{title:Object(k.c)("Appeal"),width:"100%",wrapClassName:"appeal-modal",visible:this.props.modalStatus,centered:!0,onCancel:this.handleCancel,footer:null,maskClosable:!1},y.a.createElement("h3",{className:"col_red"},Object(k.b)("black_reason")),y.a.createElement("p",null,n.errorInfo&&n.errorInfo.map(function(e){return y.a.createElement("span",{className:"d-block pl-3",key:e},e)})),y.a.createElement("h3",null,Object(k.b)("appeal_reason")," ",y.a.createElement("span",{className:"text-small"},"\uff08",Object(k.b)("handle_time"),"\uff09")),y.a.createElement(We.a,{onSubmit:this.handleSubmit},y.a.createElement(We.a.Item,null,e("reason",{})(y.a.createElement(Ve,{autosize:{minRows:4,maxRows:6}}))),y.a.createElement(We.a.Item,null,e("remember",{valuePropName:"checked"})(y.a.createElement(ze.a,null,Object(k.b)("i_know_black")))),y.a.createElement("div",{className:"text-center pt-4"},y.a.createElement("a",{className:"btn btn-default btn-lg",onClick:this.handleCancel},Object(k.c)("cancel")),y.a.createElement("button",{className:"ml-4 btn btn-danger btn-lg",htmltype:"submit",disabled:a},Object(k.c)("submit"))))))}}]),t}(v.Component),He=We.a.create({name:"appeal_modal"})(Object(N.h)(Ke)),Xe=a(72),Ge=a.n(Xe),qe=function(e,t){var a,n,r;try{a=e.toString().split(".")[1].length}catch(c){a=0}try{n=t.toString().split(".")[1].length}catch(c){n=0}return r=Math.pow(10,Math.max(a,n)),(Ye(e,r)+Ye(t,r))/r},Ye=function(e,t){var a=0,n=e.toString(),r=t.toString();try{a+=n.split(".")[1].length}catch(c){}try{a+=r.split(".")[1].length}catch(c){}return Number(n.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,a)},Qe=function(e,t){var a,n,r=0,c=0;try{r=e.toString().split(".")[1].length}catch(s){}try{c=t.toString().split(".")[1].length}catch(s){}return a=Number(e.toString().replace(".","")),n=Number(t.toString().replace(".","")),Ye(a/n,Math.pow(10,c-r))},Je=Ge.a.Option,Ze=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).openModal=function(t){var a=!!t;e.setState({isShowModal:!1,modal:y.a.createElement(G.a,{type:a?"success":"error",confirmBtnText:Object(k.c)("trc20_confirm"),confirmBtnBsStyle:"danger",title:a?Object(k.c)("mapping_success"):Object(k.c)("mapping_error"),onConfirm:e.hideModal,style:{height:"300px",top:"30%",marginLeft:"-240px"}},y.a.createElement("div",{className:"form-group",style:{marginBottom:"36px"}},y.a.createElement("div",{className:"mt-3 mb-2 text-left",style:{color:"#666"}})))})},e.hideModal=function(){e.setState({modal:null}),e.cancel()},e.confirm=function(){var t=e.props,a=t.form.validateFields,n=t.account.sunWeb,r=t.fees.mappingFee,c=e.state.txHash;e.setState({isDisabled:!0});var s=e.validateNum();a(function(){var t=Object(p.a)(d.a.mark(function t(a,l){var i,o,m,u;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a||!s){t.next=18;break}return i=Ye(r,R.E),t.prev=2,o=l.sidechain,m=o&&o.split("-"),n.setChainId(m[0]),n.setSideGatewayAddress(m[1]),t.next=9,n.mappingTrc20(c,i,R.q);case 9:u=t.sent,e.openModal(u),e.setState({isDisabled:!1}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),e.openModal(),e.setState({isDisabled:!1});case 18:e.setState({isDisabled:!1});case 19:case"end":return t.stop()}},t,null,[[2,14]])}));return function(e,a){return t.apply(this,arguments)}}())},e.cancel=function(){var t=e.props.onCancel;t&&t()},e.getTrxHash=Object(p.a)(d.a.mark(function t(){var a,n,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.address,t.next=3,w.a.get(R.e+"/api/contract?contract=".concat(a));case 3:n=t.sent,r=n.data,e.setState({txHash:r&&r.data&&r.data.length>0&&r.data[0].creator&&r.data[0].creator.txHash||""});case 6:case"end":return t.stop()}},t)})),e.validateNum=function(){var t=e.props,a=t.fees.mappingFee,n=t.currentWallet.balance,r=t.intl;return n<a?(e.setState({feeError:"".concat(r.formatMessage({id:"lack_of_balance"}))}),!1):(e.setState({feeError:""}),!0)},e.state={isDisabled:!1,isShowModal:!0,feeError:""},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrxHash();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.currency,n=t.sideChains,r=t.fees.mappingFee,s=this.state,l=s.isDisabled,i=s.modal,o=s.isShowModal,m=s.feeError,u=n&&n.length>0,d=y.a.createElement("div",{className:"mb-4"},y.a.createElement("span",null,Object(k.c)("main_account_mapping_desc1")),y.a.createElement("br",null),y.a.createElement("span",null,Object(k.c)("main_account_mapping_desc2"))),p=y.a.createElement(We.a.Item,{label:Object(k.c)("pledge_currency")},e("currency",{initialValue:a})(y.a.createElement(c.a,{disabled:!0}))),h=y.a.createElement(We.a.Item,{label:Object(k.c)("pledge_sidechain")},e("sidechain",{initialValue:u&&"".concat(n[0].chainid,"-").concat(n[0].sidechain_gateway)})(y.a.createElement(Ge.a,null,n.map(function(e){return y.a.createElement(Je,{key:e.chainid,value:"".concat(e.chainid,"-").concat(e.sidechain_gateway)},e.name)})))),f=y.a.createElement("button",{className:"btn btn-danger mb-2",style:{width:"100%"},disabled:l,onClick:this.confirm},Object(k.c)("main_account_mapping_btn")),b=y.a.createElement("p",{className:"mt-4 mb-2"},Object(k.c)("mapping_text"),r,"TRX"),g=y.a.createElement("span",{className:"pb-2",style:{color:"red",display:"block"}},m);return y.a.createElement("div",null,y.a.createElement(Ie.a,{title:Object(k.c)("main_account_mapping_btn"),visible:o,onCancel:this.cancel,footer:null},y.a.createElement(We.a,{onSubmit:this.handleSubmit},d,p,h,b,f,m&&g)),i)}}]),t}(v.Component);var $e=We.a.create({name:"mapping"})(Object(A.connect)(function(e,t){return{address:t.address,currency:t.currency,sideChains:e.app.sideChains,account:e.app.account,fees:e.app.fees,currentWallet:e.wallet.current}},{})(Object(N.h)(Ze)));function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(a,!0).forEach(function(t){Object(Pe.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var at=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).getCeator=function(){var t=Object(p.a)(d.a.mark(function t(a){var n,r,c;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.account,t.next=3,w.a.get(R.e+"/api/contract?contract=".concat(a));case 3:if(r=t.sent,c=r.data,(c&&c.data&&c.data.length>0&&c.data[0].creator&&c.data[0].creator.address||"")===n.address){t.next=10;break}return t.abrupt("return",!1);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.setCopied=function(t){e.setState(Object(Pe.a)({},t,!0)),setTimeout(function(){return e.setState(Object(Pe.a)({},t,!1))},1200)},e.hideModal=function(){e.setState({modal:null})},e.getMarketInfoToken10=Object(p.a)(d.a.mark(function t(){var a,n,r,c,s,l,i,o,m,u,p,h;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.issuedAsset,!(n=(a||{}).id)){t.next=14;break}return r={tokenIdOrAddr:n},t.next=6,w.a.post("".concat(R.B,"/api/token/getTokenInfoByTokenIdOrAddr"),r);case 6:c=t.sent,s=c.data.data,o=(i=l=void 0===s?{}:s).tokenOtherInfo,m=i.description,u=i.sprice,p=i.fprice,h=o?JSON.parse(o):{},l.description=window.decodeURIComponent(m),l=Object.assign(l,h,{sprice:"".concat(u),fprice:"".concat(p)}),e.setState({marketInfoToken10:l});case 14:case"end":return t.stop()}},t)})),e.getMarketInfoToken20=function(){var t=Object(p.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a&&a.map(function(e){var t={tokenIdOrAddr:e.contract_address};return w.a.post("".concat(R.B,"/api/token/getTokenInfoByTokenIdOrAddr"),t)}),Promise.all(Object(Me.a)(n)).then(function(e){return e&&e.length===n.length?Promise.resolve(e):Promise.reject(e)}).then(function(t){var a=t.map(function(e){var t=e.data.data,a=void 0===t?{}:t,n=a,r=n.tokenOtherInfo,c=n.description,s=n.sprice,l=n.fprice,i=r?JSON.parse(r):{};return a.description=window.decodeURIComponent(c),a=Object.assign(a,i,{sprice:"".concat(s),fprice:"".concat(l)})});e.setState({marketInfoToken20:a})}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.openMappingModal=function(){var t=Object(p.a)(d.a.mark(function t(a,n){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.intl,t.next=3,e.getCeator(a);case 3:if(t.sent){t.next=7;break}return e.setState({isShowSignModal:!1,modal:y.a.createElement(G.a,{error:!0,confirmBtnText:r.formatMessage({id:"confirm"}),confirmBtnBsStyle:"success",onConfirm:e.hideModal,style:{marginLeft:"-240px",marginTop:"-195px"}},Object(k.c)("mapping_warning"))}),t.abrupt("return");case 7:e.setState({isShowMappingModal:!0,address:a,currency:n});case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),e.closeMappingModal=function(){e.setState({isShowMappingModal:!1})},e.isMapping=function(t){var a=e.props.sidechains;if(t&&a&&t.length!==a.length)return!1;var n=a&&a.map(function(e){return{chainid:e.chainid}}),r=t&&t.map(function(e){return{chainid:e.chainid}});return Ae()(r,n)},e.getMarketToken20Html=function(t,a){var n=a.contract_address,r=a.decimals,c=e.state.marketInfoToken20,s=c&&c.length>t,i=c[t],o=i||{},m=o.updateTime,u=o.verifyStatus,d=o.isFirstRecommend,p=e.getMarketBtnStatus(u,d),h=p.marketNoEntry,f=p.marketNotThrough,b=p.MarketProcessing,g=p.isListNoEntry,E=p.isToAudit,v=p.isNotThrough,_=p.isThrough,O=p.isShelves,x=p.isRemoved;return y.a.createElement("tr",{className:"line-2"},y.a.createElement("td",null,_&&y.a.createElement("i",{className:"fas fa-check-circle"}),!_&&y.a.createElement("div",{className:"tip"},"2")),y.a.createElement("td",null),y.a.createElement("td",null,Object(k.c)("input_market")),y.a.createElement("td",null,h?b?y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("in_progress_tip"))},y.a.createElement(Ce.a,{color:"#E69F4E"},Object(k.c)("in_progress"))):y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("not_entry_tip"))},y.a.createElement(Ce.a,{color:"#A4A3A3"},Object(k.c)("not_entry"))):f?y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("in_progress_tip"))},y.a.createElement(Ce.a,{color:"#E69F4E"},Object(k.c)("in_progress"))):!_&&!O&&y.a.createElement("div",null,y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("type_pass_market_tip"))},y.a.createElement(Ce.a,{color:"#28a745"},Object(k.c)("type_pass_through")))),g&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("not_entry_list_tip"))},y.a.createElement(Ce.a,{color:"#A4A3A3"},Object(k.c)("not_entry_list"))),E&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("to_audit_tip"))},y.a.createElement(Ce.a,{color:"#E69F4E"},Object(k.c)("to_audit"))),v&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("not_through_tip"))},y.a.createElement(Ce.a,{color:"#C34339"},Object(k.c)("not_through"))),_&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("type_pass_tip"))},y.a.createElement(Ce.a,{color:"#28a745"},Object(k.c)("type_pass"))),x&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("removed_tip"))},y.a.createElement(Ce.a,{color:"#171717"},Object(k.c)("removed"))),O&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("shelves_market_tip"))},y.a.createElement(Ce.a,{color:"#171717"},Object(k.c)("shelves")))),y.a.createElement("td",{className:"text-light"},s&&!h&&!f&&!b&&y.a.createElement("div",null,O?Object(k.c)("shelves_time"):Object(k.c)("pass_time"),":",y.a.createElement(N.a,{value:m}),"\xa0",y.a.createElement(N.e,{value:m,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})),g||x||E||v&&y.a.createElement("div",{style:{height:21}})),y.a.createElement("td",null),y.a.createElement("td",null,!h&&!O&&!f&&!b&&y.a.createElement("div",null," ",y.a.createElement("a",{href:"".concat(R.C,"/exchange?id=").concat(i.pairId),target:"_blank"}," ",Object(k.c)("check_market_detail"))),h&&!b&&!f&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#C23631",cursor:"pointer"},onClick:function(){return e.jumpPage(r,"/tokens/markets/create/".concat(R.J.TOKEN20,"/").concat(n))}},Object(k.c)("search_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"search_trading_area_tip"}))),(b||f)&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#A4A3A3"}},Object(k.c)("search_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"search_trading_area_tip"}))),(E||h||f||x||b)&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#A4A3A3"}},Object(k.c)("list_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"list_trading_area_tip"}))),(v||g)&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#C23631",cursor:"pointer"},onClick:function(){return e.jumpListEntry(i,n)}},Object(k.c)("list_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"list_trading_area_tip"})))))},e.getMarketToken10Html=function(){var t=e.state.marketInfoToken10,a=e.props.issuedAsset||{},n=a.id,r=a.precision,c=t||{},s=c.updateTime,i=c.verifyStatus,o=c.isFirstRecommend,m=e.getMarketBtnStatus(i,o),u=m.marketNoEntry,d=m.marketNotThrough,p=m.MarketProcessing,h=m.isListNoEntry,f=m.isToAudit,b=m.isNotThrough,g=m.isThrough,E=m.isShelves,v=m.isRemoved;return y.a.createElement("tr",{className:"line-2"},y.a.createElement("td",null,g&&y.a.createElement("i",{className:"fas fa-check-circle"}),!g&&y.a.createElement("div",{className:"tip"},"2")),y.a.createElement("td",null),y.a.createElement("td",null,Object(k.c)("input_market")),y.a.createElement("td",null,u?p?y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("in_progress_tip"))},y.a.createElement(Ce.a,{color:"#E69F4E"},Object(k.c)("in_progress"))):y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("not_entry_tip"))},y.a.createElement(Ce.a,{color:"#A4A3A3"},Object(k.c)("not_entry"))):d?y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("in_progress_tip"))},y.a.createElement(Ce.a,{color:"#E69F4E"},Object(k.c)("in_progress"))):!g&&!E&&y.a.createElement("div",null,y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("type_pass_market_tip"))},y.a.createElement(Ce.a,{color:"#28a745"},Object(k.c)("type_pass_through")))),h&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("not_entry_list_tip"))},y.a.createElement(Ce.a,{color:"#A4A3A3"},Object(k.c)("not_entry_list"))),f&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("to_audit_tip"))},y.a.createElement(Ce.a,{color:"#E69F4E"},Object(k.c)("to_audit"))),b&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("not_through_tip"))},y.a.createElement(Ce.a,{color:"#C34339"},Object(k.c)("not_through"))),g&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("type_pass_tip"))},y.a.createElement(Ce.a,{color:"#28a745"},Object(k.c)("type_pass"))),v&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("removed_tip"))},y.a.createElement(Ce.a,{color:"#171717"},Object(k.c)("removed"))),E&&y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("shelves_market_tip"))},y.a.createElement(Ce.a,{color:"#171717"},Object(k.c)("shelves")))),y.a.createElement("td",{className:"text-light"},!u&&y.a.createElement("div",null,E?Object(k.c)("shelves_time"):Object(k.c)("pass_time"),":",y.a.createElement(N.a,{value:s}),"\xa0",y.a.createElement(N.e,{value:s,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})),h||v||f||b&&y.a.createElement("div",{style:{height:21}})),y.a.createElement("td",null),y.a.createElement("td",null,!u&&!E&&!d&&!p&&y.a.createElement("div",null,y.a.createElement("a",{href:"".concat(R.C,"/exchange?id=").concat(t.pairId),target:"_blank"}," ",Object(k.c)("check_market_detail"))),u&&!p&&!d&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#C23631",cursor:"pointer"},onClick:function(){return e.jumpPage(r,"/tokens/markets/create/".concat(R.J.TOKEN10,"/").concat(n))}},Object(k.c)("search_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"search_trading_area_tip"}))," "),(p||d)&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#A4A3A3"}},Object(k.c)("search_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"search_trading_area_tip"}))),(f||u||d||v||p)&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#A4A3A3"}},Object(k.c)("list_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"list_trading_area_tip"}))),(b||h)&&y.a.createElement("div",null,y.a.createElement("span",{style:{color:"#C23631",cursor:"pointer"},onClick:function(){return e.jumpListEntry(t,n)}},Object(k.c)("list_trading_area")),y.a.createElement("span",{className:"float-right"},y.a.createElement(fe.a,{placement:"top",text:"list_trading_area_tip"})))))},e.showPrecisionModal=function(){var t=e.props.intl;e.setState({loading:!1,step:0,modal:y.a.createElement(G.a,{error:!0,title:"",confirmBtnText:t.formatMessage({id:"confirm"}),confirmBtnBsStyle:"danger",onConfirm:e.hidePrecisionModal,style:{marginLeft:"-240px",marginTop:"-195px"}},Object(k.c)("precision_error"))})},e.hidePrecisionModal=function(){e.setState({modal:null})},e.jumpPage=function(t,a,n){var r=e.props.history;return t>8?(e.showPrecisionModal(),!1):!!r&&(!(Number(t)>8)&&void r.push({pathname:a,state:{tokenInfo:n}}))},e.jumpListEntry=function(t,a){var n=e.props.history,r=t.id;n.push({pathname:"/tokens/markets/add/team/".concat(a,"/").concat(r),state:{tokenInfo:t}})},e.getMarketBtnStatus=function(e,t){return{marketNoEntry:!e&&e!==R.S.HASBEENSUBMITTED||!e&&e!==R.S.HASBEENSUBMITTEDTHREE||e===R.S.NOTRECORDED,marketNotThrough:e===R.S.HASBEENSUBMITTEDTHREE,MarketProcessing:e===R.S.HASBEENSUBMITTED,isListNoEntry:e==R.S.NOTRECOMMENDED&&0!=t,isToAudit:e==R.S.HASBEENRECORDED||e===R.S.TOAUDIT||e===R.S.APPROVED||e===R.S.RECOMMENDEDFAILED,isNotThrough:e===R.S.REJECTED,isThrough:e===R.S.RECOMMENDED||e===R.S.CONFIRMED,isShelves:e===R.S.SHELVES,isRemoved:e==R.S.NOTRECOMMENDED&&0==t}},e.state=Object(Pe.a)({modal:null,disabled:!1,modalStatus:!1,token20List:[],marketInfoToken20:[],appealInfo:"",copied:!1,id:Object(Re.a)(24),address:"",isShowMappingModal:!1},"modal",null),e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"showModal",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({address:t},function(){a.setState({modalStatus:!0})});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"hiddenModal",value:function(){this.setState({modalStatus:!1})}},{key:"getAppealRecent10",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(R.m+"/external/trc_appeals/recent?address="+t);case 2:a=e.sent,n=a.data,r=n.data,0==n.retCode&&this.setState({appealInfo:r.appeal});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getToken20Transfer",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.getTRC20tfs({limit:0,start:0,contract_address:t});case 2:return a=e.sent,e.abrupt("return",a.rangeTotal);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getToken20Holder",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(R.e+"/api/token_trc20/holders",{params:{limit:0,start:0,contract_address:t}});case 2:return a=e.sent,n=a.data,e.abrupt("return",n.rangeTotal);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"get20token",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n,r,c,s,l,i,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.account.address,e.next=3,w.a.get(R.m+"/external/trc20tokens?issuer_addr="+t);case 3:if(a=e.sent,n=a.data,r=n.data,0!=n.retCode){e.next=25;break}c=[],s=0;case 10:if(!(s<r.tokens.length)){e.next=23;break}return l=r.tokens[s],e.next=14,this.getToken20Holder(l.contract_address);case 14:return i=e.sent,e.next=17,this.getToken20Transfer(l.contract_address);case 17:o=e.sent,l=tt({holder:i,transfer20:o},l),c.push(l);case 20:s++,e.next=10;break;case 23:this.getMarketInfoToken20(c),this.setState({token20List:c});case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateData",value:function(){var e=this.props,t=e.loadAccount;e.issuedAsset?t():this.get20token()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.issuedAsset,n=t.account;R.v&&(n!=e.account&&this.get20token(),a&&a!=e.issuedAsset&&(this.getAppealRecent10(a.ownerAddress),this.getMarketInfoToken10()))}},{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:R.v&&this.get20token();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this,r=this.props.issuedAsset,c=this.state,s=c.token20List,l=c.appealInfo,i=(c.copied,c.id,c.isShowMappingModal),o=c.currency,m=c.address,u=c.modal,d=(c.marketInfoToken10,c.marketInfoToken20,this.props),p=d.account,h=d.intl,f=d.currentWallet,b=d.unfreezeAssetsConfirmation,g=(d.sidechains,d.walletType),E="ACCOUNT_PRIVATE_KEY"===g.type||"ACCOUNT_TRONLINK"===g.type;r&&(e={isPassed:1==r.canShow,isFailed:3==r.canShow,isAppealing:2==r.canShow},t=r.dateCreated,l&&(t=l.update_time));var v=y.a.createElement("div",{className:"ml-1"},y.a.createElement("span",{className:"small"},Object(k.c)("address_total_balance_info_sources"),"\uff1a"),y.a.createElement("span",{className:"small"},y.a.createElement(H.e,{href:"zh"==h.locale?"https://poloniex.org/zh/":"https://poloniex.org/"},"Poloni DEX"))),_=y.a.createElement(Ce.a,{color:"#87d068"},Object(k.c)("main_account_mapping_success_btn")),O=function(e,t,a){return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("hr",{className:"my-4"}),y.a.createElement("p",{className:"mapping-title"},Object(k.c)("main_account_mapping_title"))),y.a.createElement("div",{className:"col-md-12 d-flex justify-content-between"},y.a.createElement("div",null,y.a.createElement("p",null,Object(k.c)("main_account_mapping_text")),y.a.createElement("p",null,Object(k.c)("main_account_mapping_text_1")),y.a.createElement("p",null,Object(k.c)("main_account_mapping_text_2"))),y.a.createElement("div",null,n.isMapping(a)?_:function(e,t){return y.a.createElement(Ne.a,{type:"primary",size:"small",className:"mapping-btn",onClick:function(){return n.openMappingModal(e,t)}},Object(k.c)("main_account_mapping_btn"))}(e,t))))};return y.a.createElement("div",{className:"mt-4"},u,(Boolean(s.length)||r)&&y.a.createElement("h4",{style:{marginBottom:"-0.5rem"}},Object(k.c)("token_input_success_myaccount")),y.a.createElement("div",null,r&&y.a.createElement("div",{className:"tf-card mt-3"},y.a.createElement("div",{className:"mobile-width"},y.a.createElement("div",{className:"d-flex justify-content-between align-items-center pl-3"},y.a.createElement("h4",null,y.a.createElement(H.f,{id:r.id,name:r.name,address:r.ownerAddress,namePlus:r.name+" ("+r.abbr+")"}),y.a.createElement("span",{style:{color:"#999",fontSize:"12px"}},"[",r.id,"]")),e.isPassed?y.a.createElement("a",{href:"#/tokens/update/"+r.id},y.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm"},Object(k.c)("updata_token_info"))):y.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm",disabled:!0},Object(k.c)("updata_token_info"))),y.a.createElement("hr",{className:"my-3"}),y.a.createElement("div",{className:"d-flex justify-content-between tf-card__header mb-0 position-relative"},y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("trc20_token_info_Total_Supply")),y.a.createElement("div",{className:"tf-card__header-text"},y.a.createElement(N.c,{value:r.totalSupply/Math.pow(10,r.precision),maximumSignificantDigits:18}))),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("holder_amount")),y.a.createElement("div",{className:"tf-card__header-text"},y.a.createElement(N.c,{value:r.nrOfTokenHolders}))),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("nr_of_Transfers")),y.a.createElement("div",{className:"tf-card__header-text"},y.a.createElement(N.c,{value:r.rangeTotal}))),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("day_trade"),y.a.createElement(je.a,{content:v,trigger:"hover"},y.a.createElement("img",{width:15,height:15,style:{marginLeft:5},src:a(1811),alt:""}))),y.a.createElement("div",{className:"tf-card__header-text"},"-")),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("last_price"),y.a.createElement(je.a,{content:v,trigger:"hover"},y.a.createElement("img",{width:15,height:15,style:{marginLeft:5},src:a(1811),alt:""}))),y.a.createElement("div",{className:"tf-card__header-text"},"-")),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("total_value"),y.a.createElement(je.a,{content:v,trigger:"hover"},y.a.createElement("img",{width:15,height:15,style:{marginLeft:5},src:a(1811),alt:""}))),y.a.createElement("div",{className:"tf-card__header-text"},"-"))),y.a.createElement("hr",{className:"mt-2"}),y.a.createElement("div",{className:"iocInfo mb-4  w-100"},y.a.createElement("div",{className:"iocInfo-content ml-3"},y.a.createElement("div",{className:"d-flex justify-content-between mb-1",style:{fontSize:"12px"}},y.a.createElement("h4",{className:"mb-2",style:{fontWeight:"500"}},Object(k.c)("ico_infomation")),y.a.createElement("div",{className:"d-flex"},y.a.createElement("div",{className:"mr-3"},Object(k.c)("start_date"),y.a.createElement("span",{className:"ml-1"},r.endTime-r.startTime>1e3?y.a.createElement("span",null,y.a.createElement(N.a,{value:r.startTime})," ",y.a.createElement(N.e,{value:r.startTime,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})):"-")),y.a.createElement("div",null,Object(k.c)("end_date"),y.a.createElement("span",{className:"ml-1"}," ",r.endTime-r.startTime>1e3?y.a.createElement("span",null,y.a.createElement(N.a,{value:r.endTime})," ",y.a.createElement(N.e,{value:r.endTime,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})):"-")))),y.a.createElement("div",{className:"d-flex mb-2"},y.a.createElement("span",{className:"d-flex flex-1 align-items-center"},y.a.createElement("div",{className:"progress w-100"},y.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated d-flex justify-content-center align-items-center",style:{width:r.issuedPercentage+"%",backgroundColor:"#d93649"}},y.a.createElement("div",{className:"text-white"},r.issuedPercentage>5?r.issuedPercentage.toFixed(3)+"%":"")))))),y.a.createElement("div",{className:" ml-3"},f&&f.frozen_supply.length>0&&y.a.createElement("div",{className:"clearfix"},y.a.createElement("a",{href:"javascript:;",className:"float-right",onClick:function(){b()}},y.a.createElement(Ce.a,{className:"ant-tag-default m-0"},Object(k.c)("unfreeze_assets"))),f.frozen_supply.map(function(e,t){return y.a.createElement("div",{key:t},e.amount/Math.pow(10,r.precision),e.expires>Object(de.getTime)(new Date)?y.a.createElement("span",null,y.a.createElement("span",null," ",Object(k.c)("can_be_unlocked"),"\xa0"),y.a.createElement(N.d,{value:e.expires})):y.a.createElement("span",null," ",Object(k.c)("can_be_unlocked_now"),"\xa0"))})))),y.a.createElement("table",{className:"table tf-card-table"},y.a.createElement("tbody",null,y.a.createElement("tr",{className:"line-1"},y.a.createElement("td",null,e.isPassed&&y.a.createElement("i",{className:"fas fa-check-circle"}),!e.isPassed&&y.a.createElement("div",{className:"tip"},"1")),y.a.createElement("td",null),y.a.createElement("td",null,Object(k.c)("input_transcan")),y.a.createElement("td",null,e.isPassed&&y.a.createElement(Ce.a,{color:"#28a745"},Object(k.c)("type_pass")),e.isFailed&&y.a.createElement(Ce.a,{color:"#3d3d3d"},Object(k.c)("type_black")),e.isAppealing&&y.a.createElement(Ce.a,{color:"#f5a623"},Object(k.c)("type_appeal"))),y.a.createElement("td",{className:"text-light"},e.isPassed&&Object(k.c)("pass_time"),e.isFailed&&Object(k.c)("black_time"),e.isAppealing&&Object(k.c)("appeal_time"),":",y.a.createElement(N.a,{value:t,className:"ml-1"})," ",y.a.createElement(N.e,{value:t,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})),y.a.createElement("td",null,e.isFailed&&y.a.createElement(Ce.a,{color:"#4a90e2",onClick:function(){return n.showModal(r.ownerAddress)}},Object(k.c)("Appeal"))),y.a.createElement("td",null,y.a.createElement(H.f,{name:Object(k.c)("check_token_detail"),id:r&&r.id}))),e.isPassed&&this.getMarketToken10Html())))),Boolean(s.length)&&s.map(function(e,t){var r={isPassed:1==e.status,isFailed:3==e.status,isAppealing:2==e.status};return y.a.createElement("div",{className:"mt-3 tf-card token20",key:e.contract_address},y.a.createElement("div",{className:"mobile-width"},y.a.createElement("div",{className:"d-flex justify-content-between align-items-center pl-3"},y.a.createElement("h4",{className:"m-0 "},y.a.createElement(H.g,{name:e.name,namePlus:e.name+" ("+e.symbol+")",address:e.contract_address}),y.a.createElement("span",{style:{color:"#999",fontSize:"12px"}},"[",e.contract_address,"]",y.a.createElement(ve.CopyToClipboard,{text:e.contract_address,onCopy:function(){return n.setCopied("id"+t)}},y.a.createElement("span",{id:"id"+t,className:"ml-1",style:{cursor:"pointer"}},y.a.createElement("i",{className:"fa fa-paste"}),y.a.createElement(M.g,{placement:"top",isOpen:n.state["id"+t],target:"id"+t},Object(k.c)("copied_to_clipboard")))))),r.isPassed?y.a.createElement("a",{href:"#/tokens/update/"+e.contract_address},y.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm"},Object(k.c)("updata_token_info"))):y.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm",disabled:!0},Object(k.c)("updata_token_info"))),y.a.createElement("hr",{className:"my-3"}),y.a.createElement("div",{className:"d-flex justify-content-between tf-card__header"},y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("trc20_token_info_Total_Supply")),y.a.createElement("div",{className:"tf-card__header-text"},y.a.createElement(N.c,{value:e.total_supply/Math.pow(10,e.decimals),maximumSignificantDigits:18}))),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("holder_amount")),y.a.createElement("div",{className:"tf-card__header-text"},y.a.createElement(N.c,{value:e.holder}))),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("nr_of_Transfers")),y.a.createElement("div",{className:"tf-card__header-text"},y.a.createElement(N.c,{value:e.transfer20}))),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("day_trade"),y.a.createElement(je.a,{content:v,trigger:"hover"},y.a.createElement("img",{width:15,height:15,style:{marginLeft:5},src:a(1811),alt:""}))),y.a.createElement("div",{className:"tf-card__header-text"},"-")),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("last_price"),y.a.createElement(je.a,{content:v,trigger:"hover"},y.a.createElement("img",{width:15,height:15,style:{marginLeft:5},src:a(1811),alt:""}))),y.a.createElement("div",{className:"tf-card__header-text"},"-")),y.a.createElement("div",{className:"tf-card__header-item"},y.a.createElement("div",{className:"tf-card__header-title"},Object(k.c)("total_value"),y.a.createElement(je.a,{content:v,trigger:"hover"},y.a.createElement("img",{width:15,height:15,style:{marginLeft:5},src:a(1811),alt:""}))),y.a.createElement("div",{className:"tf-card__header-text"},"-"))),y.a.createElement("table",{className:"table tf-card-table"},y.a.createElement("tbody",null,y.a.createElement("tr",{className:"line-1"},y.a.createElement("td",null,r.isPassed&&y.a.createElement("i",{className:"fas fa-check-circle"}),!r.isPassed&&y.a.createElement("div",{className:"tip"},"1")),y.a.createElement("td",null),y.a.createElement("td",null,Object(k.c)("input_transcan")),y.a.createElement("td",null,r.isPassed&&y.a.createElement(Ce.a,{color:"#28a745"},Object(k.c)("type_pass")),r.isFailed&&y.a.createElement(Ce.a,{color:"#3d3d3d"},Object(k.c)("type_black")),r.isAppealing&&y.a.createElement(Ce.a,{color:"#f5a623"},Object(k.c)("type_appeal"))),y.a.createElement("td",{className:"text-light"},r.isPassed&&Object(k.c)("pass_time"),r.isFailed&&Object(k.c)("black_time"),r.isAppealing&&Object(k.c)("appeal_time"),":",y.a.createElement(N.a,{value:e.update_time,className:"ml-1"})," ",y.a.createElement(N.e,{value:e.update_time,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})),y.a.createElement("td",null,r.isFailed&&y.a.createElement(Ce.a,{color:"#4a90e2",onClick:function(){return n.showModal(e.contract_address)}},Object(k.c)("Appeal"))),y.a.createElement("td",null,y.a.createElement(H.g,{name:Object(k.c)("check_token_detail"),address:e.contract_address}))),r.isPassed&&n.getMarketToken20Html(t,e))),E&&!R.w&&O(e.contract_address,e.symbol,e.sidechains)))}),y.a.createElement(He,{hiddenModal:function(){return n.hiddenModal()},modalStatus:this.state.modalStatus,address:this.state.address,account:p,toAppealing:function(){return n.updateData()}}),u),i&&y.a.createElement($e,{onCancel:this.closeMappingModal,onConfirm:this.openMappingModal,address:m,currency:o}))}}]),t}(y.a.Component);var nt=Object(A.connect)(function(e){return{account:e.app.account,wallet:e.wallet,walletType:e.app.wallet,currentWallet:e.wallet.current,activeLanguage:e.app.activeLanguage,sidechains:e.app.sideChains}},{})(Object(N.h)(at)),rt=Ge.a.Option,ct=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).openModal=function(t){var a=!!t;e.setState({isShowModal:!1,modal:y.a.createElement(G.a,{type:a?"success":"error",confirmBtnText:Object(k.c)("trc20_confirm"),confirmBtnBsStyle:"danger",title:a?Object(k.c)("pledge_success"):Object(k.c)("pledge_error"),onConfirm:e.hideModal,style:{height:"300px",top:"30%",marginLeft:"-240px"}},y.a.createElement("div",{className:"form-group",style:{marginBottom:"36px"}},y.a.createElement("div",{className:"mt-3 mb-2 text-left",style:{color:"#666"}})))})},e.hideModal=function(){e.setState({modal:null}),e.cancel()},e.confirm=function(){var t=e.props,a=t.form.validateFields,n=t.account.sunWeb,r=t.option,c=r.id,s=r.address,l=r.precision,i=r.type,o=t.fees.depositFee,m=e.state,u=m.numValue,h=m.errorMess;e.setState({isDisabled:!0}),a(function(){var t=Object(p.a)(d.a.mark(function t(a,r){var m,p,f,b,g,E,v;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a||h){t.next=41;break}if(t.prev=1,m=Ye(o,R.E),p=Ye(u,Math.pow(10,Number(l))),f=r.sidechain,b=f&&f.split("-"),n.setChainId(b[0]),n.setSideGatewayAddress(b[1]),R.o.TRX10!==i){t.next=15;break}return t.next=11,n.depositTrc10(c,p,m,R.q);case 11:g=t.sent,e.openModal(g),t.next=34;break;case 15:if(R.o.TRX20!==i){t.next=29;break}return t.next=18,n.approveTrc20(p,R.q,s);case 18:if(!t.sent){t.next=26;break}return t.next=22,n.depositTrc20(p,m,R.q,s);case 22:E=t.sent,e.openModal(E),t.next=27;break;case 26:e.openModal();case 27:t.next=34;break;case 29:if(R.o.TRX!==i){t.next=34;break}return t.next=32,n.depositTrx(p,m,R.q);case 32:v=t.sent,e.openModal(v);case 34:e.setState({isDisabled:!1}),t.next=41;break;case 37:t.prev=37,t.t0=t.catch(1),e.openModal(),e.setState({isDisabled:!1});case 41:e.setState({isDisabled:!1});case 42:case"end":return t.stop()}},t,null,[[1,37]])}));return function(e,a){return t.apply(this,arguments)}}())},e.cancel=function(){var t=e.props.onCancel;t&&t()},e.getSideChains=function(){var t=e.props.option.trx20MappingAddress;return t.map(function(e){e.name=e.chainName,e.sidechain_gateway=e.sidechainGateway}),t},e.onChangeNum=function(t){var a=e.props,n=a.option,r=n.precision,c=n.balance,s=n.currency,l=n.type,i=a.intl,o=t.target&&t.target.value,m="",u=Number(r)>0?"^(0|[1-9][0-9]*)(\\.\\d{0,".concat(Number(r),"})?$"):"^(0|[1-9][0-9]*)(\\.\\d+)?$";if(o){if(!new RegExp(u).test(o))return;var d=l===R.o.TRX?R.P:Qe(R.N,Math.pow(10,Number(r)));Number(o)<d&&(m="".concat(i.formatMessage({id:"pledge_num_min_error"})).concat(d).concat(s)),Number(o)>Number(c)&&(m=Object(k.c)("pledge_num_error"))}e.setState({numValue:o,errorMess:m})},e.state={isDisabled:!1,isShowModal:!0},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.option,n=a.currency,r=a.balance,s=a.type,l=t.sideChains,i=this.state,o=i.isDisabled,m=i.modal,u=i.isShowModal,d=i.numValue,p=i.errorMess,h=s===R.o.TRX20?this.getSideChains():l,f=h&&h.length>0,b=y.a.createElement(We.a.Item,{label:Object(k.c)("pledge_currency")},e("currency",{initialValue:n})(y.a.createElement(c.a,{disabled:!0}))),g=y.a.createElement(We.a.Item,{label:Object(k.c)("pledge_sidechain")},e("sidechain",{initialValue:f&&"".concat(h[0].chainid,"-").concat(h[0].sidechain_gateway)})(y.a.createElement(Ge.a,null,h.map(function(e){return y.a.createElement(rt,{key:e.chainid,value:"".concat(e.chainid,"-").concat(e.sidechain_gateway)},e.name)})))),E=y.a.createElement("div",{className:"flex justify-content-between"},y.a.createElement("p",{className:"text-left mb-2"},Object(k.c)("pledge_num")),y.a.createElement("p",{className:"text-right mb-2"},Object(k.c)("available_balance"),":",r+n)),v=y.a.createElement("div",null,E,y.a.createElement(c.a,{value:d,onChange:this.onChangeNum}),y.a.createElement("span",{className:"mt-1",style:{color:"red",display:"block"}},p)),_=y.a.createElement("button",{className:"btn btn-danger mt-4",style:{width:"100%"},disabled:!d||o,onClick:this.confirm},Object(k.c)("sidechain_account_pledge_btn"));return y.a.createElement("div",null,y.a.createElement(Ie.a,{title:Object(k.c)("sidechain_account_pledge_btn"),visible:u,onCancel:this.cancel,footer:null},y.a.createElement(We.a,{onSubmit:this.handleSubmit},b,g,v,_)),m)}}]),t}(v.Component);var st=We.a.create({name:"pledge"})(Object(A.connect)(function(e,t){return{option:t.option,sideChains:e.app.sideChains,account:e.app.account,fees:e.app.fees}},{})(Object(N.h)(ct))),lt=a(294),it=a.n(lt),ot=a(1662),mt=a(1705),ut=a(2190),dt=a.n(ut),pt=a(65),ht=a(222),ft=a(299),bt=a(298),gt=a.n(bt),Et=a(2953),vt=a.n(Et),_t=a(2963),yt=a.n(_t),kt=a(42),Ot=a.n(kt),xt=a(231),jt=a.n(xt),wt=a(146),Nt=a.n(wt),St=a(1627),Ct=(new(0,St.utils.AbiCoder),{encryptionAlgorithm:"aes-256-ctr",hashAlgorithm:"sha256",stringToByte:function(e){var t,a,n=new Array;t=e.length;for(var r=0;r<t;r++)(a=e.charCodeAt(r))>=65536&&a<=1114111?(n.push(a>>18&7|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(63&a|128)):a>=2048&&a<=65535?(n.push(a>>12&15|224),n.push(a>>6&63|128),n.push(63&a|128)):a>=128&&a<=2047?(n.push(a>>6&31|192),n.push(63&a|128)):n.push(255&a);return n},byteToString:function(e){if("string"===typeof e)return e;for(var t="",a=e,n=0;n<a.length;n++){var r=a[n].toString(2),c=r.match(/^1+?(?=0)/);if(c&&8==r.length){for(var s=c[0].length,l=a[n].toString(2).slice(7-s),i=1;i<s;i++)l+=a[i+n].toString(2).slice(2);t+=String.fromCharCode(parseInt(l,2)),n+=s-1}else t+=String.fromCharCode(a[n])}return t},hash:function(e){return gt.a.createHash(this.hashAlgorithm).update(e).digest("hex")},encrypt:function(e,t){var a=JSON.stringify(e),n=gt.a.createCipher(this.encryptionAlgorithm,t),r=n.update(a,"utf8","hex");return r+=n.final("hex")},decrypt:function(e,t){var a=gt.a.createDecipher(this.encryptionAlgorithm,t),n=a.update(e,"hex","utf8");return n+=a.final("utf8"),JSON.parse(n)},requestHandler:function(e){return new Proxy(e,{get:function(e,t){if(!Reflect.has(e,t))throw new Error("Object does not have property '".concat(t,"'"));return"function"!==typeof e[t]||"on"===t?Reflect.get(e,t):function(){for(var a,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];r.length||(r[0]={});var s=r[0],l=s.resolve,i=void 0===l?function(){}:l,o=s.reject,m=void 0===o?function(e){return console.error(e)}:o,u=s.data;if("object"!==typeof s||!("data"in s))return(a=e[t]).call.apply(a,[e].concat(r));Promise.resolve(e[t].call(e,u)).then(i).catch(m)}}})},generateMnemonic:function(){return vt.a.generateMnemonic(128)},getAccountAtIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=vt.a.mnemonicToSeed(e),n=yt.a.fromSeed(a).derivePath("m/44'/195'/".concat(t,"'/0/0")).privateKey.toString("hex");return{privateKey:n,address:Ot.a.address.fromPrivateKey(n)}},validateMnemonic:function(e){return vt.a.validateMnemonic(e)},injectPromise:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return new Promise(function(t,n){e.apply(void 0,a.concat([function(e,a){e?n(e):t(a)}]))})},isFunction:function(e){return"function"===typeof e},dataLetterSort:function(e,t,a,n){var r=[];n&&(n.forEach(function(e){r.push(e)}),e=e.filter(function(e){var t=e.tokenId;return!n.map(function(e){return e.tokenId}).includes(t)}));for(var c={},s=0;s<e.length;s++){var l=(e[s][t]||e[s][a]||e[s].name).split("").filter(function(e){return e.match(/[a-zA-Z0-9]/)}).join("").substr(0,1).toUpperCase();c[l]||(c[l]=[]),c[l].push(e[s])}return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"].forEach(function(e){c[e]&&(r=r.concat(c[e]))}),r},validatInteger:function(e){return/^\+?[1-9][0-9]*$/.test(e)},requestUrl:function(){var e,t="https://manger.tronlending.org";switch(location.hostname){case"nnceancbokoldkjjbpopcffaoekebnnb":case"ibnejdfjmmkpcnlpebklmnkoeoihofec":default:e=t}return e},timetransTime:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,r=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),c=t.getHours()<10?"0".concat(t.getHours()):t.getHours(),s=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes();return"".concat(a,".").concat(n,".").concat(r," ").concat(c,":").concat(s)},timeFormatTime:function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,r=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),c=t.getHours()<10?"0".concat(t.getHours()):t.getHours(),s=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes();return"".concat(a,"/").concat(n,"/").concat(r," ").concat(c,":").concat(s)},readFileContentsFromEvent:function(e){return new Promise(function(t){var a=e.target.files,n=new FileReader;n.onload=function(e){var a=e.target.result;t(a)},n.readAsText(a[0])})},decryptString:function(e,t,a){var n=function(e,t){return jt.a.pbkdf2Sync(e,t,1,32,"sha512")}(e,t),r=Nt.a.utils.hex.toBytes(a),c=new Nt.a.ModeOfOperation.ctr(n).decrypt(r);return Nt.a.utils.utf8.fromBytes(c)},validatePrivateKey:function(e){try{var t=Object(he.pkToAddress)(e);return Object(he.isAddressValid)(t)}catch(a){return!1}},delay:function(e){return new Promise(function(t){setTimeout(t,e)})},decodeParams:function(e,t,a){var n=a.match(/(.+)\((.*)\)/);if(console.log("abiCode",t),""!==n[2]){var r=Ot.a.utils.code.hexStr2byteArray(e);return t.filter(function(e){return e.name===n[1]})[0].inputs.map(function(e,t){var a=e.name,n=e.type,c=r.filter(function(e,a){return a>=32*t&&a<32*(t+1)});return{name:a,type:n,value:"address"===n?Ot.a.address.fromHex("41"+Ot.a.utils.code.byteArray2hexStr(c.filter(function(e,t){return t>11}))):Ot.a.toDecimal("0x"+Ot.a.utils.code.byteArray2hexStr(c))}})}return[]}}),Tt=(Ge.a.Option,function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).hideModal=function(){e.setState({modal:null}),e.cancel()},e.confirm=function(){var t=e.props,a=t.form.validateFields,n=t.account.sunWeb,r=t.option,c=r.id,s=r.address,l=r.precision,i=r.type,o=t.fees.depositFee,m=e.state,u=m.numValue,h=m.errorMess;e.setState({isDisabled:!0}),a(function(){var t=Object(p.a)(d.a.mark(function t(a,r){var m,p,f,b,g,E,v;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a||h){t.next=41;break}if(t.prev=1,m=Ye(o,R.E),p=Ye(u,Math.pow(10,Number(l))),f=r.sidechain,b=f&&f.split("-"),n.setChainId(b[0]),n.setSideGatewayAddress(b[1]),R.o.TRX10!==i){t.next=15;break}return t.next=11,n.depositTrc10(c,p,m,R.q);case 11:g=t.sent,e.openModal(g),t.next=34;break;case 15:if(R.o.TRX20!==i){t.next=29;break}return t.next=18,n.approveTrc20(p,R.q,s);case 18:if(!t.sent){t.next=26;break}return t.next=22,n.depositTrc20(p,m,R.q,s);case 22:E=t.sent,e.openModal(E),t.next=27;break;case 26:e.openModal();case 27:t.next=34;break;case 29:if(R.o.TRX!==i){t.next=34;break}return t.next=32,n.depositTrx(p,m,R.q);case 32:v=t.sent,e.openModal(v);case 34:e.setState({isDisabled:!1}),t.next=41;break;case 37:t.prev=37,t.t0=t.catch(1),e.openModal(),e.setState({isDisabled:!1});case 41:e.setState({isDisabled:!1});case 42:case"end":return t.stop()}},t,null,[[1,37]])}));return function(e,a){return t.apply(this,arguments)}}())},e.cancel=function(){var t=e.props.onCancel;t&&t()},e.sign=function(){var t=e.props,a=t.onSign,n=t.details;a&&a(n)},e.getSideChains=function(){var t=e.props.option.trx20MappingAddress;return t.map(function(e){e.name=e.chainName,e.sidechain_gateway=e.sidechainGateway}),t},e.getParameterValue=Object(p.a)(d.a.mark(function t(){var a,n,r,c,s,l,i,o,m,u;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.details,r=a.account,c=n.currentTransaction.raw_data.contract[0].parameter.value,s=P.a.getParameterValue(c),n.contractData,l=n.functionSelector,i=n.contractData.contract_address,t.next=8,r.tronWeb.trx.getContract(i);case 8:o=t.sent,m=o.abi.entrys,u=Ct.decodeParams(s.data.substring(8),m,l),e.setState({args:u});case 12:case"end":return t.stop()}},t)})),e.state={isDisabled:!1,isShowModal:!0},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.details;"TriggerSmartContract"==e.contractType&&e.functionSelector&&this.getParameterValue()}},{key:"render",value:function(){this.props.form.getFieldDecorator;var e,t,n=this.props.details,r=this.state,c=r.isShowModal,s=r.modal,l=r.args,i=a(1663),o=[],m=[];o.push(n.contractData),o&&(e=Object(pt.a)(o,"asset_name","amount")[0]),"transfer(address,uint256)"==n.functionSelector&&l&&(m.push({contract_address:n.contractData.contract_address,balance:l[1].value}),t=Object(ht.a)(m,"contract_address","balance")[0]);var u=y.a.createElement(v.Fragment,null,y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("from")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.owner_address},n.contractData.owner_address))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("to")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.to_address},n.contractData.to_address))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("amount")),y.a.createElement("span",null,y.a.createElement(C.b,{amount:n.contractData.amount/R.E})))),d=y.a.createElement(v.Fragment,null,y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("from")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.owner_address},n.contractData.owner_address))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("to")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.to_address},n.contractData.to_address))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("amount")),y.a.createElement("span",null,e.map_amount)),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("token")),y.a.createElement("span",null,y.a.createElement(ft.a,{value:n.contractData,notamount:!0,totoken:!0})))),p=y.a.createElement(v.Fragment,null,y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("contract_triggers_owner_address")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.owner_address},n.contractData.owner_address))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("contract_address")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.contract_address,isContract:!0},n.contractData.contract_address))),"transfer(address,uint256)"==n.functionSelector&&l&&y.a.createElement("div",null,y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("from")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.owner_address},n.contractData.owner_address))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("to")),y.a.createElement("span",null,y.a.createElement(H.a,{address:l[0].value},l[0].value))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("amount")),y.a.createElement("span",null,t.map_amount)),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("token")),y.a.createElement("span",null,y.a.createElement("div",{className:"flex1"},t.contract_address==R.j||t.contract_address==R.k||t.contract_address==R.i?y.a.createElement("b",{className:"token-img-top",style:{marginRight:5}},y.a.createElement("img",{width:20,height:20,src:t.map_amount_logo,alt:t.map_token_name,onError:function(e){e.target.onerror=null,e.target.src=i}}),y.a.createElement("i",{style:{width:10,height:10,bottom:-5}})):y.a.createElement("img",{width:20,height:20,src:t.map_amount_logo,alt:t.map_token_name,style:{marginRight:5},onError:function(e){e.target.onerror=null,e.target.src=i}}),y.a.createElement(H.g,{name:t.map_token_name,address:t.contract_address,namePlus:t.map_token_name+" ("+t.map_token_name_abbr+")"})))))),h=y.a.createElement(v.Fragment,null,y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("contract_triggers_owner_address")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.owner_address},n.contractData.owner_address))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("contract_address")),y.a.createElement("span",null,y.a.createElement(H.a,{address:n.contractData.contract_address,isContract:!0},n.contractData.contract_address))),y.a.createElement("div",{className:"form-group sign-details-method"},y.a.createElement("label",null,Object(k.c)("Method_calling")),y.a.createElement("div",{className:"flex1"},y.a.createElement("div",{className:"d-flex border-bottom content_item pt-0"},y.a.createElement("div",{className:"content_name"},Object(k.c)("contract_method"),":"),y.a.createElement("div",{className:"flex1"},n.functionSelector)),l&&Object.keys(l).map(function(e){return y.a.createElement("div",{className:"d-flex content_item",key:l[e].name},y.a.createElement("div",{className:"content_name"},l[e].name,":"),y.a.createElement("div",{className:"flex1 details-break-word"},l[e].value))})))),f=y.a.createElement("button",{className:"btn btn-danger mt-4",style:{width:"100%"},onClick:this.sign},Object(k.c)("signature")),b=y.a.createElement("button",{className:"btn btn-danger mt-4",style:{width:"100%"},onClick:this.cancel},Object(k.c)("compile_close"));return y.a.createElement("div",null,y.a.createElement(Ie.a,{title:Object(k.c)("signature_details"),visible:c,onCancel:this.cancel,footer:null},y.a.createElement("div",{className:"signature_details"},y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("signature_status"),":"),y.a.createElement("span",null,0==n.state&&y.a.createElement("span",{style:{color:"#69C265"}},Object(k.c)("signature_details_processing")),1==n.state&&y.a.createElement("span",{style:{color:"#69C265"}},Object(k.c)("signature_successful")),2==n.state&&y.a.createElement("span",{style:{color:"#69C265"}},Object(k.c)("signature_failed")))),y.a.createElement("div",{className:"form-group"},y.a.createElement("label",null,Object(k.c)("type"),":"),y.a.createElement("span",null,n.contractType)),y.a.createElement(v.Fragment,null,"TransferContract"==n.contractType?u:"","TransferAssetContract"==n.contractType?d:"","TriggerSmartContract"==n.contractType&&"transfer(address,uint256)"!=n.functionSelector?h:"","TriggerSmartContract"==n.contractType&&"transfer(address,uint256)"==n.functionSelector?p:""),y.a.createElement("div",{className:"form-group border-0"},y.a.createElement("label",null,Object(k.c)("signature_list"),":"),y.a.createElement("div",{className:"text-left"},n.currentWeight+"/"+n.threshold)),y.a.createElement("div",{className:"form-group d-block border-0"},n.signatureProgress.map(function(e,t){return y.a.createElement("div",{key:t,className:"d-flex mt-1"},y.a.createElement("div",{style:{width:250}},y.a.createElement(H.a,{address:e.address},e.address)),y.a.createElement("div",{className:"ml-2 p-1 d-block signature-weight"},e.weight),1==e.isSign?y.a.createElement("i",{className:"ml-2 signature-siged"}):y.a.createElement("div",{className:"ml-2",style:{width:12}}),e.signTime&&y.a.createElement("div",{className:"ml-2"},y.a.createElement(N.a,{value:1e3*e.signTime}),"\xa0",y.a.createElement(N.e,{value:1e3*e.signTime,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})))}))),0==n.state&&10==n.multiState?f:b),s)}}]),t}(v.Component));var At=We.a.create({name:"pledge"})(Object(A.connect)(function(e,t){return{sideChains:e.app.sideChains,account:e.app.account,fees:e.app.fees}},{})(Object(N.h)(Tt))),Mt=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).load=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i,o,m=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:1,n=m.length>1&&void 0!==m[1]?m[1]:20,r=a.props.wallet,c=a.state.filter,e.next=6,w.a.get("https://list.tronlink.org/api/wallet/multi/trx_record",{params:{address:r.address,start:(t-1)*n,state:c.direction,limit:5e3,netType:"main_net"}});case 6:s=e.sent,l=s.data.data,(i=l.data||[]).map(function(e){0==e.state?e.signatureProgress.map(function(t,a){t.address==r.address&&(0==t.isSign?e.multiState=10:e.multiState=11)}):e.multiState=e.state}),o=255!==c.multiState?_(i).filter(function(e){return e.multiState==c.multiState}).value():i,a.setState({page:t,data:o,total:o.length||0,loading:!1,signatureList:i});case 12:case"end":return e.stop()}},e)})),a.onRadioChange=function(e,t){var n;n=0==e&&"to_be_sign"==t?10:0==e&&"signed"==t?11:e,a.props.handleType(n),a.setState({filter:{direction:e,multiState:n}},function(){return a.changeSignatureList()})},a.multiSign=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r,c,s,l,i,o,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.wallet,r=a.state.filter,"TransferContract"==t.contractType||"TransferAssetContract"==t.contractType||"TriggerSmartContract"==t.contractType||"AccountPermissionUpdateContract"==t.contractType){e.next=5;break}return a.onNotSupportSign(),e.abrupt("return");case 5:return s=a.props.account.tronWeb,(l=t.currentTransaction).txID=t.hash,e.next=10,s.trx.multiSign(l,s.defaultPrivateKey,l.raw_data.contract[0].Permission_id).catch(function(e){console.log("e",e)});case 10:return i=e.sent,e.next=13,w.a.post("https://list.tronlink.org/api/wallet/multi/transaction",{address:n.address,transaction:i,netType:"main_net"});case 13:o=e.sent,m=o.data,c=m.code,a.closeSignDetailsModal(),0==c?a.onSignedTransactionSuccess(r.multiState):a.onSignedTransactionFailed(r.multiState);case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onNotSupportSign=function(e){a.setState({modal:y.a.createElement(G.a,{error:!0,title:Object(k.c)("tronscan_not_support_signatures_this_transaction"),onConfirm:a.hideModal})})},a.hideModal=function(){a.setState({modal:null})},a.hideSignedModal=function(e){a.setState({modal:null,filter:{direction:255,multiState:e}},function(){a.props.reloadWallet(),a.load()})},a.onSignedTransactionSuccess=function(e){a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("transaction_signature_muti_successful"),onConfirm:function(){return a.hideSignedModal(e)}})})},a.onSignedTransactionFailed=function(e){a.setState({modal:y.a.createElement(G.a,{error:!0,title:Object(k.c)("transaction_signature_muti_failed"),onConfirm:function(){return a.hideSignedModal(e)}})})},a.closeSignDetailsModal=function(){a.setState({isShowSignDetailsModal:!1})},a.openSignDetailsModal=function(e){a.setState({isShowSignDetailsModal:!0,details:e})},a.customizedColumn=function(){var e=a.props.intl,t=a.state.now;return[{title:it()(e.formatMessage({id:"signature_type"})),dataIndex:"contractType",key:"contractType",align:"left",className:"ant_table",render:function(e,t,a){return y.a.createElement("span",null,e)}},{title:it()(e.formatMessage({id:"signature_sponsor"})),dataIndex:"originatorAddress",key:"originatorAddress",align:"left",className:"ant_table",width:"15%",render:function(e,t,a){return y.a.createElement(H.a,{address:e},e)}},{title:it()(e.formatMessage({id:"signature_time_left"})),dataIndex:"expireTime",key:"expireTime",align:"center",className:"ant_table",render:function(e,a,n){return e?y.a.createElement(dt.a,{date:1e3*(t+a.expireTime),daysInHours:!0}):"-"}},{title:it()(e.formatMessage({id:"signature_list"})),dataIndex:"confirmed",key:"confirmed",align:"left",className:"ant_table",render:function(e,t,a){return y.a.createElement("div",{className:"p-2 position-relative",style:{background:"#f3f3f3"}},y.a.createElement("div",{className:"text-left signature-currentWeight"},t.currentWeight+"/"+t.threshold),t.signatureProgress.map(function(e,t){return y.a.createElement("div",{key:t,className:"d-flex mt-1"},y.a.createElement("div",{style:{width:250}},y.a.createElement(H.a,{address:e.address},e.address)),y.a.createElement("div",{className:"ml-2 p-1 d-block signature-weight"},e.weight),1==e.isSign?y.a.createElement("i",{className:"ml-2 signature-siged"}):"")}))}},{title:it()(e.formatMessage({id:"signature_status"})),dataIndex:"multiState",key:"multiState",align:"center",className:"ant_table",width:"15%",render:function(e,t,a){return y.a.createElement("span",null,y.a.createElement("span",null,10==e&&Object(k.c)("to_be_sign"),11==e&&Object(k.c)("signed")),y.a.createElement("span",{style:{color:"#c23631"}},2==e&&Object(k.c)("signature_failed")),y.a.createElement("span",{style:{color:"#69C265"}},1==e&&Object(k.c)("signature_successful")))}},{title:it()(e.formatMessage({id:"signature_operate"})),dataIndex:"signature_operate",key:"signature_operate",align:"right",className:"ant_table",width:"25%",render:function(e,t,n){return y.a.createElement("span",null,10==t.multiState?y.a.createElement("div",null,y.a.createElement("a",{href:"javascript:;",className:"text-primary btn btn-default btn-sm",onClick:function(){return a.multiSign(t)}},Object(k.c)("signature")),y.a.createElement("a",{href:"javascript:;",className:"text-primary btn btn-default btn-sm ml-2",onClick:function(){return a.openSignDetailsModal(t)}},Object(k.c)("details"))):1==t.multiState?y.a.createElement("div",null,y.a.createElement("div",null,y.a.createElement("a",{href:"javascript:;",className:"text-primary btn btn-default btn-sm",onClick:function(){return a.openSignDetailsModal(t)}},Object(k.c)("details"))),y.a.createElement("div",{className:"mt-3"},y.a.createElement(S.a,{className:"color-tron-100 list-item-word",style:{fontSize:12},to:"/transaction/".concat(t.hash)},Object(k.c)("view_on_chain_transactions")))):y.a.createElement("div",null,y.a.createElement("a",{href:"javascript:;",className:"text-primary btn btn-default btn-sm",onClick:function(){return a.openSignDetailsModal(t)}},Object(k.c)("details"))))}}]},a.state={modal:null,total:0,data:[],filter:{direction:255,multiState:e.type},isShowSignDetailsModal:!1,details:{},now:Math.ceil(Date.now()/1e3)},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.type;this.load()}},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n,r=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props,n=a.type,a.wallet,t.type!==n&&10===n&&this.setState({filter:{direction:255,multiState:n}},function(){r.load()});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"changeSignatureList",value:function(){var e,t=this.props.wallet,a=this.state,n=a.signatureList,r=a.filter;(n=n||[]).map(function(e){0==e.state?e.signatureProgress.map(function(a,n){a.address==t.address&&(0==a.isSign?e.multiState=10:e.multiState=11)}):e.multiState=e.state}),e=255!==r.multiState?_(n).filter(function(e){return e.multiState==r.multiState}).value():n,this.setState({data:e,total:e.length||0,loading:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.filter,r=t.total,c=(t.rangeTotal,t.loading),s=(t.emptyState,t.isShowSignDetailsModal),l=t.details,i=t.modal,o=this.customizedColumn();return y.a.createElement(v.Fragment,null,y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card list-style-body border-0"},y.a.createElement("div",{className:"card-header list-style-body__header",style:{background:"#f3f3f3"}},y.a.createElement("ul",{className:"nav nav-tabs card-header-tabs"},y.a.createElement("li",{className:"nav-item"},y.a.createElement("a",{className:255==n.multiState?"nav-link text-dark active":"nav-link text-dark",href:"javascript:;","aria-current":"page",onClick:function(){return e.onRadioChange(255,"address_transfer_all")}},y.a.createElement("span",null,Object(k.c)("address_transfer_all")))),y.a.createElement("li",{className:"nav-item"},y.a.createElement("a",{className:10==n.multiState?"nav-link text-dark active":"nav-link text-dark",href:"javascript:;","aria-current":"page",onClick:function(){return e.onRadioChange(0,"to_be_sign")}},y.a.createElement("span",null,Object(k.c)("to_be_sign")))),y.a.createElement("li",{className:"nav-item"},y.a.createElement("a",{className:11==n.multiState?"nav-link text-dark active":"nav-link text-dark",href:"javascript:;","aria-current":"page",onClick:function(){return e.onRadioChange(0,"signed")}},y.a.createElement("span",null,Object(k.c)("signed")))),y.a.createElement("li",{className:"nav-item"},y.a.createElement("a",{className:2==n.multiState?"nav-link text-dark active":"nav-link text-dark",href:"javascript:;","aria-current":"page",onClick:function(){return e.onRadioChange(2,"signature_failed")}},y.a.createElement("span",null,Object(k.c)("signature_failed")))),y.a.createElement("li",{className:"nav-item"},y.a.createElement("a",{className:1==n.multiState?"nav-link text-dark active":"nav-link text-dark",href:"javascript:;","aria-current":"page",onClick:function(){return e.onRadioChange(1,"signature_successful")}},y.a.createElement("span",null,Object(k.c)("signature_successful")))))),y.a.createElement("div",{className:"token_black pl-4 pr-4 position-relative"},0!==a.length&&y.a.createElement(mt.a,{total:r,rangeTotal:r,typeText:"transactions_unit"}),c||0!==a.length?y.a.createElement(ot.a,{bordered:!0,loading:c,column:o,data:a,total:r}):y.a.createElement("div",{className:"p-3 text-center no-data"},Object(k.c)("no_transactions")))))),s&&y.a.createElement(At,{onCancel:this.closeSignDetailsModal,details:l,onSign:this.multiSign}),i)}}]),t}(y.a.Component);var Pt={reloadWallet:B.c},Rt=Object(A.connect)(function(e){return{account:e.app.account,wallet:e.wallet.current,walletType:e.app.wallet,currentWallet:e.wallet.current,activeLanguage:e.app.activeLanguage,sidechains:e.app.sideChains}},Pt)(Object(N.h)(Mt)),Bt=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).cancel=function(){var e=a.props.onCancel;e&&e()},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return y.a.createElement(Ie.a,{title:Object(k.c)("sidechain_account_pledge_btn"),visible:!0,onCancel:this.cancel,footer:null},y.a.createElement("p",null,Object(k.c)("pledge_mapping_text")),y.a.createElement("p",{className:"mt-5 text-center"},y.a.createElement("button",{className:"btn btn-danger",style:{width:"20%"},onClick:this.cancel},Object(k.c)("ok_confirm"))))}}]),t}(v.Component);var It=Object(A.connect)(function(e){return{}},{})(Bt),Dt=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(g.a)(t).call(this))).openModal=function(t){var a=e.props.option,n=a.energyRemaining,r=a.trxBalanceRemaining,c=e.state,s=c.ENERGYMIN,l=c.TRXBALANCEMIN,i=!!t;e.setState({isShowModal:!1,modal:y.a.createElement(G.a,{type:i?"success":"error",confirmBtnText:Object(k.c)("trc20_confirm"),confirmBtnBsStyle:"danger",title:i?Object(k.c)("sign_success"):Object(k.c)("sign_error"),onConfirm:e.hideModal,style:{height:"300px",top:"30%",marginLeft:"-240px"}},y.a.createElement("div",{className:"form-group",style:{marginBottom:"36px"}},y.a.createElement("div",{className:"mt-3 mb-2 text-left",style:{color:"#666"}},!i&&n<s&&r<l&&y.a.createElement("span",{className:"text-center d-block",style:{color:"black"}},Object(k.c)("notrx_noenergy")))))})},e.hideModal=function(){e.setState({modal:null}),e.cancel()},e.confirm=function(){var t=e.props,a=t.form.validateFields,n=t.account.sunWeb,r=t.option,c=r.id,s=r.address,l=r.precision,i=r.type,o=t.fees.withdrawFee,m=e.state,u=m.numValue,h=m.errorMess;e.setState({isDisabled:!0});var f=e.validateNum();a(function(){var t=Object(p.a)(d.a.mark(function t(a,r){var m,p,b;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a||h||!f){t.next=28;break}if(t.prev=1,m=Ye(o,R.E),p=Ye(u,Math.pow(10,Number(l))),R.o.TRX10!==i){t.next=10;break}return t.next=7,n.withdrawTrc10(c,p,m,R.q);case 7:b=t.sent,t.next=20;break;case 10:if(R.o.TRX20!==i){t.next=16;break}return t.next=13,n.withdrawTrc20(p,m,R.q,s);case 13:b=t.sent,t.next=20;break;case 16:if(R.o.TRX!==i){t.next=20;break}return t.next=19,n.withdrawTrx(p,m,R.q);case 19:b=t.sent;case 20:e.openModal(b),e.setState({isDisabled:!1}),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(1),e.openModal(),e.setState({isDisabled:!1});case 28:e.setState({isDisabled:!1});case 29:case"end":return t.stop()}},t,null,[[1,24]])}));return function(e,a){return t.apply(this,arguments)}}())},e.cancel=function(){var t=e.props.onCancel;t&&t()},e.onChangeNum=function(t){var a=e.props,n=a.option,r=n.precision,c=n.balance,s=n.currency,l=n.type,i=a.intl,o=t.target&&t.target.value,m="",u=Number(r)>0?"^(0|[1-9][0-9]*)(\\.\\d{0,".concat(Number(r),"})?$"):"^(0|[1-9][0-9]*)(\\.\\d+)?$";if(o){if(!new RegExp(u).test(o))return;var d=l===R.o.TRX?R.Q:Qe(R.O,Math.pow(10,Number(r)));Number(o)<d&&(m="".concat(i.formatMessage({id:"pledge_num_min_error"})).concat(d).concat(s)),Number(o)>Number(c)&&(m=Object(k.c)("pledge_num_error"))}e.setState({numValue:o,errorMess:m})},e.validateNum=function(){var t=e.props,a=t.option.type,n=t.fees.withdrawFee,r=t.currentWallet.balance,c=t.intl,s=e.state.numValue,l=Number(s);if(R.o.TRX===a){if(r<qe(l,n))return e.setState({feeError:"".concat(c.formatMessage({id:"lack_of_balance"}))}),!1}else if(r<l)return e.setState({feeError:"".concat(c.formatMessage({id:"lack_of_balance"}))}),!1;return e.setState({feeError:""}),!0},e.state={isDisabled:!1,isShowModal:!0,feeError:"",ENERGYMIN:1e4,TRXBALANCEMIN:11},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.option,n=a.currency,r=a.balance,s=t.fees.withdrawFee,l=this.state,i=l.isDisabled,o=l.modal,m=l.isShowModal,u=l.numValue,d=l.errorMess,p=l.feeError,h=y.a.createElement(We.a.Item,{label:Object(k.c)("pledge_currency")},e("currency",{initialValue:n})(y.a.createElement(c.a,{disabled:!0}))),f=y.a.createElement("div",{className:"flex justify-content-between"},y.a.createElement("p",{className:"text-left mb-2"},Object(k.c)("pledge_num")),y.a.createElement("p",{className:"text-right mb-2"},Object(k.c)("available_balance"),":",r+n)),b=y.a.createElement("div",null,f,y.a.createElement(c.a,{value:u,onChange:this.onChangeNum}),y.a.createElement("span",{className:"mt-1",style:{color:"red",display:"block"}},d)),g=y.a.createElement("button",{className:"btn btn-danger",style:{width:"100%"},disabled:!u||i,onClick:this.confirm},Object(k.c)("sidechain_account_sign_btn")),E=y.a.createElement("p",{className:"mt-5"},Object(k.c)("sign_text"),s," TRX"),v=y.a.createElement("span",{className:"pt-2",style:{color:"red",display:"block"}},p);return y.a.createElement("div",null,y.a.createElement(Ie.a,{title:Object(k.c)("sidechain_account_sign_btn"),visible:m,onCancel:this.cancel,footer:null},y.a.createElement(We.a,{onSubmit:this.handleSubmit},h,b,E,g,p&&v)),o)}}]),t}(v.Component);var zt,Lt,Wt,Ut,Ft=We.a.create({name:"sign"})(Object(A.connect)(function(e,t){return{option:t.option,account:e.app.account,fees:e.app.fees,currentWallet:e.wallet.current}},{})(Object(N.h)(Dt))),Vt=(a(2973),a(297)),Kt=a.n(Vt),Ht=Object(N.h)(zt=function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(g.a)(t).call(this,e))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ownerPermission,a=e.tronWeb,n=t.keys,r=t.threshold,c=t.permission_name,s=n.map(function(e){return y.a.createElement("tr",{key:e.address},y.a.createElement("td",null,a.address.fromHex(e.address)),y.a.createElement("td",null,e.weight))});return y.a.createElement("div",{className:"permission"},y.a.createElement("div",{className:"permission-title"},y.a.createElement("span",{className:"permission-title-active"},Object(k.c)("signature_privilege"))),y.a.createElement("div",{className:"permission-desc"},Object(k.c)("signature_privilege_desc")),y.a.createElement("div",{className:"permission-content"},y.a.createElement("div",{className:"permission-item"}," ",y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_permission"),":")," ",y.a.createElement("span",null,c)),y.a.createElement("div",{className:"permission-item"}," ",y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_threshold"),":")," ",y.a.createElement("span",null,r)),y.a.createElement("div",{className:"permission-item permission-keys"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_keys"),":"),y.a.createElement("table",null,y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("td",null,Object(k.c)("signature_key")),y.a.createElement("td",null,Object(k.c)("signature_weight")))),y.a.createElement("tbody",null,s)),y.a.createElement("div",{className:"right-space"}))))}}]),t}(v.Component))||zt,Xt=(v.Component,a(439)),Gt=Object(N.h)(Lt=function(e){function t(e){return Object(h.a)(this,t),Object(b.a)(this,Object(g.a)(t).call(this,e))}return Object(E.a)(t,e),Object(f.a)(t,[{key:"getOperationsByHex",value:function(e){return Object(Xt.b)(e).map(function(e){return y.a.createElement("li",{key:e.id}," ",Object(k.c)(e.value)," ")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.activePermissions,n=t.tronWeb;return y.a.createElement("div",{className:"permission"},y.a.createElement("div",{className:"permission-title"},y.a.createElement("span",{className:"permission-title-active"},Object(k.c)("signature_active_permissions")),y.a.createElement("i",null,"(",a.length+"/8",")")),y.a.createElement("div",{className:"permission-desc"},Object(k.c)("signature_active_permissions_desc")),a.map(function(t){return y.a.createElement("div",{className:"permission-content",key:t.id},y.a.createElement("div",{className:"permission-item"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_permission"),":"),y.a.createElement("span",null,t.permission_name)),y.a.createElement("div",{className:"permission-item",style:{paddingBottom:0}},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_Operations"),":"),y.a.createElement("ul",{className:"permission-operation-list"},e.getOperationsByHex(t.operations))),y.a.createElement("div",{className:"permission-item",style:{paddingTop:0}},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_threshold"),":"),y.a.createElement("span",null,t.threshold)),y.a.createElement("div",{className:"permission-item permission-keys"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_keys"),":"),y.a.createElement("table",null,y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("td",null,Object(k.c)("signature_key")),y.a.createElement("td",null,Object(k.c)("signature_weight")))),y.a.createElement("tbody",null,t.keys.map(function(e){return y.a.createElement("tr",{key:e.address},y.a.createElement("td",null,n.address.fromHex(e.address)),y.a.createElement("td",null,e.weight))}))),y.a.createElement("div",{className:"right-space"})))}))}}]),t}(v.PureComponent))||Lt,qt=Object(N.h)(Wt=function(e){function t(e){var a;Object(h.a)(this,t);var n=(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).props,r=n.ownerPermission,c=(n.tronWeb,r.keys),s=r.threshold,l=r.permission_name;return a.state={keys:Kt()(c),threshold:s,permission_name:l},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"addKeysItem",value:function(){var e=this,t=this.state.keys;t.push({address:"",weight:""}),this.setState({keys:t},function(){e.changeParentOwenrPermission()})}},{key:"removeKeysItem",value:function(e,t){var a=this,n=this.state.keys;if(n.length<=1)return!1;n.splice(e,1),this.setState({keys:n},function(){a.changeParentOwenrPermission()})}},{key:"changeValue",value:function(e,t,a){var n=this,r=this.state.keys;if(1===t)r[e].address=a.target.value;else{var c=a.target.value;Object(ke.e)(c)>this.state.threshold&&(c=this.state.threshold),r[e].weight=Object(ke.e)(c)}this.setState({keys:r},function(){n.changeParentOwenrPermission()})}},{key:"changeValueByEvent",value:function(e){var t=this,a=e.target,n=a.name,r="threshold"===n?Object(ke.e)(a.value):a.value;"permission_name"===n&&(r=r.replace(/[^\w\.\/]/gi,"")),this.setState(Object(Pe.a)({},n,r),function(){t.changeParentOwenrPermission()})}},{key:"changeParentOwenrPermission",value:function(){var e=this.props.changeOwnerPermission,t=this.state;e({keys:t.keys,threshold:t.threshold,permission_name:t.permission_name})}},{key:"render",value:function(){var e=this,t=this.props,a=t.tronWeb,n=t.intl,r=this.state,s=r.keys,l=r.threshold,i=r.permission_name,o=(s=s.map(function(e){return e.address&&a.isAddress(e.address)&&(e.address=a.address.fromHex(e.address)),e})).map(function(t,a){return y.a.createElement("tr",{className:"edit-tr",key:a},y.a.createElement("td",{style:{paddingLeft:0}},y.a.createElement(c.a,{value:t.address,onChange:function(t){e.changeValue(a,1,t)}})),y.a.createElement("td",null,y.a.createElement(c.a,{value:t.weight,onChange:function(t){e.changeValue(a,2,t)}}),y.a.createElement("a",{href:"javascript:;",className:"cac-btn minus",style:{visibility:0===a&&1===s.length?"hidden":"visible"},onClick:function(t){e.removeKeysItem(a)}},"-"),y.a.createElement("a",{href:"javascript:;",className:"cac-btn plus",style:{visibility:a===s.length-1&&s.length<5?"visible":"hidden"},onClick:function(){e.addKeysItem()}},"+")))});return y.a.createElement("div",{className:"permission"},y.a.createElement("div",{className:"permission-title"},y.a.createElement("span",{className:"permission-title-active"},Object(k.c)("signature_privilege"))),y.a.createElement("div",{className:"permission-desc"},Object(k.c)("signature_privilege_desc")),y.a.createElement("div",{className:"permission-content"},y.a.createElement("div",{className:"permission-item"}," ",y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_permission"),":")," ",y.a.createElement("span",null,y.a.createElement(c.a,{value:i,name:"permission_name",placeholder:n.formatMessage({id:"permission_name_limit"}),maxLength:32,onChange:function(t){e.changeValueByEvent(t)}}))),y.a.createElement("div",{className:"permission-item"}," ",y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_threshold"),":")," ",y.a.createElement("span",null,y.a.createElement(c.a,{value:l,name:"threshold",onChange:function(t){e.changeValueByEvent(t)}}))),y.a.createElement("div",{className:"permission-item permission-keys"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_keys"),":"),y.a.createElement("table",null,y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("td",null,Object(k.c)("signature_key")),y.a.createElement("td",null,Object(k.c)("signature_weight")))),y.a.createElement("tbody",null,o)),y.a.createElement("div",{className:"right-space"}))))}}]),t}(v.Component))||Wt,Yt=a(427),Qt=a.n(Yt),Jt=a(426),Zt=a.n(Jt);function $t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ea(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$t(a,!0).forEach(function(t){Object(Pe.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$t(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ta,aa,na=Object(N.h)(Ut=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).hideModal=function(){a.setState({modal:!1})},a.hidePermissionModal=function(){a.setState({permissionModal:!1})};var n=a.props,r=n.activePermissions;n.tronWeb;return a.state={activePermissions:Kt()(r),allPermissions:[],hasContractIds:[],modal:!1,permissionModal:!1,addActiveModal:!1,modifyIndex:null,willAddActive:{operations:"",keys:[{address:"",weight:""}],threshold:"",permission_name:"",type:2},errorMsgModal:{permissionName:{msg:"",show:!1},operations:{msg:"",show:!1},thresholdValue:{msg:"",show:!1},keys:{msg:"",show:!1}}},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"getOperationsByHex",value:function(e){return e?Object(Xt.b)(e).map(function(e){return y.a.createElement("li",{key:e.id},Object(k.c)(e.value))}):""}},{key:"addKeysItem",value:function(e){var t,a=this,n=this.state.activePermissions;(t=null!==e?n[e]:this.state.willAddActive).keys.push({address:"",weight:""}),null!==e?this.setState({activePermissions:n},function(){a.changeParentActivePermission()}):this.setState({willAddActive:t})}},{key:"removeKeysItem",value:function(e,t,a){var n,r=this,c=this.state.activePermissions,s=(n=null!==e?c[e]:this.state.willAddActive).keys;if(s.length<=1)return!1;s.splice(t,1),null!==e?this.setState({activePermissions:c},function(){r.changeParentActivePermission()}):this.setState({willAddActive:n})}},{key:"changeValue",value:function(e,t,a,n){var r,c=this,s=this.state.activePermissions;if(r=null!==e?s[e]:this.state.willAddActive,1===a)r.keys[t].address=n.target.value;else{var l=n.target.value,i=r.threshold;Object(ke.e)(l)>i&&(l=i),r.keys[t].weight=Object(ke.e)(l)}if(null!=e)this.setState({activePermissions:s},function(){c.changeParentActivePermission()});else{var o=this.state.errorMsgModal;o.keys={msg:"",show:!1},this.setState({willAddActive:r,errorMsgModal:o})}}},{key:"changeValueByEvent",value:function(e,t){var a,n=this,r=this.state.activePermissions;a=null!==e?r[e]:this.state.willAddActive;var c=t.target,s=c.name,l="threshold"===s?Object(ke.e)(c.value):c.value.trim();if("permission_name"===s&&(l=l.replace(/[^\w\.\/]/gi,"")),a[s]=l,null!==e)this.setState({activePermissions:r},function(){n.changeParentActivePermission()});else{var i=this.state.errorMsgModal;"threshold"===s?i.thresholdValue={msg:"",show:!1}:i.permissionName={msg:"",show:!1},this.setState({willAddActive:a,errorMsgModal:i})}}},{key:"changeParentActivePermission",value:function(){var e=this.props.changeActivePermission,t=this.state.activePermissions;e(Kt()(t))}},{key:"hideActiveModal",value:function(){this.setState({addActiveModal:!1,errorMsgModal:{permissionName:{msg:"",show:!1},operations:{msg:"",show:!1},thresholdValue:{msg:"",show:!1},keys:{msg:"",show:!1}}})}},{key:"onChangeCheck",value:function(e){this.setState({hasContractIds:e})}},{key:"modifyPermission",value:function(e){var t=this,a=Object(Xt.a)(),n=[];if(null!=e){var r=this.state.activePermissions[e].operations;r&&(n=(n=Object(Xt.b)(r)).map(function(e){return e.id}))}else{var c=this.state,s=c.willAddActive,l=(c.errorMsgModal,s.operations);l&&(n=(n=Object(Xt.b)(l)).map(function(e){return e.id}))}this.setState({allPermissions:a,permissionModal:!0,modifyIndex:e},function(){t.setState({hasContractIds:n})})}},{key:"deleteAcItem",value:function(e){var t=this,a=this.state.activePermissions;if(1===a.length)return!1;a.splice(e,1),this.setState({activePermissions:a},function(){t.changeParentActivePermission()})}},{key:"openAddActiveModal",value:function(){if(this.state.activePermissions.length>=8)return!1;this.setState({willAddActive:{operations:"",keys:[{address:"",weight:""}],threshold:"",permission_name:"",type:2},addActiveModal:!0})}},{key:"successAlert",value:function(e){this.setState({modal:y.a.createElement(G.a,{success:!0,title:"",onConfirm:this.hideModal},e),isEditContent:!1})}},{key:"warningAlert",value:function(e){this.setState({modal:y.a.createElement(G.a,{warning:!0,title:"",onConfirm:this.hideModal},e)})}},{key:"ifContractAddress",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.tronWeb,n=!1,e.prev=2,e.next=5,a.contract().at(a.address.fromHex(t)).catch();case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n=!0;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"validKeys",value:function(){var e=Object(p.a)(d.a.mark(function e(t,a){var n,r,c,s,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.tronWeb,c=n.intl,s=this.state.errorMsgModal,l=t,0!==a.length){e.next=7;break}return s.keys={msg:c.formatMessage({id:"signature_keys_required"}),show:!0},this.setState({errorMsgModal:s}),e.abrupt("return",!1);case 7:if(r.isAddress(l.address)){e.next=11;break}return s.keys={msg:c.formatMessage({id:"signature_invalid_Address"}),show:!0},this.setState({errorMsgModal:s}),e.abrupt("return",!1);case 11:return e.next=13,this.ifContractAddress(r.address.fromHex(l.address));case 13:if(e.sent){e.next=17;break}return s.keys={msg:c.formatMessage({id:"signature_no_set"}),show:!0},this.setState({errorMsgModal:s}),e.abrupt("return",!1);case 17:if(l.weight){e.next=21;break}return s.keys={msg:c.formatMessage({id:"signature_weight_required"}),show:!0},this.setState({errorMsgModal:s}),e.abrupt("return",!1);case 21:if(!this.findIsSameKey(l,a)){e.next=25;break}return s.keys={msg:c.formatMessage({id:"signature_address_not_similar"}),show:!0},this.setState({errorMsgModal:s}),e.abrupt("return",!1);case 25:return e.abrupt("return",!0);case 26:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"findIsSameKey",value:function(e,t){var a=0,n=this.props.tronWeb;return t.forEach(function(t){n.address.fromHex(t.address)===n.address.fromHex(e.address)&&a++}),a>1}},{key:"OkAddActive",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n,r,c,s,l,i,o,m,u,p,h,f,b,g,E,v,_,y=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.activePermissions,n=t.willAddActive,r=t.errorMsgModal,c=this.props.intl,s=n.keys,l=n.permission_name,i=n.threshold,o=n.operations,r.permissionName,u=r.thresholdValue,l){e.next=9;break}return m={msg:c.formatMessage({id:"signature_permission_name_required"}),show:!0},r.permissionName=m,this.setState({errorMsgModal:r}),e.abrupt("return");case 9:if(o){e.next=13;break}return r.operations={msg:c.formatMessage({id:"signature_operations_required"}),show:!0},this.setState({errorMsgModal:r}),e.abrupt("return");case 13:if(i){e.next=18;break}return u={msg:c.formatMessage({id:"signature_threshold_required"}),show:!0},r.thresholdValue=u,this.setState({errorMsgModal:r}),e.abrupt("return");case 18:p=0,h=!1,f=!0,b=!1,g=void 0,e.prev=23,E=s[Symbol.iterator]();case 25:if(f=(v=E.next()).done){e.next=36;break}return _=v.value,e.next=29,this.validKeys(_,s);case 29:if(e.sent){e.next=31;break}return e.abrupt("return",!1);case 31:p+=_.weight,h=!0;case 33:f=!0,e.next=25;break;case 36:e.next=42;break;case 38:e.prev=38,e.t0=e.catch(23),b=!0,g=e.t0;case 42:e.prev=42,e.prev=43,f||null==E.return||E.return();case 45:if(e.prev=45,!b){e.next=48;break}throw g;case 48:return e.finish(45);case 49:return e.finish(42);case 50:if(h){e.next=52;break}return e.abrupt("return",!1);case 52:if(!(p<i)){e.next=56;break}return r.keys={msg:c.formatMessage({id:"signature__less_threshold_owner"}),show:!0},this.setState({errorMsgModal:r}),e.abrupt("return");case 56:a.push(ea({},this.state.willAddActive)),this.setState({activePermissions:a},function(){y.hideActiveModal(),y.changeParentActivePermission()});case 58:case"end":return e.stop()}},e,this,[[23,38,42,50],[43,,45,49]])}));return function(){return e.apply(this,arguments)}}()},{key:"getCheckBox",value:function(e){this.state.hasContractIds;return e.map(function(e){return y.a.createElement(Zt.a,{key:e.value,span:8},y.a.createElement(ze.a,{value:e.value,style:{fontSize:"12px",float:"left"}},Object(k.c)(e.alias)))})}},{key:"Ok",value:function(){var e=this,t=this.state,a=t.modifyIndex,n=t.activePermissions,r=t.hasContractIds,c=t.willAddActive,s=t.errorMsgModal;if(0===r.length)return!1;void 0!=a?(n[a].operations=Object(Xt.c)(r).toLowerCase(),this.setState({activePermissions:n},function(){e.changeParentActivePermission()})):(c.operations=Object(Xt.c)(r).toLowerCase(),s.operations={msg:"",show:!1},this.setState({willAddActive:c,errorMsgModal:s})),this.hidePermissionModal()}},{key:"render",value:function(){var e=this,t=this.state,a=t.activePermissions,n=t.modal,r=t.permissionModal,s=t.allPermissions,l=t.hasContractIds,i=t.addActiveModal,o=t.willAddActive,m=t.errorMsgModal,u=this.props,d=u.tronWeb,p=u.intl;return y.a.createElement("div",null,y.a.createElement("div",{className:"permission"},y.a.createElement("div",{className:"permission-title"},y.a.createElement("span",{className:"permission-title-active"},Object(k.c)("signature_active_permissions")),y.a.createElement("i",null,"(",a.length+"/8",")"),y.a.createElement("a",{className:a.length<8?"btn btn-danger ac-permission-add-btn":"btn btn-danger ac-permission-add-btn disabled-btn",size:"small",onClick:function(){e.openAddActiveModal()}},y.a.createElement("span",null,"+"),y.a.createElement("span",null,Object(k.c)("signature_add_permissions")))),y.a.createElement("div",{className:"permission-desc"},Object(k.c)("signature_active_permissions_desc")),a.map(function(t,a){return y.a.createElement("div",{className:"permission-content",key:a},y.a.createElement("a",{href:"javascript:;",className:"permission-delete",onClick:function(t){e.deleteAcItem(a,t)}}),y.a.createElement("div",{className:"permission-item"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_permission"),":"),y.a.createElement("span",null,y.a.createElement(c.a,{value:t.permission_name,name:"permission_name",placeholder:p.formatMessage({id:"permission_name_limit"}),maxLength:32,onChange:function(t){e.changeValueByEvent(a,t)}}))),y.a.createElement("div",{className:"permission-item",style:{paddingBottom:0}},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_Operations"),":"),y.a.createElement("ul",{className:"permission-operation-list"},e.getOperationsByHex(t.operations),y.a.createElement("li",{className:"permission-modify",onClick:function(t){e.modifyPermission(a,t)}},y.a.createElement("span",null,"+"),y.a.createElement("span",null,Object(k.c)("signature_add"))))),y.a.createElement("div",{className:"permission-item",style:{paddingTop:0}},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_threshold"),":"),y.a.createElement("span",null,y.a.createElement(c.a,{value:t.threshold,name:"threshold",onChange:function(t){e.changeValueByEvent(a,t)}}))),y.a.createElement("div",{className:"permission-item permission-keys"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_keys"),":"),y.a.createElement("table",null,y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("td",null,Object(k.c)("signature_key")),y.a.createElement("td",null,Object(k.c)("signature_weight")))),y.a.createElement("tbody",null,t.keys.map(function(n,r){return n.address&&d.isAddress(n.address)&&(n.address=d.address.fromHex(n.address)),y.a.createElement("tr",{key:r,className:"edit-tr"},y.a.createElement("td",{style:{paddingLeft:0}},y.a.createElement(c.a,{value:n.address,onChange:function(t){e.changeValue(a,r,1,t)}})),y.a.createElement("td",null,y.a.createElement(c.a,{value:n.weight,onChange:function(t){e.changeValue(a,r,2,t)}}),y.a.createElement("a",{href:"javascript:;",className:"cac-btn minus",style:{visibility:0===r&&1===t.keys.length?"hidden":"visible"},onClick:function(t){e.removeKeysItem(a,r)}},"-"),y.a.createElement("a",{href:"javascript:;",className:"cac-btn plus",style:{visibility:r===t.keys.length-1&&t.keys.length<5?"visible":"hidden"},onClick:function(){e.addKeysItem(a)}},"+")))}))),y.a.createElement("div",{className:"right-space"})))}),y.a.createElement(Ie.a,{title:p.formatMessage({id:"signature_edit_permissions"}),visible:r,onCancel:this.hidePermissionModal,onOk:this.Ok.bind(this),wrapClassName:"permission-modal",zIndex:5450,okText:Object(k.c)("signature_save"),cancelText:Object(k.c)("signature_cancel")},y.a.createElement("div",{className:"permission-edit-check"},y.a.createElement(ze.a.Group,{style:{width:"100%"},onChange:this.onChangeCheck.bind(this),value:l},s.map(function(t){return y.a.createElement("div",{className:"permission-edit-item",key:t.key},y.a.createElement("h5",{style:{textAlign:"left"}},t.key),y.a.createElement(Qt.a,{style:{textAlign:"left"}},e.getCheckBox(t.value)))})))),y.a.createElement(Ie.a,{title:p.formatMessage({id:"signature_add_active_permissions"}),visible:i,onCancel:function(){return e.hideActiveModal()},onOk:function(){return e.OkAddActive()},wrapClassName:"permission permission-modal",zIndex:5400,okText:Object(k.c)("signature_save"),cancelText:Object(k.c)("signature_cancel")},y.a.createElement("div",{className:"permission-content"},y.a.createElement("div",{className:"permission-item"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_permission"),":"),y.a.createElement("span",null,y.a.createElement(c.a,{name:"permission_name",value:o.permission_name,placeholder:p.formatMessage({id:"permission_name_limit"}),maxLength:32,onChange:function(t){e.changeValueByEvent(null,t)}}))),y.a.createElement("div",{className:"error-msgs",style:{display:m.permissionName.show?"block":"none"}},m.permissionName.msg),y.a.createElement("div",{className:"permission-item",style:{paddingBottom:0}},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_Operations"),":"),y.a.createElement("ul",{className:"permission-operation-list"},this.getOperationsByHex(o.operations),y.a.createElement("li",{className:"permission-modify",onClick:function(t){e.modifyPermission(void 0,t)}},y.a.createElement("span",null,"+"),y.a.createElement("span",null,Object(k.c)("signature_add"))))),y.a.createElement("div",{className:"error-msgs",style:{display:m.operations.show?"block":"none"}},m.operations.msg),y.a.createElement("div",{className:"permission-item",style:{paddingTop:0}},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_threshold"),":"),y.a.createElement("span",null,y.a.createElement(c.a,{name:"threshold",value:o.threshold,onChange:function(t){e.changeValueByEvent(null,t)}}))),y.a.createElement("div",{className:"error-msgs",style:{display:m.thresholdValue.show?"block":"none"}},m.thresholdValue.msg),y.a.createElement("div",{className:"permission-item permission-keys"},y.a.createElement("span",{className:"permission-label"},Object(k.c)("signature_keys"),":"),y.a.createElement("table",null,y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("td",null,Object(k.c)("signature_key")),y.a.createElement("td",{style:{paddingLeft:"80px"}},Object(k.c)("signature_weight")))),y.a.createElement("tbody",null,o.keys.map(function(t,a){return y.a.createElement("tr",{key:a,className:"edit-tr"},y.a.createElement("td",{style:{paddingLeft:0}},y.a.createElement(c.a,{value:t.address,onChange:function(t){e.changeValue(null,a,1,t)}})),y.a.createElement("td",null,y.a.createElement(c.a,{value:t.weight,onChange:function(t){e.changeValue(null,a,2,t)},style:{width:"50px"}}),y.a.createElement("a",{href:"javascript:;",className:"cac-btn minus",style:{visibility:0===a&&1===o.keys.length?"hidden":"visible"},onClick:function(t){e.removeKeysItem(null,a)}},"-"),y.a.createElement("a",{href:"javascript:;",className:"cac-btn plus",style:{visibility:a===o.keys.length-1&&o.keys.length<5?"visible":"hidden"},onClick:function(){e.addKeysItem(null)}},"+")))})))),y.a.createElement("div",{className:"error-msgs",style:{display:m.keys.show?"block":"none"}},m.keys.msg)))),n)}}]),t}(v.Component))||Ut,ra=a(757),ca=a(456),sa=a(758),la=a.n(sa);function ia(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Object(p.a)(d.a.mark(function e(t,a){var n,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="shasta",n="production"===la.a.curEnv?"main_net":(la.a.curEnv,"main_net"),e.next=4,w.a.post(la.a.api.mutiSign.apiPostMutiSignedTansaction,{address:t,transaction:a,netType:n});case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ma,ua=(ta=Object(A.connect)(function(e){return{wallet:e.wallet,account:e.app.account}},{reloadWallet:B.c}),Object(N.h)(aa=ta(aa=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).hideModal=function(){a.setState({modal:null})},a.hideAlertModal=function(){a.setState({modalAlert:null})};var n=a.props,r=n.wallet,c=n.tronWeb,s=n.account,l=r.current,i=l.ownerPermission,o=l.activePermissions,m=l.witnessPermission;return i&&(i.type=0,i.keys.forEach(function(e){e.address=c.address.toHex(e.address)})),m&&(m.type=1,m.keys.forEach(function(e){e.address=c.address.toHex(e.address)})),o&&o.forEach(function(e){e.type=2,e.keys.forEach(function(e){e.address=c.address.toHex(e.address)})}),a.state={isEditOperateUser:!1,isEditContent:!1,curControlAddress:"3QJmnh"==r.current.address?s.address:r.current.address,curLoginAddress:r.current.address,modal:null,modalAlert:null,ownerPermission:Kt()(i)||null,activePermissions:Kt()(o)||[],witnessPermission:Kt()(m),changedOwnerPermission:Kt()(i),changedActivePermission:Kt()(o),changedWihnessPermission:Kt()(m)},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"initState",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n,r,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.tronWeb,n=t.current,r=n.ownerPermission,c=n.activePermissions,s=n.witnessPermission,!1===t.current.representative.enabled&&(s=null),r&&(r.type=0,r.keys.forEach(function(e){e.address=a.address.toHex(e.address)})),s&&(s.type=1,s.keys.forEach(function(e){e.address=a.address.toHex(e.address)})),c&&c.forEach(function(e){e.type=2,e.keys.forEach(function(e){e.address=a.address.toHex(e.address)})}),this.setState({curControlAddress:t.current.address,curLoginAddress:t.current.address,ownerPermission:Kt()(r)||null,activePermissions:Kt()(c)||[],witnessPermission:Kt()(s),changedOwnerPermission:Kt()(r),changedActivePermission:Kt()(c),changedWihnessPermission:Kt()(s)},function(){console.log("initState",t.current.address)});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.wallet.current.address!=this.props.wallet.current.address&&this.initState(this.props.wallet)}},{key:"saveControlAddress",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n,r,c,s,l,i,o,m,u,p,h=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,a=this.props.tronWeb,n=this.state.curControlAddress,r=this.props,c=r.wallet,s=r.intl,n!==c.current.address){e.next=9;break}t=!0,this.setState({isEditOperateUser:!1}),e.next=35;break;case 9:if(t=a.isAddress(n)){e.next=13;break}return this.warningAlert(s.formatMessage({id:"signature_invalid_Address"})),e.abrupt("return");case 13:return e.prev=13,e.next=16,a.contract().at(n);case 16:return e.sent,this.warningAlert(s.formatMessage({id:"signature_no_set"})),e.abrupt("return");case 21:e.prev=21,e.t0=e.catch(13),t=!0;case 24:return e.prev=24,this.setState({isEditOperateUser:!1}),e.finish(24);case 27:if(t){e.next=30;break}return this.warningAlert(s.formatMessage({id:"signature_Unverified_address"})),e.abrupt("return");case 30:return e.next=32,a.trx.getAccount(n);case 32:l=e.sent,i=s.formatMessage({id:"signature_notInContralAddress"}),l?(o=l.active_permission,m=l.owner_permission,u=l.witness_permission,p=m.keys,p.some(function(e){return a.address.fromHex(e.address)==c.current.address})?(o&&o.length>0&&o.forEach(function(e){e.type=2,e.keys.forEach(function(e){e.address=a.address.toHex(e.address)})}),u&&(u.type=1,u.keys.forEach(function(e){e.address=a.address.toHex(e.address)})),this.setState({ownerPermission:m||null,activePermissions:o||[],witnessPermission:u||null,changedOwnerPermission:Object(ra.deepCopy)(m),changedActivePermission:Object(ra.deepCopy)(o),changedWihnessPermission:Object(ra.deepCopy)(u)})):(t=!1,this.setState({modal:y.a.createElement(G.a,{warning:!0,onConfirm:function(){return h.hideModal()},title:""},i),isEditOperateUser:!0}))):(t=!1,this.warningAlert(s.formatMessage({id:"signature_invalid_Address"})));case 35:case"end":return e.stop()}},e,this,[[13,21,24,27]])}));return function(){return e.apply(this,arguments)}}()},{key:"changeControlAddress",value:function(e){this.setState({curControlAddress:e.target.value})}},{key:"changeOwnerPermission",value:function(e){var t=this.props.tronWeb;e&&(e.type=0,e.keys.forEach(function(e){e.address=t.address.toHex(e.address)})),this.setState({changedOwnerPermission:e})}},{key:"changeActivePermission",value:function(e){this.setState({changedActivePermission:e})}},{key:"comparePermissionIsChanged",value:function(){var e=this.props.wallet,t=this.state,a=t.changedOwnerPermission,n=t.changedActivePermission,r=t.changedWihnessPermission,c=e.current.ownerPermission,s=e.current.activePermissions,l=e.current.witnessPermission,i=Ae()(c,a),o=Ae()(s,n),m=Ae()(l,r);return i&&o&&m}},{key:"ifContractAddress",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.tronWeb,n=!1,e.prev=2,e.next=5,a.contract().at(a.address.fromHex(t)).catch();case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n=!0;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"validKeys",value:function(){var e=Object(p.a)(d.a.mark(function e(t,a){var n,r,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.tronWeb,c=n.intl,(s=t).address.trim()){e.next=5;break}return this.warningAlert(c.formatMessage({id:"signature_invalid_Address"})),e.abrupt("return",!1);case 5:if(r.isAddress(s.address)){e.next=8;break}return this.warningAlert(c.formatMessage({id:"signature_invalid_Address"})),e.abrupt("return",!1);case 8:return e.next=10,this.ifContractAddress(r.address.fromHex(s.address));case 10:if(e.sent){e.next=13;break}return this.warningAlert(c.formatMessage({id:"signature_no_set"})),e.abrupt("return",!1);case 13:if(s.weight){e.next=16;break}return this.warningAlert(c.formatMessage({id:"signature_weight_required"})),e.abrupt("return",!1);case 16:if(!this.findIsSameKey(s,a)){e.next=19;break}return this.warningAlert(c.formatMessage({id:"signature_address_not_similar"})),e.abrupt("return",!1);case 19:return 42!==s.address.length&&(s.address=r.address.toHex(s.address)),e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"findIsSameKey",value:function(e,t){var a=0,n=this.props.tronWeb;return t.forEach(function(t){n.address.fromHex(t.address)===n.address.fromHex(e.address)&&a++}),a>1}},{key:"successAlert",value:function(e){this.setState({modal:y.a.createElement(G.a,{success:!0,title:"",onConfirm:this.hideModal},e),isEditContent:!1})}},{key:"warningAlert",value:function(e){this.setState({modalAlert:y.a.createElement(G.a,{warning:!0,title:"",onConfirm:this.hideAlertModal},e)})}},{key:"confirmAlert",value:function(e,t,a){var n=this;this.setState({modal:y.a.createElement(G.a,{warning:!0,showCancel:!0,confirmBtnText:Object(k.c)("ok_confirm"),confirmBtnBsStyle:"danger",cancelBtnText:Object(k.c)("signature_cancel"),cancelBtnBsStyle:"cancel",onConfirm:function(){return e()},onCancel:function(){return n.hideModal()},focusCancelBtn:!0},a)})}},{key:"onCancelClick",value:function(){var e=this;this.confirmAlert(function(){e.hideModal(),e.setState({isEditContent:!1})},null,y.a.createElement("div",{className:"confirm-content-text"},Object(k.c)("signature_giveup_change")))}},{key:"onSubmitClick",value:function(){var e=this;this.confirmAlert(function(){e.hideModal(),e.savePermission()},null,y.a.createElement("div",{className:"confirm-content-text"},Object(k.c)("signature_set_spend_trx"),y.a.createElement("span",{className:"trx"},"100TRX"),Object(k.c)("signature_submit_change")))}},{key:"savePermission",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n,r,c,s,l,i,o,m,u,p,h,f,b,g,E,v,_,O,j,w,N,S,C,T,A,M,P,R,B,I,D,z,L,W,U,F,V,K,H=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.tronWeb,t.reloadWallet,n=t.intl,r=this.state,c=r.changedOwnerPermission,s=r.changedActivePermission,l=r.changedWihnessPermission,i=r.curLoginAddress,o=r.curControlAddress,c){e.next=4;break}return e.abrupt("return");case 4:if(c.type=0,m=c.threshold,c.permission_name){e.next=9;break}return this.warningAlert(n.formatMessage({id:"signature_owner_permission_name_required"})),e.abrupt("return");case 9:if(m){e.next=12;break}return this.warningAlert(n.formatMessage({id:"signature_owner_threshold_required"})),e.abrupt("return");case 12:u=0,p=!1,h=!0,f=!1,b=void 0,e.prev=17,g=c.keys[Symbol.iterator]();case 19:if(h=(E=g.next()).done){e.next=31;break}return v=E.value,e.next=23,this.validKeys(v,c.keys);case 23:if(e.sent){e.next=26;break}return p=!1,e.abrupt("break",31);case 26:u+=v.weight,p=!0;case 28:h=!0,e.next=19;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(17),f=!0,b=e.t0;case 37:e.prev=37,e.prev=38,h||null==g.return||g.return();case 40:if(e.prev=40,!f){e.next=43;break}throw b;case 43:return e.finish(40);case 44:return e.finish(37);case 45:if(p){e.next=47;break}return e.abrupt("return");case 47:if(!(u<m)){e.next=50;break}return this.warningAlert(n.formatMessage({id:"signature__less_threshold_owner"})),e.abrupt("return");case 50:_=!0,O=0;case 52:if(!(O<s.length)){e.next=105;break}if(j=s[O],w=0,N=j.threshold,j.permission_name){e.next=60;break}return this.warningAlert(n.formatMessage({id:"signature_active_permission_name_required"})),_=!1,e.abrupt("break",105);case 60:if(j.threshold){e.next=64;break}return this.warningAlert(n.formatMessage({id:"signature_active_threshold_required"})),_=!1,e.abrupt("break",105);case 64:S=!1,C=!0,T=!1,A=void 0,e.prev=68,M=j.keys[Symbol.iterator]();case 70:if(C=(P=M.next()).done){e.next=82;break}return R=P.value,e.next=74,this.validKeys(R,j.keys);case 74:if(e.sent){e.next=77;break}return _=!1,e.abrupt("break",82);case 77:w+=R.weight,S=!0;case 79:C=!0,e.next=70;break;case 82:e.next=88;break;case 84:e.prev=84,e.t1=e.catch(68),T=!0,A=e.t1;case 88:e.prev=88,e.prev=89,C||null==M.return||M.return();case 91:if(e.prev=91,!T){e.next=94;break}throw A;case 94:return e.finish(91);case 95:return e.finish(88);case 96:if(S){e.next=98;break}return e.abrupt("break",105);case 98:if(!(w<N)){e.next=102;break}return _=!1,this.warningAlert(n.formatMessage({id:"signature__less_threshold_active"})),e.abrupt("return");case 102:O++,e.next=52;break;case 105:if(_){e.next=108;break}return console.log("active vliad failed"),e.abrupt("return");case 108:if(B=this.state.ownerPermission,I=B.keys,!(o===i&&I.length<2&&I[0].address===a.address.toHex(i))){e.next=124;break}return e.next=114,a.transactionBuilder.updateAccountPermissions(a.address.toHex(i),c,l,s);case 114:return D=e.sent,e.next=117,a.trx.sign(D);case 117:return z=e.sent,e.next=120,a.trx.broadcast(z).catch(function(e){H.setState({modal:y.a.createElement(G.a,{warning:!0,title:"Update Permission",onConfirm:H.hideModal},Object(k.c)("signature_update_failed"))})});case 120:(L=e.sent)&&L.result?(this.setState({ownerPermission:Object(ra.deepCopy)(c),activePermissions:Object(ra.deepCopy)(s),witnessPermission:Object(ra.deepCopy)(l)}),this.successAlert(n.formatMessage({id:"transaction_signature_muti_successful"}))):this.warningAlert(n.formatMessage({id:"transaction_signature_muti_failed"})),e.next=137;break;case 124:return e.next=126,a.transactionBuilder.updateAccountPermissions(a.address.toHex(o),c,l,s);case 126:return W=e.sent,U=W.raw_data.contract[0].parameter.value,F=Object(ca.buildAccountPermissionUpdateContract)(U),e.next=131,Object(x.b)(W,a,0,1,F);case 131:return V=e.sent,e.next=134,ia(i,V);case 134:K=e.sent,0===K.code?(this.setState({ownerPermission:Object(ra.deepCopy)(c),activePermissions:Object(ra.deepCopy)(s),witnessPermission:Object(ra.deepCopy)(l)}),this.successAlert(n.formatMessage({id:"transaction_signature_muti_successful"}))):this.warningAlert(n.formatMessage({id:"transaction_signature_muti_failed"}));case 137:case"end":return e.stop()}},e,this,[[17,33,37,45],[38,,40,44],[68,84,88,96],[89,,91,95]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isEditOperateUser,n=t.isEditContent,r=t.curControlAddress,s=t.modal,l=t.modalAlert,i=t.curLoginAddress,o=t.ownerPermission,m=t.activePermissions,u=(t.witnessPermission,this.props),d=u.wallet,p=u.tronWeb;r===i?d.current:this.state;d.current.address;return y.a.createElement("main",{className:"permission-main"},y.a.createElement("div",{className:"control-address"},y.a.createElement("span",null," ",Object(k.c)("signature_control_address"),":",y.a.createElement(fe.a,{placement:"top",text:"signaure_control_address_tip"})),y.a.createElement(c.a,{size:"small",value:r,className:a?"":"read",readOnly:!a,onChange:function(t){e.changeControlAddress(t)}}),y.a.createElement(Ne.a,{className:"btn btn-danger",style:{display:a?"block":"none"},onClick:function(){return e.saveControlAddress()}},Object(k.c)("signature_save")),y.a.createElement(Ne.a,{className:"btn btn-cancel",style:{display:a?"none":"block"},onClick:function(){e.setState({isEditOperateUser:!0})}},Object(k.c)("signature_alter"))),y.a.createElement("div",{className:"global-operate"},y.a.createElement("h5",null,Object(k.c)("signature_authority_structure")),y.a.createElement("div",{className:"operate-btn"},y.a.createElement("a",{href:"javascript:;",className:"edit-permission",style:{display:n?"none":"inline-block"},onClick:function(){e.setState({isEditContent:!0})}},y.a.createElement("span",{className:"edit"}),y.a.createElement("span",null,Object(k.c)("signature_edit_permissions"))," "),y.a.createElement("div",{className:"buttonWarp",style:{display:n?"inline-block":"none"}},y.a.createElement(Ne.a,{className:"btn btn-cancel",onClick:function(){e.onCancelClick()}},Object(k.c)("signature_cancel")),y.a.createElement(Ne.a,{className:"btn btn-danger",style:{marginLeft:"10px"},onClick:function(){e.onSubmitClick()}},Object(k.c)("signature_save")))),s),l,o&&!n&&y.a.createElement(Ht,{ownerPermission:o,tronWeb:p}),m&&!n&&y.a.createElement(Gt,{activePermissions:m,tronWeb:p}),o&&n&&y.a.createElement(qt,{ownerPermission:o,tronWeb:p,changeOwnerPermission:this.changeOwnerPermission.bind(this)}),m&&n&&y.a.createElement(na,{activePermissions:m,tronWeb:p,changeActivePermission:this.changeActivePermission.bind(this)}))}}]),t}(y.a.Component))||aa)||aa);a.d(t,"default",function(){return da});var da=Object(A.connect)(function(e){return{account:e.app.account,walletType:e.app.wallet,tokenBalances:e.account.tokens,tokens20:e.account.tokens20,totalTransactions:e.account.totalTransactions,frozen:e.account.frozen,accountResource:e.account.accountResource,delegated:e.account.delegated,wallet:e.wallet,currentWallet:e.wallet.current,trxBalance:e.account.trxBalance,voteTimer:e.voting.voteTimer}},{login:be.v,loadRecentTransactions:ge.j,reloadWallet:B.c,loadSideChains:be.t,loadFees:be.s,loadVoteTimer:Ee.c})(ma=Object(N.h)(ma=Object(F.a)(ma=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).loadVoteTimer=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.loadVoteTimer();case 1:case"end":return e.stop()}},e)})),a.getAddressRewardBok=Object(p.a)(d.a.mark(function e(){var t,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.account,e.next=3,P.a.getAddressReward({address:t.address});case 3:n=e.sent,a.setState({reward:n.reward});case 5:case"end":return e.stop()}},e)})),a.getAddressReward=Object(p.a)(d.a.mark(function e(){var t,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.account,n=t.tronWeb,e.next=4,n.trx.getReward(n.defaultAddress.base58);case 4:r=e.sent,a.setState({accountReward:r});case 6:case"end":return e.stop()}},e)})),a.getSRBrokerage=Object(p.a)(d.a.mark(function e(){var t,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.account,n=t.tronWeb,e.next=4,n.trx.getBrokerage(n.defaultAddress.base58);case 4:r=e.sent,a.setState({brokerageValue:100-r});case 6:case"end":return e.stop()}},e)})),a.scrollToAnchor=function(){var e=document.getElementById("tronPower");e&&e.scrollIntoView()},a.scrollToMultisign=function(){var e=document.getElementById("tronMultisign");e&&e.scrollIntoView()},a.loadAccount=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i,o,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.account,r=t.loadRecentTransactions,c=t.currentWallet,r(n.address),a.setState({issuedAsset:null,sr:null}),!c||!c.representative.enabled){e.next=8;break}return e.next=6,P.a.getSuperRepresentative(c.address);case 6:s=e.sent,a.setState({sr:s});case 8:return e.next=10,P.a.getIssuedAsset(n.address);case 10:if(l=e.sent,!(i=l.token)){e.next=19;break}return e.next=15,P.a.getAssetTransfers({limit:0,start:0,issueAddress:n.address});case 15:o=e.sent,m=o.rangeTotal,i.rangeTotal=m,a.setState({issuedAsset:i});case 19:case"end":return e.stop()}},e)})),a.reloadTokens=function(){a.props.reloadWallet()},a.onInputChange=function(e){var t=a.props.account;e&&64===e.length?(a.privateKey.className="form-control",Object(he.pkToAddress)(e)!==t.address&&(a.privateKey.className="form-control is-invalid")):a.privateKey.className="form-control is-invalid",a.setState({privateKey:e}),a.privateKey.value=e},a.confirmPrivateKey=function(e){a.state.privateKey;var t=a.props.account,n=null;"freeze"===e&&(n=a.showFreezeBalance),"unfreeze"===e&&(n=a.showUnfreezeModal),"applySR"===e&&(n=a.applyForDelegate),"claimRewards"===e&&(n=a.claimRewards),"unfreezeAssetsConfirmation"===e&&(n=a.unfreezeAssetsConfirmation),"changeName"===e&&(n=a.changeName),"changeWebsite"===e&&(n=a.changeWebsite),"changeGithubURL"===e&&(n=a.changeGithubURL);a.setState({modal:y.a.createElement(G.a,{info:!0,showCancel:!0,cancelBtnText:Object(k.c)("cancel"),confirmBtnText:Object(k.c)("confirm"),confirmBtnBsStyle:"success",cancelBtnBsStyle:"default",title:Object(k.c)("confirm_private_key"),onConfirm:function(){a.privateKey.value&&64===a.privateKey.value.length&&Object(he.pkToAddress)(a.privateKey.value)===t.address&&n()},onCancel:a.hideModal,style:{marginLeft:"-240px",marginTop:"-195px"}},y.a.createElement("div",{className:"form-group"},y.a.createElement("div",{className:"input-group mb-3"},y.a.createElement("input",{type:"text",ref:function(e){return a.privateKey=e},onChange:function(e){a.onInputChange(e.target.value)},className:"form-control is-invalid"}),y.a.createElement("div",{className:"invalid-feedback"},Object(k.c)("fill_a_valid_private_key")))))})},a.showFreezeBalance=function(){var e=a.state.privateKey,t=a.props,n=t.trxBalance,r=t.currentWallet;0!==n?a.setState({modal:y.a.createElement(V,{frozenTrx:r.frozenTrx,privateKey:e,onHide:a.hideModal,onError:function(){a.setState({modal:y.a.createElement(G.a,{warning:!0,title:Object(k.c)("Error"),onConfirm:a.hideModal},Object(k.c)("freeze_TRX_error"))})},onConfirm:function(e){var t=e.amount;return a.showFreezeConfirmation(t)}})}):a.setState({modal:y.a.createElement(G.a,{warning:!0,title:Object(k.c)("not_enough_trx"),onConfirm:a.hideModal},Object(k.c)("freeze_trx_least"))})},a.resourceSelectChange=function(e){a.setState({selectedResource:Number(e)})},a.hideModal=function(){a.setState({modal:null})},a.hideFreezeModal=function(){a.setState({modal:null,selectedResource:null})},a.showUnfreezeModal=function(){var e=Object(p.a)(d.a.mark(function e(t,n,r){var c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({delegateType:t,delegate:n,delegateValue:r}),c=a.state,c.privateKey,c.selectedResource,c.resources,a.props.intl,a.setState({modal:y.a.createElement(G.a,{info:!0,showCancel:!0,confirmBtnText:Object(k.c)("unfreeze"),confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",cancelBtnText:Object(k.c)("cancel"),title:Object(k.c)("unfreeze_trx_confirm_message"),onConfirm:a.unfreeze,onCancel:a.hideFreezeModal,style:{height:"300px"}},y.a.createElement("div",{className:"form-group",style:{marginBottom:"36px"}},y.a.createElement("div",{className:"mt-3 mb-2 text-left",style:{color:"#666"}})))});case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.unfreezeAssetsConfirmation=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({modal:y.a.createElement(G.a,{info:!0,showCancel:!0,confirmBtnText:Object(k.c)("unfreeze_assets"),confirmBtnBsStyle:"danger",cancelBtnBsStyle:"default",cancelBtnText:Object(k.c)("cancel"),title:Object(k.c)("sure_to_unfreeze_unlocked_tokens_message"),onConfirm:a.unfreezeAssets,onCancel:a.hideModal})});case 1:case"end":return e.stop()}},e)})),a.unfreeze=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i,o,m,u,p,h,f,b,g,E,v,_,O,j,w,N,S,C;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.delegateType,r=t.delegate,c=t.delegateValue,s=a.props,l=s.account,i=s.walletType,a.state.privateKey,a.hideModal(),!R.v){e.next=62;break}if(!U.a.get("islogin")&&"ACCOUNT_LEDGER"!==a.props.walletType.type&&"ACCOUNT_TRONLINK"!==a.props.walletType.type){e.next=47;break}if(m=a.props.tronWeb(),u=a.props.account.tronWeb,n=n?"ENERGY":"BANDWIDTH",e.prev=9,"ACCOUNT_LEDGER"!==a.props.walletType.type){e.next=25;break}if(r){e.next=17;break}return e.next=14,m.transactionBuilder.unfreezeBalance(n,i.address).catch(function(e){return!1});case 14:p=e.sent,e.next=20;break;case 17:return e.next=19,m.transactionBuilder.unfreezeBalance(n,i.address,c).catch(function(e){return!1});case 19:p=e.sent;case 20:return e.next=22,Object(x.c)(p,m);case 22:h=e.sent,f=h.result,o=f;case 25:if("ACCOUNT_TRONLINK"!==a.props.walletType.type){e.next=40;break}if(r){e.next=32;break}return e.next=29,u.transactionBuilder.unfreezeBalance(n,u.defaultAddress.base58).catch(function(e){return!1});case 29:b=e.sent,e.next=35;break;case 32:return e.next=34,u.transactionBuilder.unfreezeBalance(n,u.defaultAddress.base58,c).catch(function(e){return!1});case 34:b=e.sent;case 35:return e.next=37,Object(x.c)(b,u);case 37:g=e.sent,E=g.result,o=E;case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(9),console.log(e.t0);case 45:e.next=60;break;case 47:if(r){e.next=55;break}return e.next=50,P.a.unfreezeBalance(l.address,n,"")(l.key);case 50:v=e.sent,_=v.success,o=_,e.next=60;break;case 55:return e.next=57,P.a.unfreezeBalance(l.address,n,c)(l.key);case 57:O=e.sent,j=O.success,o=j;case 60:e.next=85;break;case 62:if(w=a.props.account.sunWeb,n=n?"ENERGY":"BANDWIDTH",e.prev=64,"ACCOUNT_TRONLINK"!==a.props.wallet.type&&"ACCOUNT_PRIVATE_KEY"!==a.props.wallet.type){e.next=80;break}if(r){e.next=72;break}return e.next=69,w.sidechain.transactionBuilder.unfreezeBalance(n,w.sidechain.defaultAddress.base58).catch(function(e){return!1});case 69:N=e.sent,e.next=75;break;case 72:return e.next=74,w.sidechain.transactionBuilder.unfreezeBalance(n,w.sidechain.defaultAddress.base58,c).catch(function(e){return!1});case 74:N=e.sent;case 75:return e.next=77,Object(x.e)(N,w);case 77:S=e.sent,C=S.result,o=C;case 80:e.next=85;break;case 82:e.prev=82,e.t1=e.catch(64),console.log(e.t1);case 85:o?(a.setState({modal:y.a.createElement(G.a,{success:!0,title:"TRX Unfrozen",onConfirm:a.hideFreezeModal},Object(k.c)("success_unfrozen_trx"))}),setTimeout(function(){return a.reloadTokens()},1200)):a.setState({modal:y.a.createElement(G.a,{warning:!0,title:Object(k.c)("unable_to_unfreeze"),onConfirm:a.hideFreezeModal},Object(k.c)("unable_unfreeze_trx_message"))});case 86:case"end":return e.stop()}},e,null,[[9,42],[64,82]])})),a.unfreezeAssets=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.account,a.state.privateKey,a.hideModal(),1!==a.state.isTronLink){e.next=15;break}return"ACCOUNT_LEDGER"===a.props.walletType.type?r=a.props.tronWeb():"ACCOUNT_TRONLINK"===a.props.walletType.type&&(r=t.tronWeb),e.next=7,r.fullNode.request("wallet/unfreezeasset",{owner_address:r.defaultAddress.hex},"post").catch(function(e){return!1});case 7:return c=e.sent,e.next=10,Object(x.c)(c,r);case 10:s=e.sent,l=s.result,n=l,e.next=20;break;case 15:return e.next=17,P.a.unfreezeAssets(t.address)(t.key);case 17:i=e.sent,o=i.success,n=o;case 20:n?(a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("tokens_unfrozen"),onConfirm:a.hideModal},Object(k.c)("success_tokens_unfrozen_message"))}),setTimeout(function(){return a.loadAccount()},1200),setTimeout(function(){return a.props.reloadWallet()},1200)):a.setState({modal:y.a.createElement(G.a,{warning:!0,title:Object(k.c)("unable_to_unfreeze"),onConfirm:a.hideModal},Object(k.c)("Unable_tokens_unfrozen_message"))});case 21:case"end":return e.stop()}},e)})),a.showFreezeConfirmation=function(e){a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("tokens_frozen"),onConfirm:a.hideModal},Object(k.c)("successfully_frozen")," ",e," TRX")}),setTimeout(function(){return a.props.reloadWallet()},1e3)},a.updateName=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r,c,s,l,i,o,m,u,p,h,f,b,g,E,v,_,O,j;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props,c=r.account,s=r.currentWallet,l=r.onError,!R.v){e.next=40;break}if(e.prev=2,"ACCOUNT_LEDGER"!==a.props.walletType.type){e.next=15;break}return i=a.props.tronWeb(),e.next=7,i.transactionBuilder.updateAccount(t,a.props.walletType.address);case 7:return o=e.sent,e.next=10,Object(x.c)(o,i);case 10:m=e.sent,u=m.result,n=u,e.next=32;break;case 15:if("ACCOUNT_TRONLINK"!==a.props.walletType.type){e.next=27;break}return p=c.tronWeb,e.next=19,p.fullNode.request("wallet/updateaccount",{account_name:p.fromUtf8(t),owner_address:p.defaultAddress.hex},"post").catch(function(e){return!1});case 19:return h=e.sent,e.next=22,Object(x.c)(h,p);case 22:f=e.sent,b=f.result,n=b,e.next=32;break;case 27:return e.next=29,P.a.updateAccountName(s.address,t)(c.key);case 29:g=e.sent,E=g.success,n=E;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(2),console.error(e.t0),l&&l();case 38:e.next=57;break;case 40:if(e.prev=40,"ACCOUNT_PRIVATE_KEY"!==a.props.walletType.type&&"ACCOUNT_TRONLINK"!==a.props.wallet.type){e.next=51;break}return v=c.sunWeb,e.next=45,v.sidechain.fullNode.request("wallet/updateaccount",{account_name:v.sidechain.fromUtf8(t),owner_address:v.sidechain.defaultAddress.hex},"post").catch(function(e){return!1});case 45:return _=e.sent,e.next=48,Object(x.e)(_,v);case 48:O=e.sent,j=O.result,n=j;case 51:e.next=57;break;case 53:e.prev=53,e.t1=e.catch(40),console.error(e.t1),l&&l();case 57:n?(a.setState({temporaryName:t,modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("name_changed"),onConfirm:a.hideModal},Object(k.c)("successfully_changed_name_to_message")," ",y.a.createElement("b",null,t))}),setTimeout(function(){return a.props.reloadWallet()},1e3)):a.setState({modal:y.a.createElement(G.a,{warning:!0,title:Object(k.c)("unable_to_rename_title"),onConfirm:a.hideModal},Object(k.c)("unable_to_rename_message"))});case 58:case"end":return e.stop()}},e,null,[[2,34],[40,53]])}));return function(t){return e.apply(this,arguments)}}(),a.updateWebsite=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r,c,s,l,i,o,m,u,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props,c=r.account,s=r.currentWallet,1!==a.state.isTronLink){e.next=13;break}return"ACCOUNT_LEDGER"===a.props.walletType.type?l=a.props.tronWeb():"ACCOUNT_TRONLINK"===a.props.walletType.type&&(l=c.tronWeb),e.next=5,l.fullNode.request("wallet/updatewitness",{update_url:l.fromUtf8(t),owner_address:l.defaultAddress.hex},"post");case 5:return i=e.sent,e.next=8,Object(x.c)(i,l);case 8:o=e.sent,m=o.result,n=m,e.next=18;break;case 13:return e.next=15,P.a.updateWitnessUrl(s.address,t)(c.key);case 15:u=e.sent,p=u.success,n=p;case 18:n?(a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("url_changed"),onConfirm:a.hideModal},Object(k.c)("successfully_changed_website_message")," ",y.a.createElement("b",null,t))}),setTimeout(function(){return a.props.reloadWallet()},1e3)):a.setState({modal:y.a.createElement(G.a,{warning:!0,title:Object(k.c)("unable_to_change_website_title"),onConfirm:a.hideModal},Object(k.c)("unable_to_change_website_message"))});case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.createTxnPair=function(){var e=Object(p.a)(d.a.mark(function e(t,n,r,c){var s,l,i,o,m,u,p,h,f,b,g,E,v,_;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=a.props,i=l.account,o=l.currentWallet,"ACCOUNT_LEDGER"!==a.props.walletType.type){e.next=13;break}return m=a.props.tronWeb(),e.next=5,m.transactionBuilder.createTRXExchange(t,r,c,o.address).catch(function(e){return!1});case 5:return u=e.sent,e.next=8,Object(x.c)(u,m);case 8:p=e.sent,h=p.result,s=h,e.next=30;break;case 13:if("ACCOUNT_TRONLINK"!==a.props.walletType.type){e.next=25;break}return f=i.tronWeb,e.next=17,f.transactionBuilder.createTRXExchange(t,r,c,f.defaultAddress.hex).catch(function(e){return!1});case 17:return b=e.sent,e.next=20,Object(x.c)(b,f);case 20:g=e.sent,E=g.result,s=E,e.next=30;break;case 25:return e.next=27,P.a.createExchange(o.address,t,n,r,c)(i.key);case 27:v=e.sent,_=v.success,s=_;case 30:s?(a.setState({temporaryName:name,modal:y.a.createElement(G.a,{success:!0,onConfirm:a.hideModal},Object(k.c)("successfully_created_pair"))}),setTimeout(function(){return a.props.reloadWallet()},1e3)):a.setState({modal:y.a.createElement(G.a,{warning:!0,onConfirm:a.hideModal},Object(k.c)("pair_creation_failed"))});case 31:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.injectExchange=function(){var e=Object(p.a)(d.a.mark(function e(t,n,r){var c,s,l,i,o,m,u,p,h,f,b,g,E,v;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.props,l=s.account,i=s.currentWallet,"ACCOUNT_LEDGER"!==a.props.walletType.type){e.next=13;break}return o=a.props.tronWeb(),e.next=5,o.transactionBuilder.injectExchangeTokens(t,n,r,i.address).catch(function(e){return!1});case 5:return m=e.sent,e.next=8,Object(x.c)(m,o);case 8:u=e.sent,p=u.result,c=p,e.next=30;break;case 13:if("ACCOUNT_TRONLINK"!==a.props.walletType.type){e.next=25;break}return h=l.tronWeb,e.next=17,h.transactionBuilder.injectExchangeTokens(t,n,r,h.defaultAddress.hex).catch(function(e){return!1});case 17:return f=e.sent,e.next=20,Object(x.c)(f,h);case 20:b=e.sent,g=b.result,c=g,e.next=30;break;case 25:return e.next=27,P.a.injectExchange(i.address,t,n,r)(l.key);case 27:E=e.sent,v=E.success,c=v;case 30:c?(a.setState({temporaryName:name,modal:y.a.createElement(G.a,{success:!0,onConfirm:a.hideModal},Object(k.c)("successful_injection"))}),setTimeout(function(){return a.props.reloadWallet()},5e3)):a.setState({modal:y.a.createElement(G.a,{warning:!0,onConfirm:a.hideModal},Object(k.c)("sorry_injection_failed"))});case 31:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.withdrawExchange=function(){var e=Object(p.a)(d.a.mark(function e(t,n,r){var c,s,l,i,o,m,u,p,h,f,b,g,E,v;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.props,l=s.account,i=s.currentWallet,"ACCOUNT_LEDGER"!==a.props.walletType.type){e.next=13;break}return o=a.props.tronWeb(),e.next=5,o.transactionBuilder.withdrawExchangeTokens(t,n,r,i.address).catch(function(e){return!1});case 5:return m=e.sent,e.next=8,Object(x.c)(m,o);case 8:u=e.sent,p=u.result,c=p,e.next=30;break;case 13:if("ACCOUNT_TRONLINK"!==a.props.walletType.type){e.next=25;break}return h=l.tronWeb,e.next=17,h.transactionBuilder.withdrawExchangeTokens(t,n,r,h.defaultAddress.hex).catch(function(e){return!1});case 17:return f=e.sent,e.next=20,Object(x.c)(f,h);case 20:b=e.sent,g=b.result,c=g,e.next=30;break;case 25:return e.next=27,P.a.withdrawExchange(i.address,t,n,r)(l.key);case 27:E=e.sent,v=E.success,c=v;case 30:c?(a.setState({temporaryName:name,modal:y.a.createElement(G.a,{success:!0,onConfirm:a.hideModal},Object(k.c)("successful_withdrawal"))}),setTimeout(function(){return a.props.reloadWallet()},5e3)):a.setState({modal:y.a.createElement(G.a,{warning:!0,onConfirm:a.hideModal},Object(k.c)("sorry_withdrawal_failed"))});case 31:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.changeName=function(){a.setState({modal:y.a.createElement(te,{onConfirm:function(e){return a.updateName(e)},onCancel:a.hideModal})})},a.changeTxnPair=function(){a.setState({modal:y.a.createElement(ie,{onCreate:function(e,t,n,r){return a.createTxnPair(e,t,n,r)},onCancel:a.hideModal,dealPairTrxLimit:a.state.dealPairTrxLimit})})},a.injectTxnPair=function(e){a.setState({modal:y.a.createElement(ue,{onInject:function(e,t,n){return a.injectExchange(e,t,n)},onCancel:a.hideModal,exchange:e,inject:!0})})},a.withdrawTxnPair=function(e){a.setState({modal:y.a.createElement(ue,{onWithdraw:function(e,t,n){return a.withdrawExchange(e,t,n)},onCancel:a.hideModal,exchange:e,inject:!1,dealPairTrxLimit:a.state.dealPairTrxLimit})})},a.changeGithubURL=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({modal:1===a.state.isTronLink?y.a.createElement(G.a,{onCancel:a.hideModal,onConfirm:a.hideModal},Object(k.c)("change_login_method")):y.a.createElement(G.a,{input:!0,showCancel:!0,cancelBtnBsStyle:"default",cancelBtnText:Object(k.c)("cancel"),confirmBtnText:Object(k.c)("link_github"),title:Object(k.c)("link_to_github"),placeHolder:"github username or https://github.com/{username}/tronsr-template",onCancel:a.hideModal,validationMsg:Object(k.c)("you_must_enter_a_url"),onConfirm:function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.detectGithubUrl(t);case 2:if(!e.sent){e.next=6;break}a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("github_linked"),onConfirm:a.hideModal},Object(k.c)("successfully_linked_github"))}),e.next=7;break;case 6:a.setState({modal:y.a.createElement(G.a,{danger:!0,showCancel:!0,title:Object(k.c)("could_not_link_github"),onCancel:a.hideModal,onConfirm:a.changeGithubURL},Object(k.c)("unable_to_link_github_message"))});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Object(k.c)("enter_your_github_username"))});case 1:case"end":return e.stop()}},e)})),a.hasGithubLink=function(){var e=a.state.sr;return e&&0!==m()(e.githubLink).length},a.detectGithubUrl=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=["https://raw.githubusercontent.com/".concat(t,"/tronsr-template/master/logo.png"),"https://raw.githubusercontent.com/".concat(t,"/master/logo.png")],r=0,c=n;case 2:if(!(r<c.length)){e.next=17;break}return s=c[r],e.prev=4,e.next=7,w.a.get(s);case 7:return e.next=9,a.updateGithubURL(t);case 9:return e.abrupt("return",!0);case 12:e.prev=12,e.t0=e.catch(4);case 14:r++,e.next=2;break;case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t){return e.apply(this,arguments)}}(),a.updateGithubURL=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r,c,s,l,o,m,u,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.account,c=n.currentWallet,e.next=3,P.a.auth(r.key);case 3:if(s=e.sent,l=t.split("/"),o=Object(i.a)(l,2),m=o[0],u=o[1],p=m+"/"+(u||"tronsr-template"),1!==a.state.isTronLink){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,P.a.updateSuperRepresentative(s,{address:c.address,githubLink:p});case 12:a.loadAccount();case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.changeWebsite=function(){a.setState({modal:y.a.createElement(G.a,{input:!0,showCancel:!0,cancelBtnBsStyle:"default",title:Object(k.c)("change_website"),placeHolder:"https://",onCancel:a.hideModal,validationMsg:Object(k.c)("you_must_enter_url"),onConfirm:function(e){return a.updateWebsite(e)}},Object(k.c)("specify_the_url"))})},a.applyForDelegate=function(){var e=a.state.privateKey;a.setState({modal:y.a.createElement(Q,{isTronLink:a.state.isTronLink,privateKey:e,onCancel:a.hideModal,onConfirm:function(){setTimeout(function(){return a.props.reloadWallet()},1200),a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("success"),onConfirm:a.hideModal},Object(k.c)("successfully_appied_sr_canidate_message_0")," ",y.a.createElement("br",null),Object(k.c)("successfully_appied_sr_canidate_message_1"))})}})})},a.showQrCode=function(){var e=a.props,t=(e.currentWallet,e.account);a.setState({modal:y.a.createElement(M.c,{className:"modal-dialog-centered animated zoomIn",fade:!1,isOpen:!0,toggle:a.hideModal,style:{width:"400px"}},y.a.createElement(M.f,{toggle:a.hideModal},"QR CODE"),y.a.createElement(M.d,{className:"text-center"},y.a.createElement("h5",{className:"py-2"},Object(k.c)("wallet_address")),y.a.createElement("div",{className:"input-group mb-3"},y.a.createElement("input",{type:"text",readOnly:!0,className:"form-control",value:t.address}),y.a.createElement("div",{className:"input-group-append"},y.a.createElement(ve.CopyToClipboard,{text:t.address},y.a.createElement("button",{className:"btn btn-outline-secondary",type:"button"},y.a.createElement("i",{className:"fa fa-paste"}))))),y.a.createElement("hr",null),y.a.createElement(ye.a,{size:512,style:{width:"100%",height:"auto"},value:t.address}),y.a.createElement("br",null)))})},a.toissuedAsset=function(){var e=a.state.issuedAsset;window.location.hash="#/token/"+e.id},a.handleSwitch=function(e){a.setState({hideSmallCurrency:e})},a.handleTRC10Token=function(){a.setState({tokenTRC10:!0,tokenTRX:!1})},a.handleTRC20Token=function(){a.setState({tokenTRC10:!1,tokenTRX:!1})},a.handleTRXToken=function(){a.setState({tokenTRX:!0})},a.closePledgeModel=function(){a.setState({isShowPledgeModal:!1})},a.openPledgeModel=function(e){var t=e.address,n=e.currency,r=e.balance,c=e.precision,s=e.id,l=e.type;a.setState({isShowPledgeModal:!0,address:t,currency:n,balance:r,precision:c,id:s,type:l})},a.closeMappingModal=function(){a.setState({isShowMappingModal:!1})},a.openMappingModal=function(e){a.setState({isShowMappingModal:!0,id:e})},a.closeSignModal=function(){a.setState({isShowSignModal:!1})},a.openSignModal=function(e){var t=a.props,n=(t.account.sunWeb,t.intl);if(a.state.isActivate){var r=e.address,c=e.currency,s=e.balance,l=e.precision,i=e.id,o=e.type;a.setState({isShowSignModal:!0,address:r,currency:c,balance:s,precision:l,id:i,type:o})}else a.setState({isShowSignModal:!1,modal:y.a.createElement(G.a,{error:!0,confirmBtnText:n.formatMessage({id:"confirm"}),confirmBtnBsStyle:"success",onConfirm:a.hideModal,style:{marginLeft:"-240px",marginTop:"-195px"}},Object(k.c)("inactive_MainChain_account"))})},a.isActivateAccount=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.account.sunWeb,n.intl,"ACCOUNT_LEDGER"!==a.props.walletType.type){e.next=8;break}return s=a.props.tronWeb(),e.next=5,s.trx.getUnconfirmedAccount(t);case 5:c=e.sent,e.next=11;break;case 8:return e.next=10,r.mainchain.trx.getUnconfirmedAccount(t);case 10:c=e.sent;case 11:if(!("{}"==JSON.stringify(c))){e.next=14;break}return e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getSideChains=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.loadSideChains,e.next=3,w.a.get("".concat(R.m,"/external/sidechain/getSideChainList"));case 3:n=e.sent,r=n.data,c=r.retCode,s=r.data,"0"===c&&(l=s.chains,t(l));case 6:case"end":return e.stop()}},e)})),a.getFees=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.loadFees,e.next=3,w.a.get("".concat(R.m,"/external/sidechain/getMappingFees"));case 3:n=e.sent,r=n.data,c=r.retCode,s=r.data,"0"===c&&t(s);case 6:case"end":return e.stop()}},e)})),a.getTrx20MappingSideChains=function(){var e=Object(p.a)(d.a.mark(function e(t){var n,r,c,s,l,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,e.next=3,w.a.get("".concat(R.m,"/external/sidechain/getMappingByMainchainAddress?mainchainAddress=").concat(n));case 3:r=e.sent,c=r.data,s=c.retCode,l=c.data,"0"===s&&(i=l.sidechains)&&i.length>0?(a.setState({trx20MappingAddress:i}),a.openPledgeModel(t)):a.openMappingModal();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onChangeBrokerage=function(e){var t=a.props.intl,n=e.target&&e.target.value,r="";n&&(Number(n)>100&&(r="".concat(t.formatMessage({id:"SR_brokerage_save_verify"}))),!new RegExp(/^(?:[1-9]?\d|100)$/).test(n))||a.setState({brokerageValue:n,errorMess:r})},a.brokerageUpdate=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.account,n.currentWallet,c=a.state.brokerageValue,"ACCOUNT_LEDGER"===a.props.walletType.type?t=a.props.tronWeb():"ACCOUNT_TRONLINK"!==a.props.walletType.type&&"ACCOUNT_PRIVATE_KEY"!==a.props.walletType.type||(t=r.tronWeb),s=100-c,e.next=6,t.transactionBuilder.updateBrokerage(s,t.defaultAddress.base58).catch(function(e){return!1});case 6:return l=e.sent,e.next=9,Object(x.c)(l,t);case 9:i=e.sent,o=i.result,o?a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("SR_brokerage_save_result"),onConfirm:a.hideModal},Object(k.c)("successfully_brokerage_save"))}):a.setState({modal:y.a.createElement(G.a,{danger:!0,title:Object(k.c)("could_not_brokerage_save"),onConfirm:a.hideModal},Object(k.c)("brokerage_save_error_message"))});case 13:case"end":return e.stop()}},e)})),a.claimRewards=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i,o,m,u,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.reward){e.next=3;break}return e.abrupt("return");case 3:if(n=a.props,r=n.account,c=n.currentWallet,s=n.walletType,1!==a.state.isTronLink&&"ACCOUNT_LEDGER"!==a.props.walletType.type){e.next=16;break}return"ACCOUNT_LEDGER"===a.props.walletType.type?l=a.props.tronWeb():"ACCOUNT_TRONLINK"===a.props.walletType.type&&(l=r.tronWeb),e.next=8,l.transactionBuilder.withdrawBlockRewards(s.address).catch(function(e){return!1});case 8:return i=e.sent,e.next=11,Object(x.c)(i,l);case 11:o=e.sent,m=o.result,t=m,e.next=22;break;case 16:return e.next=18,P.a.withdrawBalance(c.address)(r.key);case 18:u=e.sent,p=u.success,u.code,t=p;case 22:t?a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("rewards_claimed"),onConfirm:a.hideModal},Object(k.c)("successfully_claimed_rewards"))}):a.setState({modal:y.a.createElement(G.a,{danger:!0,title:Object(k.c)("could_not_claim_rewards"),onConfirm:a.hideModal},Object(k.c)("claim_rewards_error_message"))});case 23:case"end":return e.stop()}},e)})),a.accountClaimRewards=Object(p.a)(d.a.mark(function e(){var t,n,r,c,s,l,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.account,t.currentWallet,r=t.walletType,a.state.reward){e.next=4;break}return e.abrupt("return");case 4:return c="ACCOUNT_LEDGER"===a.props.walletType.type?a.props.tronWeb():n.tronWeb,e.next=7,c.transactionBuilder.withdrawBlockRewards(r.address).catch(function(e){return!1});case 7:return s=e.sent,e.next=10,Object(x.c)(s,c);case 10:l=e.sent,i=l.result,i?a.setState({modal:y.a.createElement(G.a,{success:!0,title:Object(k.c)("rewards_claimed_submitted"),onConfirm:a.hideModal},Object(k.c)("rewards_claimed_hash_await"))}):a.setState({modal:y.a.createElement(G.a,{danger:!0,title:Object(k.c)("could_not_claim_rewards"),onConfirm:a.hideModal},Object(k.c)("claim_rewards_error_message"))});case 14:case"end":return e.stop()}},e)})),a.state={modal:null,showFreezeBalance:!1,showBuyTokens:!1,sr:null,issuedAsset:null,showBandwidth:!1,privateKey:"",temporaryName:"",selectedResource:null,hideSmallCurrency:!1,tokenTRC10:!0,tokens20:[],dealPairTrxLimit:1e5,isTronLink:0,delegateType:0,delegate:!1,delegateValue:"",isShowPledgeModal:!1,isShowMappingModal:!1,isShowSignModal:!1,type:R.o.TRX10,tokenTRX:!1,trx20MappingAddress:[],reward:!1,accountReward:0,errorMess:"",isInMyPermission:!0,isInMySignature:!1,mySignatureType:255},a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n,r,c,s=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.account,t.match,n=t.walletType,t.currentWallet,r="ACCOUNT_PRIVATE_KEY"===n.type||"ACCOUNT_TRONLINK"===n.type,this.setState({isPrivateKey:r}),!a.isLoggedIn){e.next=29;break}return this.setState({isTronLink:U.a.get("islogin")}),this.reloadTokens(),this.loadAccount(),this.getAddressReward(),this.getAddressRewardBok(),"tronlink"==Object(Oe.c)("from")&&"frozen"==Object(Oe.c)("type")&&setTimeout(function(){s.scrollToAnchor()},3e3),"nav"==Object(Oe.c)("from")&&"multisign"==Object(Oe.c)("type")&&this.setState({isInMyPermission:!1,isInMySignature:!0,mySignatureType:10},function(){setTimeout(function(){s.scrollToMultisign(),window.location.hash="#/account"},500)}),e.next=13,this.isActivateAccount(a.address);case 13:if(c=e.sent,this.setState({isActivate:c}),e.t0=r&&!R.w,!e.t0){e.next=19;break}return e.next=19,this.getSideChains();case 19:if(e.t1=r,!e.t1){e.next=23;break}return e.next=23,this.getFees();case 23:return e.next=25,new Promise(function(e){return setTimeout(e,500)});case 25:if(!R.v){e.next=29;break}return e.next=28,this.loadVoteTimer();case 28:this.getSRBrokerage();case 29:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n,r,c,s,l=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.account,r=a.walletType,a.currentWallet,a.location.search!=t.location.search&&"nav"==Object(Oe.c)("from")&&"multisign"==Object(Oe.c)("type")&&this.setState({isInMyPermission:!1,isInMySignature:!0,mySignatureType:10},function(){setTimeout(function(){l.scrollToMultisign(),window.location.hash="#/account"},500)}),!(t.account.isLoggedIn!==n.isLoggedIn&&n.isLoggedIn||t.account.address!==n.address&&n.isLoggedIn)){e.next=27;break}return this.setState({isTronLink:U.a.get("islogin")}),this.reloadTokens(),this.loadAccount(),this.getAddressReward(),this.getAddressRewardBok(),e.next=10,this.isActivateAccount(n.address);case 10:if(c=e.sent,s="ACCOUNT_PRIVATE_KEY"===r.type||"ACCOUNT_TRONLINK"===r.type,this.setState({isPrivateKey:s,isActivate:c}),e.t0=s&&!R.w,!e.t0){e.next=17;break}return e.next=17,this.getSideChains();case 17:if(e.t1=s,!e.t1){e.next=21;break}return e.next=21,this.getFees();case 21:return e.next=23,new Promise(function(e){return setTimeout(e,500)});case 23:if(!R.v){e.next=27;break}return e.next=26,this.loadVoteTimer();case 26:this.getSRBrokerage();case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"changeMySignatureType",value:function(e){this.setState({mySignatureType:e})}},{key:"getNextCycle",value:function(){return this.props.voteTimer}},{key:"getTRC20Tokens",value:function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n,r,c,s=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.account,e.next=3,w.a.get(R.e+"/api/token_trc20?sort=issue_time&start=0&limit=50");case 3:a=e.sent,n=a.data.trc20_tokens,r=this.props.tronWeb(),c=this.props.account.tronWeb,"ACCOUNT_LEDGER"===this.props.walletType.type&&(n&&n.map(function(){var e=Object(p.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.token20_name=t.name+"("+t.symbol+")",e.next=3,r.contract().at(t.contract_address);case 3:return a=e.sent,e.next=6,a.balanceOf(s.props.walletType.address).call();case 6:return(n=e.sent).balance?t.token20_balance=parseFloat(n.balance.toString())/Math.pow(10,t.decimals):t.token20_balance=parseFloat(n.toString())/Math.pow(10,t.decimals),e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.setState({tokens20:n})),"ACCOUNT_TRONLINK"!==this.props.walletType.type&&"ACCOUNT_PRIVATE_KEY"!==this.props.walletType.type||(n&&n.map(function(){var e=Object(p.a)(d.a.mark(function e(a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.token20_name=a.name+"("+a.symbol+")",e.next=3,c.contract().at(a.contract_address);case 3:return n=e.sent,e.next=6,n.balanceOf(t.address).call();case 6:return(r=e.sent).balance?a.token20_balance=Object(ke.a)(r.balance.toString(),a.decimals):a.token20_balance=Object(ke.a)(r.toString(),a.decimals),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.setState({tokens20:n}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderTRC20Tokens",value:function(){var e=this,t=this.state,a=t.hideSmallCurrency,n=t.isPrivateKey,r=this.props.tokens20;if(0===(r=a?_(r).filter(function(e){return e.token20_balance_decimals>=10}).sortBy(function(e){return-e.token20_balance_decimals}).value():_(r).filter(function(e){return e.token20_balance_decimals>0}).sortBy(function(e){return-e.token20_balance_decimals}).value()).length)return y.a.createElement("div",{className:"text-center d-flex justify-content-center p-4"},Object(k.c)("no_tokens"));return y.a.createElement("table",{className:"table mt-3 temp-table"},y.a.createElement("thead",{className:"thead-light"},y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("name")),y.a.createElement("th",{className:"text-right"},Object(k.c)("balance")),n&&y.a.createElement("th",{className:"text-right"},Object(k.c)("trc20_cur_order_header_action")))),y.a.createElement("tbody",null,r.map(function(t){return y.a.createElement("tr",{key:t.token20_name},y.a.createElement("td",{className:"text-nowrap"},t.contract_address==R.j||t.contract_address==R.k||t.contract_address==R.i?y.a.createElement("div",{className:"map-token-top"},y.a.createElement(H.g,{name:t.name,address:t.contract_address,namePlus:t.name+" ("+t.symbol+")"}),y.a.createElement("i",null)):y.a.createElement(H.g,{name:t.name,address:t.contract_address,namePlus:t.name+" ("+t.symbol+")"})),y.a.createElement("td",{className:"text-right"},y.a.createElement("span",null,t.token20_balance)),n&&function(t,a,n,r){var c={address:t,currency:a,balance:n,precision:r,type:R.o.TRX20};return y.a.createElement("td",{className:"text-right"},y.a.createElement("button",{className:"btn btn-danger",onClick:R.w?function(){return e.openSignModal(c)}:function(){return e.getTrx20MappingSideChains(c)}},R.w?Object(k.c)("sidechain_account_sign_btn"):Object(k.c)("sidechain_account_pledge_btn")))}(t.contract_address,t.symbol,t.token20_balance_decimals,t.map_token_precision))})))}},{key:"renderTokens",value:function(){var e=this,t=this.state,a=t.hideSmallCurrency,n=t.isPrivateKey,r=this.props.tokenBalances,c=void 0===r?[]:r;if(0===(c=a?_(c).filter(function(e){return"_"!==e.name.toUpperCase()}).filter(function(e){return e.map_amount>=10}).value():_(c).filter(function(e){return"_"!==e.name.toUpperCase()}).filter(function(e){return e.map_amount>0}).value()).length)return y.a.createElement("div",{className:"text-center d-flex justify-content-center p-4"},Object(k.c)("no_tokens"));return y.a.createElement("table",{className:"table mt-3 temp-table"},y.a.createElement("thead",{className:"thead-light"},y.a.createElement("tr",null,y.a.createElement("th",{width:"40%"},Object(k.c)("name")),y.a.createElement("th",null,"ID"),y.a.createElement("th",null,Object(k.c)("TRC20_decimals")),y.a.createElement("th",{className:"text-right"},Object(k.c)("balance")),n&&y.a.createElement("th",{className:"text-right"},Object(k.c)("trc20_cur_order_header_action")))),y.a.createElement("tbody",null,c.map(function(t){return y.a.createElement("tr",{key:t.name},y.a.createElement("td",{className:"text-nowrap"},1002e3==t.map_token_id?y.a.createElement("div",{className:"map-token-top"},y.a.createElement(H.f,{id:t.map_token_id,name:t.map_token_name+" ("+t.map_token_name_abbr+")",address:t.address}),y.a.createElement("i",null)):y.a.createElement(H.f,{id:t.map_token_id,name:t.map_token_name+" ("+t.map_token_name_abbr+")",address:t.address})),y.a.createElement("td",null,y.a.createElement("div",{className:"tokenBalances_id"},t.map_token_id)),y.a.createElement("td",null,y.a.createElement("div",null,t.map_token_precision)),y.a.createElement("td",{className:"text-right"},y.a.createElement(N.c,{value:t.map_amount,maximumFractionDigits:Number(t.map_token_precision)})),n&&function(t,a,n,r){var c={id:t,currency:a,balance:n,precision:r,type:R.o.TRX10};return y.a.createElement("td",{className:"text-right"},y.a.createElement("button",{className:"btn btn-danger",onClick:R.w?function(){return e.openSignModal(c)}:function(){return e.openPledgeModel(c)}},R.w?Object(k.c)("sidechain_account_sign_btn"):Object(k.c)("sidechain_account_pledge_btn")))}(t.map_token_id,t.map_token_name_abbr,t.map_amount,t.map_token_precision))})))}},{key:"renderTRX",value:function(){var e=this,t=this.state,a=t.hideSmallCurrency,n=t.isPrivateKey,r=this.props.tokenBalances,c=void 0===r?[]:r;if(0===(c=a?_(c).filter(function(e){return"_"===e.name.toUpperCase()}).filter(function(e){return e.map_amount>=10}).value():_(c).filter(function(e){return"_"===e.name.toUpperCase()}).filter(function(e){return e.map_amount>0}).value()).length)return y.a.createElement("div",{className:"text-center d-flex justify-content-center p-4"},Object(k.c)("no_tokens"));return y.a.createElement("table",{className:"table mt-3 temp-table"},y.a.createElement("thead",{className:"thead-light"},y.a.createElement("tr",null,y.a.createElement("th",{width:"40%"},Object(k.c)("name")),y.a.createElement("th",null,"ID"),y.a.createElement("th",null,Object(k.c)("TRC20_decimals")),y.a.createElement("th",{className:"text-right"},Object(k.c)("balance")),n&&y.a.createElement("th",{className:"text-right"},Object(k.c)("trc20_cur_order_header_action")))),y.a.createElement("tbody",null,c.map(function(t){return y.a.createElement("tr",{key:t.name},y.a.createElement("td",{className:"text-nowrap"},1002e3==t.map_token_id?y.a.createElement("div",{className:"map-token-top"},y.a.createElement(H.f,{id:t.map_token_id,name:t.map_token_name+" ("+t.map_token_name_abbr+")",address:t.address}),y.a.createElement("i",null)):y.a.createElement(H.f,{id:t.map_token_id,name:t.map_token_name+" ("+t.map_token_name_abbr+")",address:t.address})),y.a.createElement("td",null,y.a.createElement("div",{className:"tokenBalances_id"},t.map_token_id)),y.a.createElement("td",null,y.a.createElement("div",null,t.map_token_precision)),y.a.createElement("td",{className:"text-right"},y.a.createElement(N.c,{value:t.map_amount,maximumFractionDigits:Number(t.map_token_precision)})),n&&function(t,a,n,r){var c={id:t,currency:a,balance:n,precision:r,type:R.o.TRX};return y.a.createElement("td",{className:"text-right"},y.a.createElement("button",{className:"btn btn-danger",onClick:R.w?function(){return e.openSignModal(c)}:function(){return e.openPledgeModel(c)}},R.w?Object(k.c)("sidechain_account_sign_btn"):Object(k.c)("sidechain_account_pledge_btn")))}(t.map_token_id,t.map_token_name_abbr,t.map_amount,t.map_token_precision))})))}},{key:"renderBandwidth",value:function(){var e=this.props.currentWallet;return y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body px-0 border-0"},y.a.createElement("h5",{className:"card-title text-center m-0"},Object(k.c)("bandwidth"))),y.a.createElement("table",{className:"table m-0"},y.a.createElement("tbody",null,y.a.createElement("tr",null,y.a.createElement("th",{style:{width:200}},Object(k.c)("free_bandwidth")),y.a.createElement("td",null,y.a.createElement("span",{className:"text-primary"},y.a.createElement(N.c,{value:e.bandwidth.freeNetUsed,className:"text-success"}),"\xa0"),"/\xa0",y.a.createElement("span",{className:"text-muted"},y.a.createElement(N.c,{value:e.bandwidth.freeNetLimit})),y.a.createElement("span",{className:"float-right"},Math.ceil(e.bandwidth.freeNetPercentage),"%"),y.a.createElement("div",{className:"progress mt-1"},y.a.createElement("div",{className:"progress-bar bg-primary",style:{width:e.bandwidth.freeNetPercentage+"%"}})))),y.a.createElement("tr",null,y.a.createElement("th",{style:{width:200}},Object(k.c)("bandwidth")),y.a.createElement("td",null,y.a.createElement("span",{className:"text-primary"},y.a.createElement(N.c,{value:e.bandwidth.netUsed,className:"text-primary"}),"\xa0"),"/\xa0",y.a.createElement("span",{className:"text-muted"},y.a.createElement(N.c,{value:e.bandwidth.netLimit})),y.a.createElement("span",{className:"float-right"},Math.ceil(e.bandwidth.netPercentage),"%"),y.a.createElement("div",{className:"progress mt-1"},y.a.createElement("div",{className:"progress-bar bg-primary",style:{width:e.bandwidth.netPercentage+"%"}})))),Object.keys(e.bandwidth.assets).length>0&&y.a.createElement("tr",null,y.a.createElement("td",{className:"bg-light text-center",colSpan:2},"Tokens")),Object.entries(e.bandwidth.assets).map(function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return y.a.createElement("tr",null,y.a.createElement("th",{style:{width:200}},a),y.a.createElement("td",null,y.a.createElement("span",{className:"text-primary"},y.a.createElement(N.c,{value:n.netUsed,className:"text-primary"}),"\xa0"),"/\xa0",y.a.createElement("span",{className:"text-muted"},y.a.createElement(N.c,{value:n.netLimit})),y.a.createElement("span",{className:"float-right"},Math.ceil(n.netPercentage),"%"),y.a.createElement("div",{className:"progress mt-1"},y.a.createElement("div",{className:"progress-bar bg-primary",style:{width:n.netPercentage+"%"}}))))}))))))}},{key:"renderFrozenTokens",value:function(){var e=this,t=this.props,a=t.frozen,n=t.accountResource,r=t.delegated,c=(t.account,0);if(r&&r.receivedDelegatedBandwidth)for(var s=0;s<r.receivedDelegatedBandwidth.length;s++)c+=r.receivedDelegatedBandwidth[s].frozen_balance_for_bandwidth;var l=0;a.balances.length>0&&(l=a.balances[0].amount);var i=0;if(r&&r.receivedDelegatedResource)for(var o=0;o<r.receivedDelegatedResource.length;o++)i+=r.receivedDelegatedResource[o].frozen_balance_for_energy;var m=0;return n.frozen_balance>0&&(m=n.frozen_balance),0===m&&0===l&&0===c&&0===i?null:y.a.createElement("div",{style:{overflow:"auto"}},y.a.createElement("h5",null,Object(k.c)("my_account")),y.a.createElement("table",{className:"table m-0 temp-table"},y.a.createElement("thead",{className:"thead-light"},y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("freeze_type")),y.a.createElement("th",null,Object(k.c)("delegate_other")),y.a.createElement("th",null,Object(k.c)("freeze_self")),y.a.createElement("th",null,Object(k.c)("total_amount")),y.a.createElement("th",{className:"text-right"},Object(k.c)("unfreeze_time")),y.a.createElement("th",null))),y.a.createElement("tbody",null,(a.balances.length>0||r&&r.receivedDelegatedBandwidth&&r.receivedDelegatedBandwidth.length>0)&&y.a.createElement("tr",null,y.a.createElement("td",null,Object(k.c)("bandwidth")),y.a.createElement("td",null,y.a.createElement(C.b,{amount:c/R.E})),y.a.createElement("td",null,y.a.createElement(C.b,{amount:l/R.E})),y.a.createElement("td",null,y.a.createElement(C.b,{amount:(c+l)/R.E})),a.balances.length>0?y.a.createElement("td",{className:"text-right"},y.a.createElement("span",{className:"mr-1"},Object(k.c)("After")),y.a.createElement(N.a,{value:a.balances[0].expires}),"\xa0",y.a.createElement(N.e,{value:a.balances[0].expires,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})):y.a.createElement("td",null),y.a.createElement("td",{className:"text-right"},0!==l&&y.a.createElement("button",{className:"btn btn-danger mr-2",style:{marginTop:"-5px",marginBottom:"-5px"},onClick:function(){e.showUnfreezeModal(0,!1,"")}},Object(k.c)("unfreeze")))),(n.frozen_balance>0||r&&r.receivedDelegatedResource&&r.receivedDelegatedResource.length>0)&&y.a.createElement("tr",null,y.a.createElement("td",null,Object(k.c)("energy")),y.a.createElement("td",null,y.a.createElement(C.b,{amount:i/R.E})),y.a.createElement("td",null,y.a.createElement(C.b,{amount:m/R.E})),y.a.createElement("td",null,y.a.createElement(C.b,{amount:(m+i)/R.E})),n.frozen_balance>0?y.a.createElement("td",{className:"text-right"},y.a.createElement("span",{className:"mr-1"},Object(k.c)("After")),y.a.createElement(N.a,{value:n.expire_time}),"\xa0",y.a.createElement(N.e,{value:n.expire_time,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})):y.a.createElement("td",null),y.a.createElement("td",{className:"text-right"},0!==m&&y.a.createElement("button",{className:"btn btn-danger mr-2",style:{marginTop:"-5px",marginBottom:"-5px"},onClick:function(){e.showUnfreezeModal(1,!1,"")}},Object(k.c)("unfreeze")))))))}},{key:"renderDelegateFrozenTokens",value:function(){var e=this,t=this.props,a=(t.frozen,t.accountResource,t.account,t.delegated);return!a||a&&a.sentDelegatedBandwidth&&0===a.sentDelegatedBandwidth.length&&a&&a.sentDelegatedResource&&0===a.sentDelegatedResource.length?null:y.a.createElement("div",{style:{overflow:"auto"}},y.a.createElement("h5",{style:{marginTop:"10px"}},Object(k.c)("delegate_list")),y.a.createElement("table",{className:"table m-0 temp-table"},y.a.createElement("thead",{className:"thead-light"},y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("receive_list")),y.a.createElement("th",null,Object(k.c)("type")),y.a.createElement("th",null,Object(k.c)("amount")),y.a.createElement("th",{className:"text-right"},Object(k.c)("unfreeze_time")),y.a.createElement("th",null))),y.a.createElement("tbody",null,a&&a.sentDelegatedBandwidth&&a.sentDelegatedBandwidth.map(function(t,a){return y.a.createElement("tr",{key:a},y.a.createElement("td",null,y.a.createElement(H.a,{address:t.to,truncate:!1},y.a.createElement("span",{className:"color-tron-100"},t.to))),y.a.createElement("td",null,Object(k.c)("bandwidth")),y.a.createElement("td",null,y.a.createElement(C.b,{amount:t.frozen_balance_for_bandwidth/R.E})),y.a.createElement("td",{className:"text-right"},y.a.createElement("span",{className:"mr-1"},Object(k.c)("After")),y.a.createElement(N.a,{value:t.expire_time_for_bandwidth}),"\xa0",y.a.createElement(N.e,{value:t.expire_time_for_bandwidth,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})),y.a.createElement("td",{className:"text-right"},y.a.createElement("button",{className:"btn btn-danger mr-2",style:{marginTop:"-5px",marginBottom:"-5px"},onClick:function(){e.showUnfreezeModal(0,!0,t.to)}},Object(k.c)("unfreeze"))))}),a&&a.sentDelegatedResource&&a.sentDelegatedResource.map(function(t,a){return y.a.createElement("tr",{key:a},y.a.createElement("td",null,y.a.createElement(H.a,{address:t.to,truncate:!1},y.a.createElement("span",{className:"color-tron-100"},t.to))),y.a.createElement("td",null,Object(k.c)("energy")),y.a.createElement("td",null,y.a.createElement(C.b,{amount:t.frozen_balance_for_energy/R.E})),y.a.createElement("td",{className:"text-right"},y.a.createElement("span",{className:"mr-1"},Object(k.c)("After")),y.a.createElement(N.a,{value:t.expire_time_for_energy}),"\xa0",y.a.createElement(N.e,{value:t.expire_time_for_energy,hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})),y.a.createElement("td",{className:"text-right"},y.a.createElement("button",{className:"btn btn-danger mr-2",style:{marginTop:"-5px",marginBottom:"-5px"},onClick:function(){e.showUnfreezeModal(1,!0,t.to)}},Object(k.c)("unfreeze"))))}))))}},{key:"renderTransactions",value:function(){var e=this.props,t=e.currentWallet,a=e.account;return y.a.createElement(pe.a,{theadClass:"thead-light",showTotal:!1,autoRefresh:3e4,pagingProps:{showPageSize:!1},EmptyState:function(){return y.a.createElement("p",{className:"text-center"},"No transactions yet")},filter:{address:Object(he.isAddressValid)(t.address)?t.address:a.address},page:{router:"account"},address:!0})}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.modal,r=a.sr,s=a.issuedAsset,i=a.showBandwidth,o=(a.showBuyTokens,a.temporaryName),u=(a.hideSmallCurrency,a.tokenTRC10),d=a.isShowPledgeModal,p=a.isShowMappingModal,h=a.address,f=a.currency,b=a.balance,g=a.precision,E=a.id,v=a.type,_=a.isShowSignModal,x=a.tokenTRX,j=a.trx20MappingAddress,w=a.brokerageValue,A=a.errorMess,M=a.reward,P=(a.rewardData,a.accountReward),B=a.isInMyPermission,I=a.isInMySignature,D=a.mySignatureType,z=this.props,L=z.account,W=z.frozen,U=z.totalTransactions,F=z.currentWallet,V=z.wallet,K=z.accountResource,X=z.trxBalance,G=z.intl,q=F&&F.bandwidth.energyRemaining,Y=F&&F.balance/R.E;e="ACCOUNT_LEDGER"===V.type?this.props.tronWeb():L.tronWeb;var Q={address:h,currency:f,balance:b,precision:g,id:E,type:v,trx20MappingAddress:j,energyRemaining:q,trxBalanceRemaining:Y};if(!V.isOpen||!F)return y.a.createElement("main",{className:"container header-overlap"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card p-3"},y.a.createElement("h5",{className:"text-muted text-center"},Object(k.c)("no_open_wallet"))))));W.balances.length,K.frozen_balance;return"zh"==G.locale&&("https://support.poloniex.org/hc/zh-cn/articles/360030644412-TRXMarket%E5%8A%A9%E5%8A%9BTRC20-USDT%E9%87%8D%E8%A3%85%E4%B8%8A%E9%98%B5-%E6%83%8A%E5%96%9C%E6%94%BE%E9%80%8110%E4%B8%87%E4%BA%BA%E6%B0%91%E5%B8%81","Poloni DEX-USDT\u91cd\u88c5\u4e0a\u9635\uff0c\u60ca\u559c\u653e\u900110\u4e07\u4eba\u6c11\u5e01"),y.a.createElement("main",{className:"container header-overlap token_black accounts"},n,y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-3"},y.a.createElement("div",{className:"card h-100 bg-line_red bg-image_band"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h3",{style:{color:"#C23631"}},y.a.createElement(N.c,{value:F.bandwidth.netRemaining+F.bandwidth.freeNetRemaining})),Object(k.c)("bandwidth"),y.a.createElement("span",{className:"ml-2"},y.a.createElement(fe.a,{placement:"top",text:"bandwidth_tip"}))))),y.a.createElement("div",{className:"col-md-3 mt-3 mt-md-0"},y.a.createElement("div",{className:"card h-100 bg-line_blue bg-image_engry"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h3",{style:{color:"#4A90E2"}},y.a.createElement(N.c,{value:F.bandwidth.energyRemaining<0?0:F.bandwidth.energyRemaining})),Object(k.c)("energy"),y.a.createElement("span",{className:"ml-2"},y.a.createElement(fe.a,{placement:"top",text:"energy_tip"}))))),y.a.createElement("div",{className:"col-md-3 mt-3 mt-md-0"},y.a.createElement("div",{className:"card h-100 bg-line_yellow bg-image_vote"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h3",{style:{color:"#E0AE5C"}},y.a.createElement(N.c,{value:F.frozenTrx/R.E})),"TRON ",Object(k.c)("power"),y.a.createElement("span",{className:"ml-2"},y.a.createElement(fe.a,{placement:"top",text:"power_tip"}))))),y.a.createElement("div",{className:"col-md-3 mt-3 mt-md-0"},y.a.createElement("div",{className:"card h-100 bg-line_green bg-image_balance"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h3",{style:{color:"#93C54B"}},y.a.createElement(C.b,{amount:F.balance/R.E})),Object(k.c)("available_balance"))))),i&&this.renderBandwidth(),y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card px-3"},F.representative.enabled&&y.a.createElement("div",{className:"card-header bg-info text-center font-weight-bold text-white"},"Representative"),y.a.createElement("div",{className:"table-responsive"},y.a.createElement("table",{className:"table m-0"},y.a.createElement("tbody",null,V.isOpen&&y.a.createElement("tr",null,y.a.createElement("th",{style:{border:"none"}},Object(k.c)("name"),":"),y.a.createElement("td",{style:{border:"none"}},F.name||o||"-",""===m()(F.name)&&(F.balance>0||F.frozenTrx>0)&&y.a.createElement("a",{href:"javascript:",className:"float-right text-primary btn btn-default btn-sm",onClick:function(){t.changeName()}},Object(k.c)("set_name")))),F.representative.enabled&&y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("website"),":"),y.a.createElement("td",null,y.a.createElement("a",{href:F.representative.url},F.representative.url),y.a.createElement("a",{href:"javascript:",className:"float-right text-primary btn btn-default btn-sm",onClick:function(){t.changeWebsite()}},Object(k.c)("change_website")))),y.a.createElement("tr",null,y.a.createElement("th",{style:{width:150}},Object(k.c)("address"),":"),y.a.createElement("td",null,y.a.createElement("a",{href:"javascript:",className:"float-right text-primary btn btn-default btn-sm",onClick:this.showQrCode},Object(k.c)("show_qr_code")),y.a.createElement("div",{className:"float-left",style:{width:350}},y.a.createElement(H.a,{address:L.address,includeCopy:!0})),R.x&&y.a.createElement("p",{className:"text-danger"},"(",Object(k.c)("do_not_send_2"),")"))),y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("transactions"),":"),y.a.createElement("td",null,y.a.createElement(N.c,{value:U})," Txns")),!F.representative.enabled&&R.v&&y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("SR_vote_for_reward"),":"),y.a.createElement("td",null,y.a.createElement(C.b,{amount:P/R.E,className:"font-weight-bold"}),0==P?y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("no_rewards_available_yet"))},y.a.createElement("a",{href:"javascript:;",className:"float-right text-primary btn btn-default btn-sm accont_reward_disabled"},Object(k.c)("SR_receive_award_btn"))):y.a.createElement(l.a,{title:M?"":y.a.createElement("span",null,Object(k.c)("SR_receive_award_tip1"),Object(k.c)("SR_receive_award_tip2"))},y.a.createElement("a",{href:"javascript:;",className:"float-right text-primary btn btn-default btn-sm"+(M?"":" accont_reward_disabled"),onClick:this.accountClaimRewards},Object(k.c)("SR_receive_award_btn"))))))))))),!R.w&&y.a.createElement(nt,Object.assign({},this.props,{issuedAsset:s,loadAccount:this.loadAccount,unfreezeAssetsConfirmation:this.unfreezeAssetsConfirmation})),!1,y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body temp-table"},y.a.createElement("div",{className:"d-flex justify-content-between account-switch"},y.a.createElement("h5",{className:"card-title text-center m-0"},Object(k.c)("tokens")),y.a.createElement(T.a,{handleSwitch:this.handleSwitch,text:"hide_small_currency",hoverText:"tokens_less_than_10"})),y.a.createElement("div",{className:"account-token-tab"},y.a.createElement("a",{href:"javascript:;",className:"btn btn-default btn-sm"+(u&&!x?" active":""),onClick:this.handleTRC10Token},Object(k.c)("TRC10_token")),y.a.createElement("a",{href:"javascript:;",className:"btn btn-default btn-sm ml-2"+(u||x?"":" active"),onClick:this.handleTRC20Token},Object(k.c)("TRC20_token")),y.a.createElement("a",{href:"javascript:;",className:"btn btn-default btn-sm ml-2"+(x?" active":""),onClick:this.handleTRXToken},"TRX"),R.v?y.a.createElement("a",{href:"https://poloniex.org",className:"ml-2 float-right",target:"_blank"},y.a.createElement("span",{className:"mr-1",style:{textDecoration:"underline"}},Object(k.b)("Trade_on_Poloni DEX")),">"):""),u&&!x?y.a.createElement("div",{className:"table-responsive-token"},this.renderTokens()):x?y.a.createElement("div",{className:"table-responsive-token"},this.renderTRX()):y.a.createElement("div",{className:"table-responsive-token"},this.renderTRC20Tokens()))))),!R.w&&y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body"},y.a.createElement("div",{className:"d-flex justify-content-between trade_pair_title"},y.a.createElement("h5",{className:"card-title text-center"},Object(k.c)("my_trading_pairs"),Object(k.c)("deal_pair_tip")),y.a.createElement("p",{className:"card-text"},y.a.createElement("a",{href:"javascript:;",style:{color:"#c23631"},className:X>=this.state.dealPairTrxLimit?"btn btn-default btn-sm btn-plus-square":"float-right btn btn-default btn-sm btn-plus-square disabled",onClick:function(){t.changeTxnPair()}},y.a.createElement("i",{className:"fa fa-plus-square"}),"\xa0",Object(k.c)("create_trading_pairs")))),y.a.createElement("div",{style:{overflowX:"auto"}},y.a.createElement("table",{className:"table m-0 temp-table mt-4"},y.a.createElement("thead",{className:"thead-light"},y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("pairs")),y.a.createElement("th",null,Object(k.c)("balance")),y.a.createElement("th",{className:"text-right"}))),y.a.createElement("tbody",null,F.exchanges?F.exchanges.map(function(e,a){return y.a.createElement("tr",{key:a},y.a.createElement("td",{style:{position:"relative"}},"_"===e.map_token_name?"TRX":e.map_token_name,"/","_"===e.map_token_name1?"TRX":e.map_token_name1,y.a.createElement("div",{style:{fontSize:12,color:"#999",position:"absolute",bottom:0}},"[ID:",e.map_token_id,"]")),y.a.createElement("td",null,y.a.createElement(N.c,{value:e.map_amount}),"/",y.a.createElement(N.c,{value:e.map_amount1})),y.a.createElement("td",{className:"text-right",style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},y.a.createElement("div",{className:"dex-inject",style:{whiteSpace:"nowrap"},onClick:function(){t.injectTxnPair(e)}},Object(k.c)("capital_injection")),"|",y.a.createElement("div",{className:"dex-divestment",style:{whiteSpace:"nowrap"},onClick:function(){t.withdrawTxnPair(e)}},Object(k.c)("capital_withdrawal"))))}):y.a.createElement("tr",null,y.a.createElement("td",null),y.a.createElement("td",null,Object(k.c)("no_pairs")),y.a.createElement("td",null))))))))),y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body temp-table"},y.a.createElement("h5",{className:"card-title text-center m-0"},Object(k.c)("transactions")),this.renderTransactions())))),y.a.createElement("div",{className:"row mt-3",id:"tronPower"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h5",{className:"card-title text-center m-0"},"TRON ",Object(k.c)("power")),y.a.createElement("div",{className:"card-body px-0 d-lg-flex justify-content-lg-between"},y.a.createElement("p",{className:"card-text freeze-trx-premessage"},Object(k.c)("freeze_trx_premessage_0"),y.a.createElement(S.a,{to:"/sr/votes"},Object(k.b)("freeze_trx_premessage_link")),Object(k.c)("freeze_trx_gain_bandwith_energy"),y.a.createElement("br",null),y.a.createElement("br",null),Object(k.c)("freeze_trx_premessage_1"),y.a.createElement("br",null),y.a.createElement("br",null),Object(k.c)("freeze_trx_premessage_2")),y.a.createElement("div",null,y.a.createElement("button",{className:"btn btn-primary",onClick:function(){t.showFreezeBalance()}},Object(k.c)("freeze")))),this.renderFrozenTokens(),this.renderDelegateFrozenTokens())))),R.v&&y.a.createElement("div",{className:"row mt-3",id:"tronMultisign"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h5",{className:"card-title text-center m-0"},Object(k.c)("muti_sign")),y.a.createElement("div",{className:"account-muti-sign-tab"},y.a.createElement("a",{href:"javascript:;",className:"btn btn-tap btn-default btn-sm "+(B?" active":""),onClick:function(){return t.setState({isInMyPermission:!0,isInMySignature:!1})}},Object(k.c)("signature_my_authrity")),y.a.createElement("a",{href:"javascript:;",className:"btn btn-tap btn-default btn-sm ml-2 "+(I?"active":""),onClick:function(){return t.setState({isInMyPermission:!1,isInMySignature:!0})}},Object(k.c)("signature_my")),y.a.createElement("div",{className:"muti-sign-content"},y.a.createElement("div",{className:"muti-sign-my-permission",style:{display:B?"block":"none"}},y.a.createElement(ua,{tronWeb:e})),y.a.createElement("div",{className:"muti-sign-my-signature",style:{display:I?"block":"none"}},y.a.createElement(Rt,{type:D,handleType:this.changeMySignatureType.bind(this)})))))))),F.representative.enabled&&R.v&&y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h5",{className:"card-title text-center"},Object(k.c)("Super Representatives")),y.a.createElement("p",{className:"card-text"},Object(k.c)("sr_receive_reward_message_0")),y.a.createElement("div",{className:"table-responsive"},y.a.createElement("table",{className:"table m-0"+(O.a?" SR_set_brokerage":"")},y.a.createElement("tbody",null,y.a.createElement("tr",null,y.a.createElement("th",{style:{border:"none",width:"30%",paddingLeft:0}},y.a.createElement("span",{className:"SR_brokerage_line_height"},Object(k.c)("SR_set_brokerage"),"\uff1a"),y.a.createElement("span",{className:"ml-1 SR_brokerage_save_tip"},y.a.createElement(fe.a,{placement:"top",text:"SR_brokerage_save_tip"}))),y.a.createElement("td",{style:{border:"none",paddingRight:0}},y.a.createElement("div",{className:"d-inline-block",style:{width:"30%",paddingRight:0}},y.a.createElement("div",{className:"d-flex"},y.a.createElement(c.a,{value:w,onChange:this.onChangeBrokerage}),y.a.createElement("span",{className:"ml-2 SR_brokerage_line_height"},"%")),A?y.a.createElement("span",{className:"mt-1",style:{color:"red",display:"block",position:"absolute"}},A):""),y.a.createElement("div",{className:"d-inline-block ml-5"},y.a.createElement("span",null,Object(k.c)("countdown_to_voting"),"\uff1a"),y.a.createElement(dt.a,{date:this.getNextCycle(),daysInHours:!0,onComplete:function(){t.loadVoteTimer()}})),y.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){t.brokerageUpdate()},disabled:""!==A&&""!==w},Object(k.c)("SR_brokerage_save")))),y.a.createElement("tr",null,y.a.createElement("th",{style:{border:"none",width:"30%",paddingLeft:0}},y.a.createElement("span",null,Object(k.c)("claim_rewards"),"\uff1a")),y.a.createElement("td",{style:{border:"none",paddingRight:0}},y.a.createElement("span",{className:"d-inline-block",style:{width:"50%",paddingRight:0}},y.a.createElement(C.b,{amount:F.representative.allowance/R.E,className:"font-weight-bold"}),"\xa0 ",Object(k.c)("SR_reward_available")),0==F.representative.allowance?y.a.createElement(l.a,{title:y.a.createElement("span",null,Object(k.c)("no_rewards_available_yet"))},y.a.createElement("button",{className:"btn btn-success float-right claim_rewards_btn",disabled:0===F.representative.allowance||!M},Object(k.c)("claim_rewards"))):y.a.createElement(l.a,{title:M?"":y.a.createElement("span",null,Object(k.c)("SR_receive_award_tip1"),Object(k.c)("SR_receive_award_tip2"))},y.a.createElement("button",{className:"btn btn-success float-right"+(M?"":" claim_rewards_btn"),onClick:function(){t.claimRewards()},disabled:0===F.representative.allowance||!M},Object(k.c)("claim_rewards")))))))),y.a.createElement("hr",null),y.a.createElement("h5",{className:"card-title text-center"},Object(k.c)("landing_page")),y.a.createElement("div",{className:"d-flex"},y.a.createElement("p",{className:"card-text SR_brokerage_line_height flex-1"},Object(k.c)("create_sr_landing_page_message_0")),y.a.createElement("p",{className:"float-right"},y.a.createElement(H.e,{className:"btn btn-success",href:"https://github.com/tronscan/tronsr-template#readme"},Object(k.c)("SR_set_github_learn_more"))))),this.hasGithubLink()&&y.a.createElement("table",{className:"table m-0"},y.a.createElement("tbody",null,y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("Github Link"),":"),y.a.createElement("td",null,y.a.createElement(H.e,{href:"http://github.com/"+r.githubLink,target:"_blank"},"http://github.com/"+r.githubLink),y.a.createElement("a",{href:"javascript:;",className:"float-right text-primary",onClick:function(){t.changeGithubURL()}},Object(k.c)("Change Github Link")))),y.a.createElement("tr",null,y.a.createElement("th",null,Object(k.c)("Representative Page")),y.a.createElement("td",null,y.a.createElement(S.a,{className:"text-primary",to:"/representative/".concat(F.address)},"View")))))))),!F.representative.enabled&&y.a.createElement("div",{className:"row mt-3"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement("div",{className:"card"},y.a.createElement("div",{className:"card-body"},y.a.createElement("h5",{className:"card-title text-center m-0"},Object(k.c)("Super Representatives")),y.a.createElement("p",{className:"pt-3"},Object(k.c)("apply_for_delegate_predescription_1")),y.a.createElement("p",{className:"pt-1"},Object(k.c)("apply_for_delegate_predescription_2")),y.a.createElement("p",{className:"pt-1"},Object(k.c)("apply_for_delegate_predescription_3")),y.a.createElement("div",{className:"text-center"},!R.x&&y.a.createElement("button",{className:"apply-super-btn btn btn-success",onClick:function(){t.applyForDelegate()}},Object(k.c)("apply_super_representative_candidate"))))))),d&&y.a.createElement(st,{onCancel:this.closePledgeModel,option:Q}),p&&y.a.createElement(It,{onCancel:this.closeMappingModal}),_&&y.a.createElement(Ft,{onCancel:this.closeSignModal,option:Q}))}}]),t}(v.Component))||ma)||ma)||ma}}]);