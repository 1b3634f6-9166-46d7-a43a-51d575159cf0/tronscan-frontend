(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{3573:function(e,t,a){"use strict";a.r(t);var n=a(38),l=a.n(n),c=a(8),r=a(101),s=a(15),i=a(14),o=a(21),m=a(20),d=a(0),u=a.n(d),b=a(17),p=a(3),E=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).hideModal=function(){n.setState({modal:null})},n.isValid=function(e,t){var a=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e),n=!isNaN(parseInt(t,10))&&0<t;return a&&n},n.stopListening=function(){n.listener&&n.listener.close(),n.setState({active:!1,logs:[]})},n.testNode=function(e){n.listener&&n.listener.close(),n.listener=Object(b.d)("/nodetest-"+e,{query:{ip:e}}),n.listener.on("connect",function(){n.setState({active:!0})}),n.listener.on("node-status",function(e){n.setState(function(t){return{logs:[Object(c.a)({},e,{id:n.id++})].concat(Object(r.a)(t.logs.slice(0,9)))}})})},n.setPort=function(e){var t=l()(e.target.value);""!==t&&(t=parseInt(t,10),t=isNaN(t)?0:t),n.setState({port:t})},n.id=0,n.listener=null,n.state={ip:"",port:50051,active:!1,logs:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.close()}},{key:"render",value:function(){var e=this,t=this.state,a=t.ip,n=t.port,l=t.modal,c=t.active,r=t.logs;return u.a.createElement("main",{className:"container header-overlap _tester"},l,u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-body"},u.a.createElement("h5",{className:"card-title text-left"},Object(p.c)("node_tester"),u.a.createElement("span",{className:"_tester_msg"},Object(p.c)("node_tester_msg"))),u.a.createElement("div",{className:"text-left"},u.a.createElement("span",null,"IP")),u.a.createElement("input",{className:"form-control text-left",type:"text",placeholder:"123.123.123.123",value:a,onChange:function(t){return e.setState({ip:t.target.value})}}),u.a.createElement("br",null),u.a.createElement("div",{className:"text-left"},u.a.createElement("span",null,"Port")),u.a.createElement("input",{className:"form-control text-left",type:"text",placeholder:"50051",value:n,onChange:this.setPort}),u.a.createElement("div",{className:"text-left"},c?u.a.createElement("button",{className:"btn",onClick:function(){return e.stopListening()}},Object(p.c)("node_tester_stop")):u.a.createElement("button",{className:"btn",disabled:!this.isValid(a,n),onClick:function(){return e.testNode(a+":"+n)}},Object(p.c)("node_tester_test"))))),c&&0===r.length&&u.a.createElement("div",{className:"card mt-3"},u.a.createElement("table",{className:"table table-hover table-striped bg-white m-0"},u.a.createElement("thead",{className:"thead-dark"},u.a.createElement("tr",{align:"center"},u.a.createElement("th",null,Object(p.c)("connection_node")))),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{align:"center"},Object(p.c)("loading")))))),0<r.length&&u.a.createElement("div",{className:"card mt-3"},u.a.createElement("table",{className:"table table-hover table-striped bg-white m-0"},u.a.createElement("thead",{className:"thead-dark"},u.a.createElement("tr",null,u.a.createElement("th",null,Object(p.c)("message")),u.a.createElement("th",{style:{width:200}},Object(p.c)("node_tester_rt")))),u.a.createElement("tbody",null,r.map(function(e){return u.a.createElement("tr",{key:e.id},u.a.createElement("td",null,e.msg),u.a.createElement("td",null,e.responseTime," ms"))})))))}}]),a}(d.Component);t.default=E}}]);